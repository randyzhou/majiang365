(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Oe={};function nn(e){Oe.context=e}function ns(){return{...Oe.context,id:`${Oe.context.id}${Oe.context.count++}-`,count:0}}const rs=(e,r)=>e===r,ar=Symbol("solid-track"),Gt={equals:rs};let ur=pr;const at=1,Zt=2,cr={owned:null,cleanups:null,context:null,owner:null};var Be=null;let yt=null,Ae=null,Te=null,Ve=null,ln=0;function vt(e,r){const t=Ae,n=Be,s=e.length===0,i=s?cr:{owned:null,cleanups:null,context:null,owner:r||n},o=s?e:()=>e(()=>ht(()=>un(i)));Be=i,Ae=null;try{return At(o,!0)}finally{Ae=t,Be=n}}function j(e,r){r=r?Object.assign({},Gt,r):Gt;const t={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},n=s=>(typeof s=="function"&&(s=s(t.value)),fr(t,s));return[hr.bind(t),n]}function E(e,r,t){const n=an(e,r,!1,at);Nt(n)}function ze(e,r,t){ur=os;const n=an(e,r,!1,at);n.user=!0,Ve?Ve.push(n):Nt(n)}function dr(e,r,t){t=t?Object.assign({},Gt,t):Gt;const n=an(e,r,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,Nt(n),hr.bind(n)}function ht(e){let r,t=Ae;return Ae=null,r=e(),Ae=t,r}function ft(e,r,t){const n=Array.isArray(e);let s,i=t&&t.defer;return o=>{let l;if(n){l=Array(e.length);for(let h=0;h<e.length;h++)l[h]=e[h]()}else l=e();if(i){i=!1;return}const a=ht(()=>r(l,s,o));return s=l,a}}function yr(e){return Be===null||(Be.cleanups===null?Be.cleanups=[e]:Be.cleanups.push(e)),e}function hr(){const e=yt;if(this.sources&&(this.state||e))if(this.state===at||e)Nt(this);else{const r=Te;Te=null,At(()=>Wt(this),!1),Te=r}if(Ae){const r=this.observers?this.observers.length:0;Ae.sources?(Ae.sources.push(this),Ae.sourceSlots.push(r)):(Ae.sources=[this],Ae.sourceSlots=[r]),this.observers?(this.observers.push(Ae),this.observerSlots.push(Ae.sources.length-1)):(this.observers=[Ae],this.observerSlots=[Ae.sources.length-1])}return this.value}function fr(e,r,t){let n=e.value;return(!e.comparator||!e.comparator(n,r))&&(e.value=r,e.observers&&e.observers.length&&At(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=yt&&yt.running;o&&yt.disposed.has(i),(o&&!i.tState||!o&&!i.state)&&(i.pure?Te.push(i):Ve.push(i),i.observers&&gr(i)),o||(i.state=at)}if(Te.length>1e6)throw Te=[],new Error},!1)),r}function Nt(e){if(!e.fn)return;un(e);const r=Be,t=Ae,n=ln;Ae=Be=e,ss(e,e.value,n),Ae=t,Be=r}function ss(e,r,t){let n;try{n=e.fn(r)}catch(s){e.pure&&(e.state=at),vr(s)}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?fr(e,n):e.value=n,e.updatedAt=t)}function an(e,r,t,n=at,s){const i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:Be,context:null,pure:t};return Be===null||Be!==cr&&(Be.owned?Be.owned.push(i):Be.owned=[i]),i}function Xt(e){const r=yt;if(e.state===0||r)return;if(e.state===Zt||r)return Wt(e);if(e.suspense&&ht(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ln);)(e.state||r)&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===at||r)Nt(e);else if(e.state===Zt||r){const s=Te;Te=null,At(()=>Wt(e,t[0]),!1),Te=s}}function At(e,r){if(Te)return e();let t=!1;r||(Te=[]),Ve?t=!0:Ve=[],ln++;try{const n=e();return is(t),n}catch(n){Te||(Ve=null),vr(n)}}function is(e){if(Te&&(pr(Te),Te=null),e)return;const r=Ve;Ve=null,r.length&&At(()=>ur(r),!1)}function pr(e){for(let r=0;r<e.length;r++)Xt(e[r])}function os(e){let r,t=0;for(r=0;r<e.length;r++){const n=e[r];n.user?e[t++]=n:Xt(n)}for(Oe.context&&nn(),r=0;r<t;r++)Xt(e[r])}function Wt(e,r){const t=yt;e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];s.sources&&(s.state===at||t?s!==r&&Xt(s):(s.state===Zt||t)&&Wt(s,r))}}function gr(e){const r=yt;for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];(!n.state||r)&&(n.state=Zt,n.pure?Te.push(n):Ve.push(n),n.observers&&gr(n))}}function un(e){let r;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();n<s.length&&(i.sourceSlots[o]=n,s[n]=i,t.observerSlots[n]=o)}}if(e.owned){for(r=0;r<e.owned.length;r++)un(e.owned[r]);e.owned=null}if(e.cleanups){for(r=0;r<e.cleanups.length;r++)e.cleanups[r]();e.cleanups=null}e.state=0,e.context=null}function ls(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function vr(e){throw e=ls(e),e}const rn=Symbol("fallback");function Kt(e){for(let r=0;r<e.length;r++)e[r]()}function as(e,r,t={}){let n=[],s=[],i=[],o=0,l=r.length>1?[]:null;return yr(()=>Kt(i)),()=>{let a=e()||[],h,f;return a[ar],ht(()=>{let y=a.length,p,c,u,d,v,_,N,x,A;if(y===0)o!==0&&(Kt(i),i=[],n=[],s=[],o=0,l&&(l=[])),t.fallback&&(n=[rn],s[0]=vt(D=>(i[0]=D,t.fallback())),o=1);else if(o===0){for(s=new Array(y),f=0;f<y;f++)n[f]=a[f],s[f]=vt(g);o=y}else{for(u=new Array(y),d=new Array(y),l&&(v=new Array(y)),_=0,N=Math.min(o,y);_<N&&n[_]===a[_];_++);for(N=o-1,x=y-1;N>=_&&x>=_&&n[N]===a[x];N--,x--)u[x]=s[N],d[x]=i[N],l&&(v[x]=l[N]);for(p=new Map,c=new Array(x+1),f=x;f>=_;f--)A=a[f],h=p.get(A),c[f]=h===void 0?-1:h,p.set(A,f);for(h=_;h<=N;h++)A=n[h],f=p.get(A),f!==void 0&&f!==-1?(u[f]=s[h],d[f]=i[h],l&&(v[f]=l[h]),f=c[f],p.set(A,f)):i[h]();for(f=_;f<y;f++)f in u?(s[f]=u[f],i[f]=d[f],l&&(l[f]=v[f],l[f](f))):s[f]=vt(g);s=s.slice(0,o=y),n=a.slice(0)}return s});function g(y){if(i[f]=y,l){const[p,c]=j(f);return l[f]=c,r(a[f],p)}return r(a[f])}}}function us(e,r,t={}){let n=[],s=[],i=[],o=[],l=0,a;return yr(()=>Kt(i)),()=>{const h=e()||[];return h[ar],ht(()=>{if(h.length===0)return l!==0&&(Kt(i),i=[],n=[],s=[],l=0,o=[]),t.fallback&&(n=[rn],s[0]=vt(g=>(i[0]=g,t.fallback())),l=1),s;for(n[0]===rn&&(i[0](),i=[],n=[],s=[],l=0),a=0;a<h.length;a++)a<n.length&&n[a]!==h[a]?o[a](()=>h[a]):a>=n.length&&(s[a]=vt(f));for(;a<n.length;a++)i[a]();return l=o.length=i.length=h.length,n=h.slice(0),s=s.slice(0,l)});function f(g){i[a]=g;const[y,p]=j(h[a]);return o[a]=p,r(y,a)}}}let cs=!1;function C(e,r){if(cs&&Oe.context){const t=Oe.context;nn(ns());const n=ht(()=>e(r||{}));return nn(t),n}return ht(()=>e(r||{}))}function _r(e){const r="fallback"in e&&{fallback:()=>e.fallback};return dr(as(()=>e.each,e.children,r||void 0))}function ae(e){const r="fallback"in e&&{fallback:()=>e.fallback};return dr(us(()=>e.each,e.children,r||void 0))}function ds(e,r,t){let n=t.length,s=r.length,i=n,o=0,l=0,a=r[s-1].nextSibling,h=null;for(;o<s||l<i;){if(r[o]===t[l]){o++,l++;continue}for(;r[s-1]===t[i-1];)s--,i--;if(s===o){const f=i<n?l?t[l-1].nextSibling:t[i-l]:a;for(;l<i;)e.insertBefore(t[l++],f)}else if(i===l)for(;o<s;)(!h||!h.has(r[o]))&&r[o].remove(),o++;else if(r[o]===t[i-1]&&t[l]===r[s-1]){const f=r[--s].nextSibling;e.insertBefore(t[l++],r[o++].nextSibling),e.insertBefore(t[--i],f),r[s]=t[i]}else{if(!h){h=new Map;let g=l;for(;g<i;)h.set(t[g],g++)}const f=h.get(r[o]);if(f!=null)if(l<f&&f<i){let g=o,y=1,p;for(;++g<s&&g<i&&!((p=h.get(r[g]))==null||p!==f+y);)y++;if(y>f-l){const c=r[o];for(;l<f;)e.insertBefore(t[l++],c)}else e.replaceChild(t[l++],r[o++])}else o++;else r[o++].remove()}}}const Yn="_$DX_DELEGATE";function ys(e,r,t){let n;return vt(s=>{n=s,r===document?e():k(r,e(),r.firstChild?null:void 0,t)}),()=>{n(),r.textContent=""}}function L(e,r,t){const n=document.createElement("template");n.innerHTML=e;let s=n.content.firstChild;return t&&(s=s.firstChild),s}function Ie(e,r=window.document){const t=r[Yn]||(r[Yn]=new Set);for(let n=0,s=e.length;n<s;n++){const i=e[n];t.has(i)||(t.add(i),r.addEventListener(i,hs))}}function ve(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function k(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return Yt(e,r,n,t);E(s=>Yt(e,r(),s,t),n)}function hs(e){const r=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),Oe.registry&&!Oe.done&&(Oe.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>n.remove()));t!==null;){const n=t[r];if(n&&!t.disabled){const s=t[`${r}Data`];if(s!==void 0?n.call(t,s,e):n.call(t,e),e.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function Yt(e,r,t,n,s){for(Oe.context&&!t&&(t=[...e.childNodes]);typeof t=="function";)t=t();if(r===t)return t;const i=typeof r,o=n!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,i==="string"||i==="number"){if(Oe.context)return t;if(i==="number"&&(r=r.toString()),o){let l=t[0];l&&l.nodeType===3?l.data=r:l=document.createTextNode(r),t=pt(e,t,n,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||i==="boolean"){if(Oe.context)return t;t=pt(e,t,n)}else{if(i==="function")return E(()=>{let l=r();for(;typeof l=="function";)l=l();t=Yt(e,l,t,n)}),()=>t;if(Array.isArray(r)){const l=[],a=t&&Array.isArray(t);if(sn(l,r,t,s))return E(()=>t=Yt(e,l,t,n,!0)),()=>t;if(Oe.context){if(!l.length)return t;for(let h=0;h<l.length;h++)if(l[h].parentNode)return t=l}if(l.length===0){if(t=pt(e,t,n),o)return t}else a?t.length===0?Qn(e,l,n):ds(e,t,l):(t&&pt(e),Qn(e,l));t=l}else if(r instanceof Node){if(Oe.context&&r.parentNode)return t=o?[r]:r;if(Array.isArray(t)){if(o)return t=pt(e,t,n,r);pt(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}}return t}function sn(e,r,t,n){let s=!1;for(let i=0,o=r.length;i<o;i++){let l=r[i],a=t&&t[i];if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))s=sn(e,l,a)||s;else if(typeof l=="function")if(n){for(;typeof l=="function";)l=l();s=sn(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||s}else e.push(l),s=!0;else{const h=String(l);a&&a.nodeType===3&&a.data===h?e.push(a):e.push(document.createTextNode(h))}}return s}function Qn(e,r,t){for(let n=0,s=r.length;n<s;n++)e.insertBefore(r[n],t)}function pt(e,r,t,n){if(t===void 0)return e.textContent="";const s=n||document.createTextNode("");if(r.length){let i=!1;for(let o=r.length-1;o>=0;o--){const l=r[o];if(s!==l){const a=l.parentNode===e;!i&&!o?a?e.replaceChild(s,l):e.insertBefore(s,t):a&&l.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}let $r="http://47.120.30.43";const on=$r+":9000",fs=$r+":9001",Se={sessionId:0,userId:0,master_url:on,url:on,getCall:()=>{let e=new Error().stack.split(`
`);e.splice(0,3);const r=/at (\w+)/;return e=e.map(t=>t.match(r)[1]),e},sendRequest:function(e,r,t,n){console.log(this.getCall());let s=new XMLHttpRequest;s.timeout=5e3;var i="?";for(var o in r)i!="?"&&(i+="&"),i+=o+"="+r[o];n==null&&(n=Se.url),console.log(n);var l=n+e+encodeURI(i);return console.log("RequestURL:"+l),s.open("GET",l,!0),s.onreadystatechange=function(){if(s.readyState===4&&s.status>=200&&s.status<300)try{var a=JSON.parse(s.responseText);t&&t(a)}catch(h){console.log("err:"+h)}finally{}},s.send(),s},fetchAPI:async function(e,r){console.log(this.getCall());var t="?";for(var n in r)t!="?"&&(t+="&"),t+=n+"="+r[n];let s=this.url+e+encodeURI(t);console.log("RequestURL:"+s);const i={};try{let l=await(await fetch(s,{headers:i})).text();try{return l===null?{error:"Not found"}:JSON.parse(l)}catch(a){return console.error(`Recevied from API: ${l}`),console.error(a),{error:a}}}catch(o){return{error:o}}}},Ze={account:null,userId:null,userName:null,lv:0,exp:0,coins:0,gems:0,sign:0,ip:"",sex:0,roomData:null,oldRoomId:null,guestAuth:function(e,r){let t=this;e==null&&(e=getLocalStorage("account")),e==null&&(e=Date.now(),setLocalStorage("account",e)),Se.sendRequest("/guest",{account:e},function(n){t.onAuth(n,r)}.bind(this))},auth:function(e,r){let t=this;Se.sendRequest("/auth",e,function(n){t.onAuth(n,r)}.bind(this))},onAuth:function(e,r){e.errcode!=0?(console.log(e.errmsg),r(e)):(this.account=e.account,this.sign=e.sign,Se.url=fs,this.login(r))},login:function(e){let r=this,t=r.account,n=r.sign;Se.sendRequest("/login",{account:t,sign:n},function(s){s.errcode!==0?(Se.url=on,e(s)):(setLocalStorage("account",t),setLocalStorage("sign",n),s.userid?(r.account=s.account,r.userId=s.userid,r.userName=s.name,r.lv=s.lv,r.exp=s.exp,r.coins=s.coins,r.gems=s.gems,r.roomData=s.roomid,r.sex=s.sex,r.ip=s.ip,e(r)):e("create"))})},register:function(e,r){Se.sendRequest("/register",e,function(t){t.errcode!==0?(console.log(t.errmsg),r(t)):(console.log(t),r(t))})},create:function(e,r){let t=this,n={account:this.account,sign:this.sign,name:e};Se.sendRequest("/create_user",n,function(s){s.errcode!==0?(console.log(s.errmsg),r(null)):t.login(r)})},updateUserInfo:function(e,r){Se.sendRequest("/update_user",e,function(t){t.errcode!==0?(console.log(t.errmsg),r(null)):r(t)})},createRoom:function(e){var r=0,t="rzmj",n=1,s=1e3,i={type:t,difen:r,jushuxuanze:s,zuidafanshu:n},o={account:this.account,sign:this.sign,conf:JSON.stringify(i)};console.log(o),Se.sendRequest("/create_private_room",o,function(l){console.log(l),e(l)})},enterRoom:function(e,r){let t=this,n={account:this.account,sign:this.sign,roomid:e};Se.sendRequest("/enter_private_room",n,function(s){s.errcode!==0&&s.errcode==-1?setTimeout(function(){t.enterRoom(e,r)},5e3):r?.(s)})},getHistoryList:function(e){let r=function(n){n.errcode!==0?console.log(n.errmsg):(console.log(n.history),e?.(n.history))},t={account:this.account,sign:this.sign};Se.sendRequest("/get_history_list",t,r)},getGamesOfRoom:function(e,r){let t=function(s){s.errcode!==0?console.log(s.errmsg):(console.log(s.data),r(s.data))},n={account:this.account,sign:this.sign,uuid:e};Se.sendRequest("/get_games_of_room",n,t)},getDetailOfGame:function(e,r,t){let n=function(i){i.errcode!==0?console.log(i.errmsg):(console.log(i.data),t(i.data))},s={account:this.account,sign:this.sign,uuid:e,index:r};Se.sendRequest("/get_detail_of_game",s,n)}};function ps(){var e;return function r(t,n,s){function i(a,h){if(!n[a]){if(!t[a]){var f=typeof require=="function"&&require;if(!h&&f)return f(a,!0);if(o)return o(a,!0);var g=new Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g}var y=n[a]={exports:{}};t[a][0].call(y.exports,function(p){var c=t[a][1][p];return i(c||p)},y,y.exports,r,t,n,s)}return n[a].exports}for(var o=typeof require=="function"&&require,l=0;l<s.length;l++)i(s[l]);return i}({1:[function(r,t,n){t.exports=r("./lib/")},{"./lib/":2}],2:[function(r,t,n){t.exports=r("./socket"),t.exports.parser=r("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(r,t,n){(function(s){var i=r("./transports"),o=r("component-emitter"),l=r("debug")("engine.io-client:socket"),a=r("indexof"),h=r("engine.io-parser"),f=r("parseuri"),g=r("parsejson"),y=r("parseqs");t.exports=p;function p(u,d){if(!(this instanceof p))return new p(u,d);d=d||{},u&&typeof u=="object"&&(d=u,u=null),u?(u=f(u),d.hostname=u.host,d.secure=u.protocol=="https"||u.protocol=="wss",d.port=u.port,u.query&&(d.query=u.query)):d.host&&(d.hostname=f(d.host).host),this.secure=d.secure!=null?d.secure:s.location&&location.protocol=="https:",d.hostname&&!d.port&&(d.port=this.secure?"443":"80"),this.agent=d.agent||!1,this.hostname=d.hostname||(s.location?location.hostname:"localhost"),this.port=d.port||(s.location&&location.port?location.port:this.secure?443:80),this.query=d.query||{},typeof this.query=="string"&&(this.query=y.decode(this.query)),this.upgrade=d.upgrade!==!1,this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!d.forceJSONP,this.jsonp=d.jsonp!==!1,this.forceBase64=!!d.forceBase64,this.enablesXDR=!!d.enablesXDR,this.timestampParam=d.timestampParam||"t",this.timestampRequests=d.timestampRequests,this.transports=d.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=d.policyPort||843,this.rememberUpgrade=d.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=d.onlyBinaryUpgrades,this.perMessageDeflate=d.perMessageDeflate!==!1?d.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=d.pfx||null,this.key=d.key||null,this.passphrase=d.passphrase||null,this.cert=d.cert||null,this.ca=d.ca||null,this.ciphers=d.ciphers||null,this.rejectUnauthorized=d.rejectUnauthorized===void 0?!0:d.rejectUnauthorized;var v=typeof s=="object"&&s;v.global===v&&d.extraHeaders&&Object.keys(d.extraHeaders).length>0&&(this.extraHeaders=d.extraHeaders),this.open()}p.priorWebsocketSuccess=!1,o(p.prototype),p.protocol=h.protocol,p.Socket=p,p.Transport=r("./transport"),p.transports=r("./transports"),p.parser=r("engine.io-parser"),p.prototype.createTransport=function(u){l('creating transport "%s"',u);var d=c(this.query);d.EIO=h.protocol,d.transport=u,this.id&&(d.sid=this.id);var v=new i[u]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:d,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return v};function c(u){var d={};for(var v in u)u.hasOwnProperty(v)&&(d[v]=u[v]);return d}p.prototype.open=function(){var u;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)u="websocket";else if(this.transports.length===0){var d=this;setTimeout(function(){d.emit("error","No transports available")},0);return}else u=this.transports[0];this.readyState="opening";try{u=this.createTransport(u)}catch{this.transports.shift(),this.open();return}u.open(),this.setTransport(u)},p.prototype.setTransport=function(u){l("setting transport %s",u.name);var d=this;this.transport&&(l("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=u,u.on("drain",function(){d.onDrain()}).on("packet",function(v){d.onPacket(v)}).on("error",function(v){d.onError(v)}).on("close",function(){d.onClose("transport close")})},p.prototype.probe=function(u){l('probing transport "%s"',u);var d=this.createTransport(u,{probe:1}),v=!1,_=this;p.priorWebsocketSuccess=!1;function N(){if(_.onlyBinaryUpgrades){var $=!this.supportsBinary&&_.transport.supportsBinary;v=v||$}v||(l('probe transport "%s" opened',u),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(b){if(!v)if(b.type=="pong"&&b.data=="probe"){if(l('probe transport "%s" pong',u),_.upgrading=!0,_.emit("upgrading",d),!d)return;p.priorWebsocketSuccess=d.name=="websocket",l('pausing current transport "%s"',_.transport.name),_.transport.pause(function(){v||_.readyState!="closed"&&(l("changing transport and sending upgrade packet"),I(),_.setTransport(d),d.send([{type:"upgrade"}]),_.emit("upgrade",d),d=null,_.upgrading=!1,_.flush())})}else{l('probe transport "%s" failed',u);var P=new Error("probe error");P.transport=d.name,_.emit("upgradeError",P)}}))}function x(){v||(v=!0,I(),d.close(),d=null)}function A($){var b=new Error("probe error: "+$);b.transport=d.name,x(),l('probe transport "%s" failed because of error: %s',u,$),_.emit("upgradeError",b)}function D(){A("transport closed")}function m(){A("socket closed")}function M($){d&&$.name!=d.name&&(l('"%s" works - aborting "%s"',$.name,d.name),x())}function I(){d.removeListener("open",N),d.removeListener("error",A),d.removeListener("close",D),_.removeListener("close",m),_.removeListener("upgrading",M)}d.once("open",N),d.once("error",A),d.once("close",D),this.once("close",m),this.once("upgrading",M),d.open()},p.prototype.onOpen=function(){if(l("socket open"),this.readyState="open",p.priorWebsocketSuccess=this.transport.name=="websocket",this.emit("open"),this.flush(),this.readyState=="open"&&this.upgrade&&this.transport.pause){l("starting upgrade probes");for(var u=0,d=this.upgrades.length;u<d;u++)this.probe(this.upgrades[u])}},p.prototype.onPacket=function(u){if(this.readyState=="opening"||this.readyState=="open")switch(l('socket receive: type "%s", data "%s"',u.type,u.data),this.emit("packet",u),this.emit("heartbeat"),u.type){case"open":this.onHandshake(g(u.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var d=new Error("server error");d.code=u.data,this.onError(d);break;case"message":this.emit("data",u.data),this.emit("message",u.data);break}else l('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(u){this.emit("handshake",u),this.id=u.sid,this.transport.query.sid=u.sid,this.upgrades=this.filterUpgrades(u.upgrades),this.pingInterval=u.pingInterval,this.pingTimeout=u.pingTimeout,this.onOpen(),this.readyState!="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(u){clearTimeout(this.pingTimeoutTimer);var d=this;d.pingTimeoutTimer=setTimeout(function(){d.readyState!="closed"&&d.onClose("ping timeout")},u||d.pingInterval+d.pingTimeout)},p.prototype.setPing=function(){var u=this;clearTimeout(u.pingIntervalTimer),u.pingIntervalTimer=setTimeout(function(){l("writing ping packet - expecting pong within %sms",u.pingTimeout),u.ping(),u.onHeartbeat(u.pingTimeout)},u.pingInterval)},p.prototype.ping=function(){var u=this;this.sendPacket("ping",function(){u.emit("ping")})},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},p.prototype.flush=function(){this.readyState!="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(l("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(u,d,v){return this.sendPacket("message",u,d,v),this},p.prototype.sendPacket=function(u,d,v,_){if(typeof d=="function"&&(_=d,d=void 0),typeof v=="function"&&(_=v,v=null),!(this.readyState=="closing"||this.readyState=="closed")){v=v||{},v.compress=v.compress!==!1;var N={type:u,data:d,options:v};this.emit("packetCreate",N),this.writeBuffer.push(N),_&&this.once("flush",_),this.flush()}},p.prototype.close=function(){if(this.readyState=="opening"||this.readyState=="open"){this.readyState="closing";var u=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?_():d()}):this.upgrading?_():d()}function d(){u.onClose("forced close"),l("socket closing - telling transport to close"),u.transport.close()}function v(){u.removeListener("upgrade",v),u.removeListener("upgradeError",v),d()}function _(){u.once("upgrade",v),u.once("upgradeError",v)}return this},p.prototype.onError=function(u){l("socket error %j",u),p.priorWebsocketSuccess=!1,this.emit("error",u),this.onClose("transport error",u)},p.prototype.onClose=function(u,d){if(this.readyState=="opening"||this.readyState=="open"||this.readyState=="closing"){l('socket close with reason: "%s"',u);var v=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",u,d),v.writeBuffer=[],v.prevBufferLen=0}},p.prototype.filterUpgrades=function(u){for(var d=[],v=0,_=u.length;v<_;v++)~a(this.transports,u[v])&&d.push(u[v]);return d}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(r,t,n){var s=r("engine.io-parser"),i=r("component-emitter");t.exports=o;function o(l){this.path=l.path,this.hostname=l.hostname,this.port=l.port,this.secure=l.secure,this.query=l.query,this.timestampParam=l.timestampParam,this.timestampRequests=l.timestampRequests,this.readyState="",this.agent=l.agent||!1,this.socket=l.socket,this.enablesXDR=l.enablesXDR,this.pfx=l.pfx,this.key=l.key,this.passphrase=l.passphrase,this.cert=l.cert,this.ca=l.ca,this.ciphers=l.ciphers,this.rejectUnauthorized=l.rejectUnauthorized,this.extraHeaders=l.extraHeaders}i(o.prototype),o.prototype.onError=function(l,a){var h=new Error(l);return h.type="TransportError",h.description=a,this.emit("error",h),this},o.prototype.open=function(){return(this.readyState=="closed"||this.readyState=="")&&(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return(this.readyState=="opening"||this.readyState=="open")&&(this.doClose(),this.onClose()),this},o.prototype.send=function(l){if(this.readyState=="open")this.write(l);else throw new Error("Transport not open")},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(l){var a=s.decodePacket(l,this.socket.binaryType);this.onPacket(a)},o.prototype.onPacket=function(l){this.emit("packet",l)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(r,t,n){(function(s){var i=r("xmlhttprequest-ssl"),o=r("./polling-xhr"),l=r("./polling-jsonp"),a=r("./websocket");n.polling=h,n.websocket=a;function h(f){var g,y=!1,p=!1,c=f.jsonp!==!1;if(s.location){var u=location.protocol=="https:",d=location.port;d||(d=u?443:80),y=f.hostname!=location.hostname||d!=f.port,p=f.secure!=u}if(f.xdomain=y,f.xscheme=p,g=new i(f),"open"in g&&!f.forceJSONP)return new o(f);if(!c)throw new Error("JSONP disabled");return new l(f)}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(r,t,n){(function(s){var i=r("./polling"),o=r("component-inherit");t.exports=g;var l=/\n/g,a=/\\n/g,h;function f(){}function g(y){i.call(this,y),this.query=this.query||{},h||(s.___eio||(s.___eio=[]),h=s.___eio),this.index=h.length;var p=this;h.push(function(c){p.onData(c)}),this.query.j=this.index,s.document&&s.addEventListener&&s.addEventListener("beforeunload",function(){p.script&&(p.script.onerror=f)},!1)}o(g,i),g.prototype.supportsBinary=!1,g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},g.prototype.doPoll=function(){var y=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(d){y.onError("jsonp poll error",d)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(p,c):(document.head||document.body).appendChild(p),this.script=p;var u=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);u&&setTimeout(function(){var d=document.createElement("iframe");document.body.appendChild(d),document.body.removeChild(d)},100)},g.prototype.doWrite=function(y,p){var c=this;if(!this.form){var u=document.createElement("form"),d=document.createElement("textarea"),v=this.iframeId="eio_iframe_"+this.index,_;u.className="socketio",u.style.position="absolute",u.style.top="-1000px",u.style.left="-1000px",u.target=v,u.method="POST",u.setAttribute("accept-charset","utf-8"),d.name="d",u.appendChild(d),document.body.appendChild(u),this.form=u,this.area=d}this.form.action=this.uri();function N(){x(),p()}function x(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(D){c.onError("jsonp polling iframe removal error",D)}try{var A='<iframe src="javascript:0" name="'+c.iframeId+'">';_=document.createElement(A)}catch{_=document.createElement("iframe"),_.name=c.iframeId,_.src="javascript:0"}_.id=c.iframeId,c.form.appendChild(_),c.iframe=_}x(),y=y.replace(a,`\\
`),this.area.value=y.replace(l,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){c.iframe.readyState=="complete"&&N()}:this.iframe.onload=N}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./polling":8,"component-inherit":16}],7:[function(r,t,n){(function(s){var i=r("xmlhttprequest-ssl"),o=r("./polling"),l=r("component-emitter"),a=r("component-inherit"),h=r("debug")("engine.io-client:polling-xhr");t.exports=g,t.exports.Request=y;function f(){}function g(c){if(o.call(this,c),s.location){var u=location.protocol=="https:",d=location.port;d||(d=u?443:80),this.xd=c.hostname!=s.location.hostname||d!=c.port,this.xs=c.secure!=u}else this.extraHeaders=c.extraHeaders}a(g,o),g.prototype.supportsBinary=!0,g.prototype.request=function(c){return c=c||{},c.uri=this.uri(),c.xd=this.xd,c.xs=this.xs,c.agent=this.agent||!1,c.supportsBinary=this.supportsBinary,c.enablesXDR=this.enablesXDR,c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,c.extraHeaders=this.extraHeaders,new y(c)},g.prototype.doWrite=function(c,u){var d=typeof c!="string"&&c!==void 0,v=this.request({method:"POST",data:c,isBinary:d}),_=this;v.on("success",u),v.on("error",function(N){_.onError("xhr post error",N)}),this.sendXhr=v},g.prototype.doPoll=function(){h("xhr poll");var c=this.request(),u=this;c.on("data",function(d){u.onData(d)}),c.on("error",function(d){u.onError("xhr poll error",d)}),this.pollXhr=c};function y(c){this.method=c.method||"GET",this.uri=c.uri,this.xd=!!c.xd,this.xs=!!c.xs,this.async=c.async!==!1,this.data=c.data!=null?c.data:null,this.agent=c.agent,this.isBinary=c.isBinary,this.supportsBinary=c.supportsBinary,this.enablesXDR=c.enablesXDR,this.pfx=c.pfx,this.key=c.key,this.passphrase=c.passphrase,this.cert=c.cert,this.ca=c.ca,this.ciphers=c.ciphers,this.rejectUnauthorized=c.rejectUnauthorized,this.extraHeaders=c.extraHeaders,this.create()}l(y.prototype),y.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized;var u=this.xhr=new i(c),d=this;try{h("xhr open %s: %s",this.method,this.uri),u.open(this.method,this.uri,this.async);try{if(this.extraHeaders){u.setDisableHeaderCheck(!0);for(var v in this.extraHeaders)this.extraHeaders.hasOwnProperty(v)&&u.setRequestHeader(v,this.extraHeaders[v])}}catch{}if(this.supportsBinary&&(u.responseType="arraybuffer"),this.method=="POST")try{this.isBinary?u.setRequestHeader("Content-type","application/octet-stream"):u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}"withCredentials"in u&&(u.withCredentials=!0),this.hasXDR()?(u.onload=function(){d.onLoad()},u.onerror=function(){d.onError(u.responseText)}):u.onreadystatechange=function(){u.readyState==4&&(u.status==200||u.status==1223?d.onLoad():setTimeout(function(){d.onError(u.status)},0))},h("xhr data %s",this.data),u.send(this.data)}catch(_){setTimeout(function(){d.onError(_)},0);return}s.document&&(this.index=y.requestsCount++,y.requests[this.index]=this)},y.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},y.prototype.onData=function(c){this.emit("data",c),this.onSuccess()},y.prototype.onError=function(c){this.emit("error",c),this.cleanup(!0)},y.prototype.cleanup=function(c){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f,c)try{this.xhr.abort()}catch{}s.document&&delete y.requests[this.index],this.xhr=null}},y.prototype.onLoad=function(){var c;try{var u;try{u=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch{}if(u==="application/octet-stream")c=this.xhr.response;else if(!this.supportsBinary)c=this.xhr.responseText;else try{c=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch{for(var d=new Uint8Array(this.xhr.response),v=[],_=0,N=d.length;_<N;_++)v.push(d[_]);c=String.fromCharCode.apply(null,v)}}catch(x){this.onError(x)}c!=null&&this.onData(c)},y.prototype.hasXDR=function(){return typeof s.XDomainRequest<"u"&&!this.xs&&this.enablesXDR},y.prototype.abort=function(){this.cleanup()},s.document&&(y.requestsCount=0,y.requests={},s.attachEvent?s.attachEvent("onunload",p):s.addEventListener&&s.addEventListener("beforeunload",p,!1));function p(){for(var c in y.requests)y.requests.hasOwnProperty(c)&&y.requests[c].abort()}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(r,t,n){var s=r("../transport"),i=r("parseqs"),o=r("engine.io-parser"),l=r("component-inherit"),a=r("yeast"),h=r("debug")("engine.io-client:polling");t.exports=g;var f=function(){var y=r("xmlhttprequest-ssl"),p=new y({xdomain:!1});return p.responseType!=null}();function g(y){var p=y&&y.forceBase64;(!f||p)&&(this.supportsBinary=!1),s.call(this,y)}l(g,s),g.prototype.name="polling",g.prototype.doOpen=function(){this.poll()},g.prototype.pause=function(y){var p=this;this.readyState="pausing";function c(){h("paused"),p.readyState="paused",y()}if(this.polling||!this.writable){var u=0;this.polling&&(h("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){h("pre-pause polling complete"),--u||c()})),this.writable||(h("we are currently writing - waiting to pause"),u++,this.once("drain",function(){h("pre-pause writing complete"),--u||c()}))}else c()},g.prototype.poll=function(){h("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},g.prototype.onData=function(y){var p=this;h("polling got data %s",y);var c=function(u,d,v){if(p.readyState=="opening"&&p.onOpen(),u.type=="close")return p.onClose(),!1;p.onPacket(u)};o.decodePayload(y,this.socket.binaryType,c),this.readyState!="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState=="open"?this.poll():h('ignoring poll - transport state "%s"',this.readyState))},g.prototype.doClose=function(){var y=this;function p(){h("writing close packet"),y.write([{type:"close"}])}this.readyState=="open"?(h("transport open - closing"),p()):(h("transport not open - deferring close"),this.once("open",p))},g.prototype.write=function(y){var c=this;this.writable=!1;var p=function(){c.writable=!0,c.emit("drain")},c=this;o.encodePayload(y,this.supportsBinary,function(u){c.doWrite(u,p)})},g.prototype.uri=function(){var y=this.query||{},p=this.secure?"https":"http",c="";this.timestampRequests!==!1&&(y[this.timestampParam]=a()),!this.supportsBinary&&!y.sid&&(y.b64=1),y=i.encode(y),this.port&&(p=="https"&&this.port!=443||p=="http"&&this.port!=80)&&(c=":"+this.port),y.length&&(y="?"+y);var u=this.hostname.indexOf(":")!==-1;return p+"://"+(u?"["+this.hostname+"]":this.hostname)+c+this.path+y}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(r,t,n){(function(s){var i=r("../transport"),o=r("engine.io-parser"),l=r("parseqs"),a=r("component-inherit"),h=r("yeast"),f=r("debug")("engine.io-client:websocket"),g=s.WebSocket||s.MozWebSocket,y=g;if(!y&&typeof window>"u")try{y=r("ws")}catch{}t.exports=p;function p(c){var u=c&&c.forceBase64;u&&(this.supportsBinary=!1),this.perMessageDeflate=c.perMessageDeflate,i.call(this,c)}a(p,i),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var c=this.uri(),u=void 0,d={agent:this.agent,perMessageDeflate:this.perMessageDeflate};d.pfx=this.pfx,d.key=this.key,d.passphrase=this.passphrase,d.cert=this.cert,d.ca=this.ca,d.ciphers=this.ciphers,d.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(d.headers=this.extraHeaders),this.ws=g?new y(c):new y(c,u,d),this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var c=this;this.ws.onopen=function(){c.onOpen()},this.ws.onclose=function(){c.onClose()},this.ws.onmessage=function(u){c.onData(u.data)},this.ws.onerror=function(u){c.onError("websocket error",u)}},typeof navigator<"u"&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(p.prototype.onData=function(c){var u=this;setTimeout(function(){i.prototype.onData.call(u,c)},0)}),p.prototype.write=function(c){var u=this;this.writable=!1;for(var d=c.length,v=0,_=d;v<_;v++)(function(x){o.encodePacket(x,u.supportsBinary,function(A){if(!g){var D={};if(x.options&&(D.compress=x.options.compress),u.perMessageDeflate){var m=typeof A=="string"?s.Buffer.byteLength(A):A.length;m<u.perMessageDeflate.threshold&&(D.compress=!1)}}try{g?u.ws.send(A):u.ws.send(A,D)}catch{f("websocket closed before onclose event")}--d||N()})})(c[v]);function N(){u.emit("flush"),setTimeout(function(){u.writable=!0,u.emit("drain")},0)}},p.prototype.onClose=function(){i.prototype.onClose.call(this)},p.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},p.prototype.uri=function(){var c=this.query||{},u=this.secure?"wss":"ws",d="";this.port&&(u=="wss"&&this.port!=443||u=="ws"&&this.port!=80)&&(d=":"+this.port),this.timestampRequests&&(c[this.timestampParam]=h()),this.supportsBinary||(c.b64=1),c=l.encode(c),c.length&&(c="?"+c);var v=this.hostname.indexOf(":")!==-1;return u+"://"+(v?"["+this.hostname+"]":this.hostname)+d+this.path+c},p.prototype.check=function(){return!!y&&!("__initialize"in y&&this.name===p.prototype.name)}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(r,t,n){var s=r("has-cors");t.exports=function(i){var o=i.xdomain,l=i.xscheme,a=i.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!o||s))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!l&&a)return new XDomainRequest}catch{}if(!o)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}}},{"has-cors":22}],11:[function(r,t,n){t.exports=s;function s(o,l,a){var h=!1;return a=a||i,f.count=o,o===0?l():f;function f(g,y){if(f.count<=0)throw new Error("after called too many times");--f.count,g?(h=!0,l(g),l=a):f.count===0&&!h&&l(null,y)}}function i(){}},{}],12:[function(r,t,n){t.exports=function(s,i,o){var l=s.byteLength;if(i=i||0,o=o||l,s.slice)return s.slice(i,o);if(i<0&&(i+=l),o<0&&(o+=l),o>l&&(o=l),i>=l||i>=o||l===0)return new ArrayBuffer(0);for(var a=new Uint8Array(s),h=new Uint8Array(o-i),f=i,g=0;f<o;f++,g++)h[g]=a[f];return h.buffer}},{}],13:[function(r,t,n){(function(s){n.encode=function(i){var o=new Uint8Array(i),l,a=o.length,h="";for(l=0;l<a;l+=3)h+=s[o[l]>>2],h+=s[(o[l]&3)<<4|o[l+1]>>4],h+=s[(o[l+1]&15)<<2|o[l+2]>>6],h+=s[o[l+2]&63];return a%3===2?h=h.substring(0,h.length-1)+"=":a%3===1&&(h=h.substring(0,h.length-2)+"=="),h},n.decode=function(i){var o=i.length*.75,l=i.length,a,h=0,f,g,y,p;i[i.length-1]==="="&&(o--,i[i.length-2]==="="&&o--);var c=new ArrayBuffer(o),u=new Uint8Array(c);for(a=0;a<l;a+=4)f=s.indexOf(i[a]),g=s.indexOf(i[a+1]),y=s.indexOf(i[a+2]),p=s.indexOf(i[a+3]),u[h++]=f<<2|g>>4,u[h++]=(g&15)<<4|y>>2,u[h++]=(y&3)<<6|p&63;return c}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(r,t,n){(function(s){var i=s.BlobBuilder||s.WebKitBlobBuilder||s.MSBlobBuilder||s.MozBlobBuilder,o=function(){try{var y=new Blob(["hi"]);return y.size===2}catch{return!1}}(),l=o&&function(){try{var y=new Blob([new Uint8Array([1,2])]);return y.size===2}catch{return!1}}(),a=i&&i.prototype.append&&i.prototype.getBlob;function h(y){for(var p=0;p<y.length;p++){var c=y[p];if(c.buffer instanceof ArrayBuffer){var u=c.buffer;if(c.byteLength!==u.byteLength){var d=new Uint8Array(c.byteLength);d.set(new Uint8Array(u,c.byteOffset,c.byteLength)),u=d.buffer}y[p]=u}}}function f(y,p){p=p||{};var c=new i;h(y);for(var u=0;u<y.length;u++)c.append(y[u]);return p.type?c.getBlob(p.type):c.getBlob()}function g(y,p){return h(y),new Blob(y,p||{})}t.exports=function(){return o?l?s.Blob:g:a?f:void 0}()}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{}],15:[function(r,t,n){t.exports=s;function s(o){if(o)return i(o)}function i(o){for(var l in s.prototype)o[l]=s.prototype[l];return o}s.prototype.on=s.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks[o]=this._callbacks[o]||[]).push(l),this},s.prototype.once=function(o,l){var a=this;this._callbacks=this._callbacks||{};function h(){a.off(o,h),l.apply(this,arguments)}return h.fn=l,this.on(o,h),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks[o];if(!a)return this;if(arguments.length==1)return delete this._callbacks[o],this;for(var h,f=0;f<a.length;f++)if(h=a[f],h===l||h.fn===l){a.splice(f,1);break}return this},s.prototype.emit=function(o){this._callbacks=this._callbacks||{};var l=[].slice.call(arguments,1),a=this._callbacks[o];if(a){a=a.slice(0);for(var h=0,f=a.length;h<f;++h)a[h].apply(this,l)}return this},s.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks[o]||[]},s.prototype.hasListeners=function(o){return!!this.listeners(o).length}},{}],16:[function(r,t,n){t.exports=function(s,i){var o=function(){};o.prototype=i.prototype,s.prototype=new o,s.prototype.constructor=s}},{}],17:[function(r,t,n){n=t.exports=r("./debug"),n.log=o,n.formatArgs=i,n.save=l,n.load=a,n.useColors=s,n.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function s(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}n.formatters.j=function(f){return JSON.stringify(f)};function i(){var f=arguments,g=this.useColors;if(f[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+f[0]+(g?"%c ":" ")+"+"+n.humanize(this.diff),!g)return f;var y="color: "+this.color;f=[f[0],y,"color: inherit"].concat(Array.prototype.slice.call(f,1));var p=0,c=0;return f[0].replace(/%[a-z%]/g,function(u){u!=="%%"&&(p++,u==="%c"&&(c=p))}),f.splice(c,0,y),f}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(f){try{f==null?n.storage.removeItem("debug"):n.storage.debug=f}catch{}}function a(){var f;try{f=n.storage.debug}catch{}return f}n.enable(a());function h(){try{return window.localStorage}catch{}}},{"./debug":18}],18:[function(r,t,n){n=t.exports=l,n.coerce=g,n.disable=h,n.enable=a,n.enabled=f,n.humanize=r("ms"),n.names=[],n.skips=[],n.formatters={};var s=0,i;function o(){return n.colors[s++%n.colors.length]}function l(y){function p(){}p.enabled=!1;function c(){var d=c,v=+new Date,_=v-(i||v);d.diff=_,d.prev=i,d.curr=v,i=v,d.useColors==null&&(d.useColors=n.useColors()),d.color==null&&d.useColors&&(d.color=o());var N=Array.prototype.slice.call(arguments);N[0]=n.coerce(N[0]),typeof N[0]!="string"&&(N=["%o"].concat(N));var x=0;N[0]=N[0].replace(/%([a-z%])/g,function(D,m){if(D==="%%")return D;x++;var M=n.formatters[m];if(typeof M=="function"){var I=N[x];D=M.call(d,I),N.splice(x,1),x--}return D}),typeof n.formatArgs=="function"&&(N=n.formatArgs.apply(d,N));var A=c.log||n.log||console.log.bind(console);A.apply(d,N)}c.enabled=!0;var u=n.enabled(y)?c:p;return u.namespace=y,u}function a(y){n.save(y);for(var p=(y||"").split(/[\s,]+/),c=p.length,u=0;u<c;u++)p[u]&&(y=p[u].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.substr(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function h(){n.enable("")}function f(y){var p,c;for(p=0,c=n.skips.length;p<c;p++)if(n.skips[p].test(y))return!1;for(p=0,c=n.names.length;p<c;p++)if(n.names[p].test(y))return!0;return!1}function g(y){return y instanceof Error?y.stack||y.message:y}},{ms:25}],19:[function(r,t,n){(function(s){var i=r("./keys"),o=r("has-binary"),l=r("arraybuffer.slice"),a=r("base64-arraybuffer"),h=r("after"),f=r("utf8"),g=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),p=g||y;n.protocol=3;var c=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=i(c),d={type:"error",data:"parser error"},v=r("blob");n.encodePacket=function(m,M,I,$){typeof M=="function"&&($=M,M=!1),typeof I=="function"&&($=I,I=null);var b=m.data===void 0?void 0:m.data.buffer||m.data;if(s.ArrayBuffer&&b instanceof ArrayBuffer)return N(m,M,$);if(v&&b instanceof s.Blob)return A(m,M,$);if(b&&b.base64)return _(m,$);var P=c[m.type];return m.data!==void 0&&(P+=I?f.encode(String(m.data)):String(m.data)),$(""+P)};function _(m,M){var I="b"+n.packets[m.type]+m.data.data;return M(I)}function N(m,M,I){if(!M)return n.encodeBase64Packet(m,I);var $=m.data,b=new Uint8Array($),P=new Uint8Array(1+$.byteLength);P[0]=c[m.type];for(var T=0;T<b.length;T++)P[T+1]=b[T];return I(P.buffer)}function x(m,M,I){if(!M)return n.encodeBase64Packet(m,I);var $=new FileReader;return $.onload=function(){m.data=$.result,n.encodePacket(m,M,!0,I)},$.readAsArrayBuffer(m.data)}function A(m,M,I){if(!M)return n.encodeBase64Packet(m,I);if(p)return x(m,M,I);var $=new Uint8Array(1);$[0]=c[m.type];var b=new v([$.buffer,m.data]);return I(b)}n.encodeBase64Packet=function(m,M){var I="b"+n.packets[m.type];if(v&&m.data instanceof s.Blob){var $=new FileReader;return $.onload=function(){var H=$.result.split(",")[1];M(I+H)},$.readAsDataURL(m.data)}var b;try{b=String.fromCharCode.apply(null,new Uint8Array(m.data))}catch{for(var P=new Uint8Array(m.data),T=new Array(P.length),S=0;S<P.length;S++)T[S]=P[S];b=String.fromCharCode.apply(null,T)}return I+=s.btoa(b),M(I)},n.decodePacket=function(m,M,I){if(typeof m=="string"||m===void 0){if(m.charAt(0)=="b")return n.decodeBase64Packet(m.substr(1),M);if(I)try{m=f.decode(m)}catch{return d}var b=m.charAt(0);return Number(b)!=b||!u[b]?d:m.length>1?{type:u[b],data:m.substring(1)}:{type:u[b]}}var $=new Uint8Array(m),b=$[0],P=l(m,1);return v&&M==="blob"&&(P=new v([P])),{type:u[b],data:P}},n.decodeBase64Packet=function(m,M){var I=u[m.charAt(0)];if(!s.ArrayBuffer)return{type:I,data:{base64:!0,data:m.substr(1)}};var $=a.decode(m.substr(1));return M==="blob"&&v&&($=new v([$])),{type:I,data:$}},n.encodePayload=function(m,M,I){typeof M=="function"&&(I=M,M=null);var $=o(m);if(M&&$)return v&&!p?n.encodePayloadAsBlob(m,I):n.encodePayloadAsArrayBuffer(m,I);if(!m.length)return I("0:");function b(T){return T.length+":"+T}function P(T,S){n.encodePacket(T,$?M:!1,!0,function(H){S(null,b(H))})}D(m,P,function(T,S){return I(S.join(""))})};function D(m,M,I){for(var $=new Array(m.length),b=h(m.length,I),P=function(S,H,G){M(H,function(Q,V){$[S]=V,G(Q,$)})},T=0;T<m.length;T++)P(T,m[T],b)}n.decodePayload=function(m,M,I){if(typeof m!="string")return n.decodePayloadAsBinary(m,M,I);typeof M=="function"&&(I=M,M=null);var $;if(m=="")return I(d,0,1);for(var b="",P,T,S=0,H=m.length;S<H;S++){var G=m.charAt(S);if(G!=":")b+=G;else{if(b==""||b!=(P=Number(b))||(T=m.substr(S+1,P),b!=T.length))return I(d,0,1);if(T.length){if($=n.decodePacket(T,M,!0),d.type==$.type&&d.data==$.data)return I(d,0,1);var Q=I($,S+P,H);if(Q===!1)return}S+=P,b=""}}if(b!="")return I(d,0,1)},n.encodePayloadAsArrayBuffer=function(m,M){if(!m.length)return M(new ArrayBuffer(0));function I($,b){n.encodePacket($,!0,!0,function(P){return b(null,P)})}D(m,I,function($,b){var P=b.reduce(function(H,G){var Q;return typeof G=="string"?Q=G.length:Q=G.byteLength,H+Q.toString().length+Q+2},0),T=new Uint8Array(P),S=0;return b.forEach(function(H){var G=typeof H=="string",Q=H;if(G){for(var se=new Uint8Array(H.length),V=0;V<H.length;V++)se[V]=H.charCodeAt(V);Q=se.buffer}G?T[S++]=0:T[S++]=1;for(var J=Q.byteLength.toString(),V=0;V<J.length;V++)T[S++]=parseInt(J[V]);T[S++]=255;for(var se=new Uint8Array(Q),V=0;V<se.length;V++)T[S++]=se[V]}),M(T.buffer)})},n.encodePayloadAsBlob=function(m,M){function I($,b){n.encodePacket($,!0,!0,function(P){var T=new Uint8Array(1);if(T[0]=1,typeof P=="string"){for(var S=new Uint8Array(P.length),H=0;H<P.length;H++)S[H]=P.charCodeAt(H);P=S.buffer,T[0]=0}for(var G=P instanceof ArrayBuffer?P.byteLength:P.size,Q=G.toString(),V=new Uint8Array(Q.length+1),H=0;H<Q.length;H++)V[H]=parseInt(Q[H]);if(V[Q.length]=255,v){var J=new v([T.buffer,V.buffer,P]);b(null,J)}})}D(m,I,function($,b){return M(new v(b))})},n.decodePayloadAsBinary=function(m,M,I){typeof M=="function"&&(I=M,M=null);for(var $=m,b=[],P=!1;$.byteLength>0;){for(var T=new Uint8Array($),S=T[0]===0,H="",G=1;T[G]!=255;G++){if(H.length>310){P=!0;break}H+=T[G]}if(P)return I(d,0,1);$=l($,2+H.length),H=parseInt(H);var Q=l($,0,H);if(S)try{Q=String.fromCharCode.apply(null,new Uint8Array(Q))}catch{var V=new Uint8Array(Q);Q="";for(var G=0;G<V.length;G++)Q+=String.fromCharCode(V[G])}b.push(Q),$=l($,H)}var J=b.length;b.forEach(function(se,be){I(n.decodePacket(se,M,!0),be,J)})}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(r,t,n){t.exports=Object.keys||function(i){var o=[],l=Object.prototype.hasOwnProperty;for(var a in i)l.call(i,a)&&o.push(a);return o}},{}],21:[function(r,t,n){(function(s){var i=r("isarray");t.exports=o;function o(l){function a(h){if(!h)return!1;if(s.Buffer&&s.Buffer.isBuffer(h)||s.ArrayBuffer&&h instanceof ArrayBuffer||s.Blob&&h instanceof Blob||s.File&&h instanceof File)return!0;if(i(h)){for(var f=0;f<h.length;f++)if(a(h[f]))return!0}else if(h&&typeof h=="object"){h.toJSON&&(h=h.toJSON());for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&a(h[g]))return!0}return!1}return a(l)}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{isarray:24}],22:[function(r,t,n){try{t.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{t.exports=!1}},{}],23:[function(r,t,n){var s=[].indexOf;t.exports=function(i,o){if(s)return i.indexOf(o);for(var l=0;l<i.length;++l)if(i[l]===o)return l;return-1}},{}],24:[function(r,t,n){t.exports=Array.isArray||function(s){return Object.prototype.toString.call(s)=="[object Array]"}},{}],25:[function(r,t,n){var s=1e3,i=s*60,o=i*60,l=o*24,a=l*365.25;t.exports=function(p,c){return c=c||{},typeof p=="string"?h(p):c.long?g(p):f(p)};function h(p){if(p=""+p,!(p.length>1e4)){var c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(c){var u=parseFloat(c[1]),d=(c[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*l;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*i;case"seconds":case"second":case"secs":case"sec":case"s":return u*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u}}}}function f(p){return p>=l?Math.round(p/l)+"d":p>=o?Math.round(p/o)+"h":p>=i?Math.round(p/i)+"m":p>=s?Math.round(p/s)+"s":p+"ms"}function g(p){return y(p,l,"day")||y(p,o,"hour")||y(p,i,"minute")||y(p,s,"second")||p+" ms"}function y(p,c,u){if(!(p<c))return p<c*1.5?Math.floor(p/c)+" "+u:Math.ceil(p/c)+" "+u+"s"}},{}],26:[function(r,t,n){(function(s){var i=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,a=/(?:^|:|,)(?:\s*\[)+/g,h=/^\s+/,f=/\s+$/;t.exports=function(y){if(typeof y!="string"||!y)return null;if(y=y.replace(h,"").replace(f,""),s.JSON&&JSON.parse)return JSON.parse(y);if(i.test(y.replace(o,"@").replace(l,"]").replace(a,"")))return new Function("return "+y)()}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{}],27:[function(r,t,n){n.encode=function(s){var i="";for(var o in s)s.hasOwnProperty(o)&&(i.length&&(i+="&"),i+=encodeURIComponent(o)+"="+encodeURIComponent(s[o]));return i},n.decode=function(s){for(var i={},o=s.split("&"),l=0,a=o.length;l<a;l++){var h=o[l].split("=");i[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return i}},{}],28:[function(r,t,n){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(l){var a=l,h=l.indexOf("["),f=l.indexOf("]");h!=-1&&f!=-1&&(l=l.substring(0,h)+l.substring(h,f).replace(/:/g,";")+l.substring(f,l.length));for(var g=s.exec(l||""),y={},p=14;p--;)y[i[p]]=g[p]||"";return h!=-1&&f!=-1&&(y.source=a,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=!0),y}},{}],29:[function(r,t,n){(function(s){(function(i){var o=typeof n=="object"&&n,l=typeof t=="object"&&t&&t.exports==o&&t,a=typeof s=="object"&&s;(a.global===a||a.window===a)&&(i=a);var h=String.fromCharCode;function f($){for(var b=[],P=0,T=$.length,S,H;P<T;)S=$.charCodeAt(P++),S>=55296&&S<=56319&&P<T?(H=$.charCodeAt(P++),(H&64512)==56320?b.push(((S&1023)<<10)+(H&1023)+65536):(b.push(S),P--)):b.push(S);return b}function g($){for(var b=$.length,P=-1,T,S="";++P<b;)T=$[P],T>65535&&(T-=65536,S+=h(T>>>10&1023|55296),T=56320|T&1023),S+=h(T);return S}function y($){if($>=55296&&$<=57343)throw Error("Lone surrogate U+"+$.toString(16).toUpperCase()+" is not a scalar value")}function p($,b){return h($>>b&63|128)}function c($){if(!($&4294967168))return h($);var b="";return $&4294965248?$&4294901760?$&4292870144||(b=h($>>18&7|240),b+=p($,12),b+=p($,6)):(y($),b=h($>>12&15|224),b+=p($,6)):b=h($>>6&31|192),b+=h($&63|128),b}function u($){for(var b=f($),P=b.length,T=-1,S,H="";++T<P;)S=b[T],H+=c(S);return H}function d(){if(x>=N)throw Error("Invalid byte index");var $=_[x]&255;if(x++,($&192)==128)return $&63;throw Error("Invalid continuation byte")}function v(){var $,b,P,T,S;if(x>N)throw Error("Invalid byte index");if(x==N)return!1;if($=_[x]&255,x++,!($&128))return $;if(($&224)==192){var b=d();if(S=($&31)<<6|b,S>=128)return S;throw Error("Invalid continuation byte")}if(($&240)==224){if(b=d(),P=d(),S=($&15)<<12|b<<6|P,S>=2048)return y(S),S;throw Error("Invalid continuation byte")}if(($&248)==240&&(b=d(),P=d(),T=d(),S=($&15)<<18|b<<12|P<<6|T,S>=65536&&S<=1114111))return S;throw Error("Invalid UTF-8 detected")}var _,N,x;function A($){_=f($),N=_.length,x=0;for(var b=[],P;(P=v())!==!1;)b.push(P);return g(b)}var D={version:"2.0.0",encode:u,decode:A};if(o&&!o.nodeType)if(l)l.exports=D;else{var m={},M=m.hasOwnProperty;for(var I in D)M.call(D,I)&&(o[I]=D[I])}else i.utf8=D})(this)}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{}],30:[function(r,t,n){var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},l=0,a=0,h;function f(p){var c="";do c=s[p%i]+c,p=Math.floor(p/i);while(p>0);return c}function g(p){var c=0;for(a=0;a<p.length;a++)c=c*i+o[p.charAt(a)];return c}function y(){var p=f(+new Date);return p!==h?(l=0,h=p):p+"."+f(l++)}for(;a<i;a++)o[s[a]]=a;y.encode=f,y.decode=g,t.exports=y},{}],31:[function(r,t,n){var s=r("./url"),i=r("socket.io-parser"),o=r("./manager"),l=r("debug")("socket.io-client");t.exports=n=h;var a=n.managers={};function h(f,g){typeof f=="object"&&(g=f,f=void 0),g=g||{};var y=s(f),p=y.source,c=y.id,u=y.path,d=a[c]&&u in a[c].nsps,v=g.forceNew||g["force new connection"]||g.multiplex===!1||d,_;return v?(l("ignoring socket cache for %s",p),_=o(p,g)):(a[c]||(l("new io instance for %s",p),a[c]=o(p,g)),_=a[c]),_.socket(y.path)}n.protocol=i.protocol,n.connect=h,n.Manager=r("./manager"),n.Socket=r("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(r,t,n){var s=r("engine.io-client"),i=r("./socket"),o=r("component-emitter"),l=r("socket.io-parser"),a=r("./on"),h=r("component-bind"),f=r("debug")("socket.io-client:manager"),g=r("indexof"),y=r("backo2"),p=Object.prototype.hasOwnProperty;t.exports=c;function c(u,d){if(!(this instanceof c))return new c(u,d);u&&typeof u=="object"&&(d=u,u=void 0),d=d||{},d.path=d.path||"/socket.io",this.nsps={},this.subs=[],this.opts=d,this.reconnection(d.reconnection!==!1),this.reconnectionAttempts(d.reconnectionAttempts||1/0),this.reconnectionDelay(d.reconnectionDelay||1e3),this.reconnectionDelayMax(d.reconnectionDelayMax||5e3),this.randomizationFactor(d.randomizationFactor||.5),this.backoff=new y({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(d.timeout==null?2e4:d.timeout),this.readyState="closed",this.uri=u,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new l.Encoder,this.decoder=new l.Decoder,this.autoConnect=d.autoConnect!==!1,this.autoConnect&&this.open()}c.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var u in this.nsps)p.call(this.nsps,u)&&this.nsps[u].emit.apply(this.nsps[u],arguments)},c.prototype.updateSocketIds=function(){for(var u in this.nsps)p.call(this.nsps,u)&&(this.nsps[u].id=this.engine.id)},o(c.prototype),c.prototype.reconnection=function(u){return arguments.length?(this._reconnection=!!u,this):this._reconnection},c.prototype.reconnectionAttempts=function(u){return arguments.length?(this._reconnectionAttempts=u,this):this._reconnectionAttempts},c.prototype.reconnectionDelay=function(u){return arguments.length?(this._reconnectionDelay=u,this.backoff&&this.backoff.setMin(u),this):this._reconnectionDelay},c.prototype.randomizationFactor=function(u){return arguments.length?(this._randomizationFactor=u,this.backoff&&this.backoff.setJitter(u),this):this._randomizationFactor},c.prototype.reconnectionDelayMax=function(u){return arguments.length?(this._reconnectionDelayMax=u,this.backoff&&this.backoff.setMax(u),this):this._reconnectionDelayMax},c.prototype.timeout=function(u){return arguments.length?(this._timeout=u,this):this._timeout},c.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},c.prototype.open=c.prototype.connect=function(u){if(f("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=s(this.uri,this.opts);var d=this.engine,v=this;this.readyState="opening",this.skipReconnect=!1;var _=a(d,"open",function(){v.onopen(),u&&u()}),N=a(d,"error",function(D){if(f("connect_error"),v.cleanup(),v.readyState="closed",v.emitAll("connect_error",D),u){var m=new Error("Connection error");m.data=D,u(m)}else v.maybeReconnectOnOpen()});if(this._timeout!==!1){var x=this._timeout;f("connect attempt will timeout after %d",x);var A=setTimeout(function(){f("connect attempt timed out after %d",x),_.destroy(),d.close(),d.emit("error","timeout"),v.emitAll("connect_timeout",x)},x);this.subs.push({destroy:function(){clearTimeout(A)}})}return this.subs.push(_),this.subs.push(N),this},c.prototype.onopen=function(){f("open"),this.cleanup(),this.readyState="open",this.emit("open");var u=this.engine;this.subs.push(a(u,"data",h(this,"ondata"))),this.subs.push(a(u,"ping",h(this,"onping"))),this.subs.push(a(u,"pong",h(this,"onpong"))),this.subs.push(a(u,"error",h(this,"onerror"))),this.subs.push(a(u,"close",h(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",h(this,"ondecoded")))},c.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},c.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},c.prototype.ondata=function(u){this.decoder.add(u)},c.prototype.ondecoded=function(u){this.emit("packet",u)},c.prototype.onerror=function(u){f("error",u),this.emitAll("error",u)},c.prototype.socket=function(u){var d=this.nsps[u];if(!d){d=new i(this,u),this.nsps[u]=d;var v=this;d.on("connecting",_),d.on("connect",function(){d.id=v.engine.id}),this.autoConnect&&_()}function _(){~g(v.connecting,d)||v.connecting.push(d)}return d},c.prototype.destroy=function(u){var d=g(this.connecting,u);~d&&this.connecting.splice(d,1),!this.connecting.length&&this.close()},c.prototype.packet=function(u){f("writing packet %j",u);var d=this;d.encoding?d.packetBuffer.push(u):(d.encoding=!0,this.encoder.encode(u,function(v){for(var _=0;_<v.length;_++)d.engine.write(v[_],u.options);d.encoding=!1,d.processPacketQueue()}))},c.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var u=this.packetBuffer.shift();this.packet(u)}},c.prototype.cleanup=function(){f("cleanup");for(var u;u=this.subs.shift();)u.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},c.prototype.close=c.prototype.disconnect=function(){f("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState=="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},c.prototype.onclose=function(u){f("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",u),this._reconnection&&!this.skipReconnect&&this.reconnect()},c.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var u=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var d=this.backoff.duration();f("will wait %dms before reconnect attempt",d),this.reconnecting=!0;var v=setTimeout(function(){u.skipReconnect||(f("attempting reconnect"),u.emitAll("reconnect_attempt",u.backoff.attempts),u.emitAll("reconnecting",u.backoff.attempts),!u.skipReconnect&&u.open(function(_){_?(f("reconnect attempt error"),u.reconnecting=!1,u.reconnect(),u.emitAll("reconnect_error",_.data)):(f("reconnect success"),u.onreconnect())}))},d);this.subs.push({destroy:function(){clearTimeout(v)}})}},c.prototype.onreconnect=function(){var u=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",u)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(r,t,n){t.exports=s;function s(i,o,l){return i.on(o,l),{destroy:function(){i.removeListener(o,l)}}}},{}],34:[function(r,t,n){var s=r("socket.io-parser"),i=r("component-emitter"),o=r("to-array"),l=r("./on"),a=r("component-bind"),h=r("debug")("socket.io-client:socket"),f=r("has-binary");t.exports=p;var g={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},y=i.prototype.emit;function p(c,u){this.io=c,this.nsp=u,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[l(c,"open",a(this,"onopen")),l(c,"packet",a(this,"onpacket")),l(c,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),this.io.readyState=="open"&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var c=o(arguments);return c.unshift("message"),this.emit.apply(this,c),this},p.prototype.emit=function(c){if(g.hasOwnProperty(c))return y.apply(this,arguments),this;var u=o(arguments),d=s.EVENT;f(u)&&(d=s.BINARY_EVENT);var v={type:d,data:u};return v.options={},v.options.compress=!this.flags||this.flags.compress!==!1,typeof u[u.length-1]=="function"&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=u.pop(),v.id=this.ids++),this.connected?this.packet(v):this.sendBuffer.push(v),delete this.flags,this},p.prototype.packet=function(c){c.nsp=this.nsp,this.io.packet(c)},p.prototype.onopen=function(){h("transport is open - connecting"),this.nsp!="/"&&this.packet({type:s.CONNECT})},p.prototype.onclose=function(c){h("close (%s)",c),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",c)},p.prototype.onpacket=function(c){if(c.nsp==this.nsp)switch(c.type){case s.CONNECT:this.onconnect();break;case s.EVENT:this.onevent(c);break;case s.BINARY_EVENT:this.onevent(c);break;case s.ACK:this.onack(c);break;case s.BINARY_ACK:this.onack(c);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",c.data);break}},p.prototype.onevent=function(c){var u=c.data||[];h("emitting event %j",u),c.id!=null&&(h("attaching ack callback to event"),u.push(this.ack(c.id))),this.connected?y.apply(this,u):this.receiveBuffer.push(u)},p.prototype.ack=function(c){var u=this,d=!1;return function(){if(!d){d=!0;var v=o(arguments);h("sending ack %j",v);var _=f(v)?s.BINARY_ACK:s.ACK;u.packet({type:_,id:c,data:v})}}},p.prototype.onack=function(c){var u=this.acks[c.id];typeof u=="function"?(h("calling ack %s with %j",c.id,c.data),u.apply(this,c.data),delete this.acks[c.id]):h("bad ack %s",c.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++)y.apply(this,this.receiveBuffer[c]);for(this.receiveBuffer=[],c=0;c<this.sendBuffer.length;c++)this.packet(this.sendBuffer[c]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++)this.subs[c].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(c){return this.flags=this.flags||{},this.flags.compress=c,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(r,t,n){(function(s){var i=r("parseuri"),o=r("debug")("socket.io-client:url");t.exports=l;function l(a,g){var f=a,g=g||s.location;a==null&&(a=g.protocol+"//"+g.host),typeof a=="string"&&(a.charAt(0)=="/"&&(a.charAt(1)=="/"?a=g.protocol+a:a=g.host+a),/^(https?|wss?):\/\//.test(a)||(o("protocol-less url %s",a),typeof g<"u"?a=g.protocol+"//"+a:a="https://"+a),o("parse %s",a),f=i(a)),f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443")),f.path=f.path||"/";var y=f.host.indexOf(":")!==-1,p=y?"["+f.host+"]":f.host;return f.id=f.protocol+"://"+p+":"+f.port,f.href=f.protocol+"://"+p+(g&&g.port==f.port?"":":"+f.port),f}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{debug:39,parseuri:45}],36:[function(r,t,n){t.exports=s;function s(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}s.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),l=Math.floor(o*this.jitter*i);i=Math.floor(o*10)&1?i+l:i-l}return Math.min(i,this.max)|0},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(i){this.ms=i},s.prototype.setMax=function(i){this.max=i},s.prototype.setJitter=function(i){this.jitter=i}},{}],37:[function(r,t,n){var s=[].slice;t.exports=function(i,o){if(typeof o=="string"&&(o=i[o]),typeof o!="function")throw new Error("bind() requires a function");var l=s.call(arguments,2);return function(){return o.apply(i,l.concat(s.call(arguments)))}}},{}],38:[function(r,t,n){t.exports=s;function s(o){if(o)return i(o)}function i(o){for(var l in s.prototype)o[l]=s.prototype[l];return o}s.prototype.on=s.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},s.prototype.once=function(o,l){function a(){this.off(o,a),l.apply(this,arguments)}return a.fn=l,this.on(o,a),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+o];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var h,f=0;f<a.length;f++)if(h=a[f],h===l||h.fn===l){a.splice(f,1);break}return this},s.prototype.emit=function(o){this._callbacks=this._callbacks||{};var l=[].slice.call(arguments,1),a=this._callbacks["$"+o];if(a){a=a.slice(0);for(var h=0,f=a.length;h<f;++h)a[h].apply(this,l)}return this},s.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},s.prototype.hasListeners=function(o){return!!this.listeners(o).length}},{}],39:[function(r,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(r,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(r,t,n){(function(s){var i=r("isarray");t.exports=o;function o(l){function a(h){if(!h)return!1;if(s.Buffer&&s.Buffer.isBuffer&&s.Buffer.isBuffer(h)||s.ArrayBuffer&&h instanceof ArrayBuffer||s.Blob&&h instanceof Blob||s.File&&h instanceof File)return!0;if(i(h)){for(var f=0;f<h.length;f++)if(a(h[f]))return!0}else if(h&&typeof h=="object"){h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON());for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&a(h[g]))return!0}return!1}return a(l)}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{isarray:43}],42:[function(r,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(r,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(r,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(r,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(r,t,n){(function(s){var i=r("isarray"),o=r("./is-buffer");n.deconstructPacket=function(l){var a=[],h=l.data;function f(y){if(!y)return y;if(o(y)){var p={_placeholder:!0,num:a.length};return a.push(y),p}else if(i(y)){for(var c=new Array(y.length),u=0;u<y.length;u++)c[u]=f(y[u]);return c}else if(typeof y=="object"&&!(y instanceof Date)){var c={};for(var d in y)c[d]=f(y[d]);return c}return y}var g=l;return g.data=f(h),g.attachments=a.length,{packet:g,buffers:a}},n.reconstructPacket=function(l,a){function h(f){if(f&&f._placeholder){var g=a[f.num];return g}else if(i(f)){for(var y=0;y<f.length;y++)f[y]=h(f[y]);return f}else if(f&&typeof f=="object"){for(var p in f)f[p]=h(f[p]);return f}return f}return l.data=h(l.data),l.attachments=void 0,l},n.removeBlobs=function(l,a){function h(y,p,c){if(!y)return y;if(s.Blob&&y instanceof Blob||s.File&&y instanceof File){f++;var u=new FileReader;u.onload=function(){c?c[p]=this.result:g=this.result,--f||a(g)},u.readAsArrayBuffer(y)}else if(i(y))for(var d=0;d<y.length;d++)h(y[d],d,y);else if(y&&typeof y=="object"&&!o(y))for(var v in y)h(y[v],v,y)}var f=0,g=l;h(g),f||a(g)}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{"./is-buffer":48,isarray:43}],47:[function(r,t,n){var s=r("debug")("socket.io-parser"),i=r("json3");r("isarray");var o=r("component-emitter"),l=r("./binary"),a=r("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=h,n.Decoder=y;function h(){}h.prototype.encode=function(d,v){if(s("encoding packet %j",d),n.BINARY_EVENT==d.type||n.BINARY_ACK==d.type)g(d,v);else{var _=f(d);v([_])}};function f(d){var v="",_=!1;return v+=d.type,(n.BINARY_EVENT==d.type||n.BINARY_ACK==d.type)&&(v+=d.attachments,v+="-"),d.nsp&&d.nsp!="/"&&(_=!0,v+=d.nsp),d.id!=null&&(_&&(v+=",",_=!1),v+=d.id),d.data!=null&&(_&&(v+=","),v+=i.stringify(d.data)),s("encoded %j as %s",d,v),v}function g(d,v){function _(N){var x=l.deconstructPacket(N),A=f(x.packet),D=x.buffers;D.unshift(A),v(D)}l.removeBlobs(d,_)}function y(){this.reconstructor=null}o(y.prototype),y.prototype.add=function(d){var v;if(typeof d=="string")v=p(d),n.BINARY_EVENT==v.type||n.BINARY_ACK==v.type?(this.reconstructor=new c(v),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",v)):this.emit("decoded",v);else if(a(d)||d.base64)if(this.reconstructor)v=this.reconstructor.takeBinaryData(d),v&&(this.reconstructor=null,this.emit("decoded",v));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+d)};function p(d){var v={},_=0;if(v.type=Number(d.charAt(0)),n.types[v.type]==null)return u();if(n.BINARY_EVENT==v.type||n.BINARY_ACK==v.type){for(var N="";d.charAt(++_)!="-"&&(N+=d.charAt(_),_!=d.length););if(N!=Number(N)||d.charAt(_)!="-")throw new Error("Illegal attachments");v.attachments=Number(N)}if(d.charAt(_+1)=="/")for(v.nsp="";++_;){var x=d.charAt(_);if(x==","||(v.nsp+=x,_==d.length))break}else v.nsp="/";var A=d.charAt(_+1);if(A!==""&&Number(A)==A){for(v.id="";++_;){var x=d.charAt(_);if(x==null||Number(x)!=x){--_;break}if(v.id+=d.charAt(_),_==d.length)break}v.id=Number(v.id)}if(d.charAt(++_))try{v.data=i.parse(d.substr(_))}catch{return u()}return s("decoded %s as %j",d,v),v}y.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function c(d){this.reconPack=d,this.buffers=[]}c.prototype.takeBinaryData=function(d){if(this.buffers.push(d),this.buffers.length==this.reconPack.attachments){var v=l.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),v}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function u(d){return{type:n.ERROR,data:"parser error"}}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(r,t,n){(function(s){t.exports=i;function i(o){return s.Buffer&&s.Buffer.isBuffer(o)||s.ArrayBuffer&&o instanceof ArrayBuffer}}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{}],49:[function(r,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(r,t,n){(function(s){(function(){var i=typeof e=="function",o={function:!0,object:!0},l=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof window]&&window||this,h=l&&o[typeof t]&&t&&!t.nodeType&&typeof s=="object"&&s;h&&(h.global===h||h.window===h||h.self===h)&&(a=h);function f(u,d){u||(u=a.Object()),d||(d=a.Object());var v=u.Number||a.Number,_=u.String||a.String,N=u.Object||a.Object,x=u.Date||a.Date,A=u.SyntaxError||a.SyntaxError,D=u.TypeError||a.TypeError,m=u.Math||a.Math,M=u.JSON||a.JSON;typeof M=="object"&&M&&(d.stringify=M.stringify,d.parse=M.parse);var I=N.prototype,$=I.toString,b,P,T,S=new x(-0xc782b5b800cec);try{S=S.getUTCFullYear()==-109252&&S.getUTCMonth()===0&&S.getUTCDate()===1&&S.getUTCHours()==10&&S.getUTCMinutes()==37&&S.getUTCSeconds()==6&&S.getUTCMilliseconds()==708}catch{}function H(B){if(H[B]!==T)return H[B];var W;if(B=="bug-string-char-index")W=!1;else if(B=="json")W=H("json-stringify")&&H("json-parse");else{var Z,Y='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(B=="json-stringify"){var z=d.stringify,he=typeof z=="function"&&S;if(he){(Z=function(){return 1}).toJSON=Z;try{he=z(0)==="0"&&z(new v)==="0"&&z(new _)=='""'&&z($)===T&&z(T)===T&&z()===T&&z(Z)==="1"&&z([Z])=="[1]"&&z([T])=="[null]"&&z(null)=="null"&&z([T,$,null])=="[null,null,null]"&&z({a:[Z,!0,!1,null,`\0\b
\f\r	`]})==Y&&z(null,Z)==="1"&&z([1,2],null,1)==`[
 1,
 2
]`&&z(new x(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&z(new x(864e13))=='"+275760-09-13T00:00:00.000Z"'&&z(new x(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&z(new x(-1))=='"1969-12-31T23:59:59.999Z"'}catch{he=!1}}W=he}if(B=="json-parse"){var O=d.parse;if(typeof O=="function")try{if(O("0")===0&&!O(!1)){Z=O(Y);var X=Z.a.length==5&&Z.a[0]===1;if(X){try{X=!O('"	"')}catch{}if(X)try{X=O("01")!==1}catch{}if(X)try{X=O("1.")!==1}catch{}}}}catch{X=!1}W=X}}return H[B]=!!W}if(!H("json")){var G="[object Function]",Q="[object Date]",V="[object Number]",J="[object String]",se="[object Array]",be="[object Boolean]",Pe=H("bug-string-char-index");if(!S)var q=m.floor,R=[0,31,59,90,120,151,181,212,243,273,304,334],ce=function(B,W){return R[W]+365*(B-1970)+q((B-1969+(W=+(W>1)))/4)-q((B-1901+W)/100)+q((B-1601+W)/400)};if((b=I.hasOwnProperty)||(b=function(B){var W={},Z;return(W.__proto__=null,W.__proto__={toString:1},W).toString!=$?b=function(Y){var z=this.__proto__,he=Y in(this.__proto__=null,this);return this.__proto__=z,he}:(Z=W.constructor,b=function(Y){var z=(this.constructor||Z).prototype;return Y in this&&!(Y in z&&this[Y]===z[Y])}),W=null,b.call(this,B)}),P=function(B,W){var Z=0,Y,z,he;(Y=function(){this.valueOf=0}).prototype.valueOf=0,z=new Y;for(he in z)b.call(z,he)&&Z++;return Y=z=null,Z?Z==2?P=function(O,X){var le={},ne=$.call(O)==G,we;for(we in O)!(ne&&we=="prototype")&&!b.call(le,we)&&(le[we]=1)&&b.call(O,we)&&X(we)}:P=function(O,X){var le=$.call(O)==G,ne,we;for(ne in O)!(le&&ne=="prototype")&&b.call(O,ne)&&!(we=ne==="constructor")&&X(ne);(we||b.call(O,ne="constructor"))&&X(ne)}:(z=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],P=function(O,X){var le=$.call(O)==G,ne,we,De=!le&&typeof O.constructor!="function"&&o[typeof O.hasOwnProperty]&&O.hasOwnProperty||b;for(ne in O)!(le&&ne=="prototype")&&De.call(O,ne)&&X(ne);for(we=z.length;ne=z[--we];De.call(O,ne)&&X(ne));}),P(B,W)},!H("json-stringify")){var ue={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},re="000000",ie=function(B,W){return(re+(W||0)).slice(-B)},de="\\u00",$e=function(B){for(var W='"',Z=0,Y=B.length,z=!Pe||Y>10,he=z&&(Pe?B.split(""):B);Z<Y;Z++){var O=B.charCodeAt(Z);switch(O){case 8:case 9:case 10:case 12:case 13:case 34:case 92:W+=ue[O];break;default:if(O<32){W+=de+ie(2,O.toString(16));break}W+=z?he[Z]:B.charAt(Z)}}return W+'"'},me=function(B,W,Z,Y,z,he,O){var X,le,ne,we,De,fe,et,tt,nt,rt,Le,st,Xe,Je,it,ot;try{X=W[B]}catch{}if(typeof X=="object"&&X)if(le=$.call(X),le==Q&&!b.call(X,"toJSON"))if(X>-1/0&&X<1/0){if(ce){for(De=q(X/864e5),ne=q(De/365.2425)+1970-1;ce(ne+1,0)<=De;ne++);for(we=q((De-ce(ne,0))/30.42);ce(ne,we+1)<=De;we++);De=1+De-ce(ne,we),fe=(X%864e5+864e5)%864e5,et=q(fe/36e5)%24,tt=q(fe/6e4)%60,nt=q(fe/1e3)%60,rt=fe%1e3}else ne=X.getUTCFullYear(),we=X.getUTCMonth(),De=X.getUTCDate(),et=X.getUTCHours(),tt=X.getUTCMinutes(),nt=X.getUTCSeconds(),rt=X.getUTCMilliseconds();X=(ne<=0||ne>=1e4?(ne<0?"-":"+")+ie(6,ne<0?-ne:ne):ie(4,ne))+"-"+ie(2,we+1)+"-"+ie(2,De)+"T"+ie(2,et)+":"+ie(2,tt)+":"+ie(2,nt)+"."+ie(3,rt)+"Z"}else X=null;else typeof X.toJSON=="function"&&(le!=V&&le!=J&&le!=se||b.call(X,"toJSON"))&&(X=X.toJSON(B));if(Z&&(X=Z.call(W,B,X)),X===null)return"null";if(le=$.call(X),le==be)return""+X;if(le==V)return X>-1/0&&X<1/0?""+X:"null";if(le==J)return $e(""+X);if(typeof X=="object"){for(Je=O.length;Je--;)if(O[Je]===X)throw D();if(O.push(X),Le=[],it=he,he+=z,le==se){for(Xe=0,Je=X.length;Xe<Je;Xe++)st=me(Xe,X,Z,Y,z,he,O),Le.push(st===T?"null":st);ot=Le.length?z?`[
`+he+Le.join(`,
`+he)+`
`+it+"]":"["+Le.join(",")+"]":"[]"}else P(Y||X,function(_t){var Et=me(_t,X,Z,Y,z,he,O);Et!==T&&Le.push($e(_t)+":"+(z?" ":"")+Et)}),ot=Le.length?z?`{
`+he+Le.join(`,
`+he)+`
`+it+"}":"{"+Le.join(",")+"}":"{}";return O.pop(),ot}};d.stringify=function(B,W,Z){var Y,z,he,O;if(o[typeof W]&&W){if((O=$.call(W))==G)z=W;else if(O==se){he={};for(var X=0,le=W.length,ne;X<le;ne=W[X++],O=$.call(ne),(O==J||O==V)&&(he[ne]=1));}}if(Z)if((O=$.call(Z))==V){if((Z-=Z%1)>0)for(Y="",Z>10&&(Z=10);Y.length<Z;Y+=" ");}else O==J&&(Y=Z.length<=10?Z:Z.slice(0,10));return me("",(ne={},ne[""]=B,ne),z,he,Y,"",[])}}if(!H("json-parse")){var pe=_.fromCharCode,Me={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},K,Ee,ge=function(){throw K=Ee=null,A()},ye=function(){for(var B=Ee,W=B.length,Z,Y,z,he,O;K<W;)switch(O=B.charCodeAt(K),O){case 9:case 10:case 13:case 32:K++;break;case 123:case 125:case 91:case 93:case 58:case 44:return Z=Pe?B.charAt(K):B[K],K++,Z;case 34:for(Z="@",K++;K<W;)if(O=B.charCodeAt(K),O<32)ge();else if(O==92)switch(O=B.charCodeAt(++K),O){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:Z+=Me[O],K++;break;case 117:for(Y=++K,z=K+4;K<z;K++)O=B.charCodeAt(K),O>=48&&O<=57||O>=97&&O<=102||O>=65&&O<=70||ge();Z+=pe("0x"+B.slice(Y,K));break;default:ge()}else{if(O==34)break;for(O=B.charCodeAt(K),Y=K;O>=32&&O!=92&&O!=34;)O=B.charCodeAt(++K);Z+=B.slice(Y,K)}if(B.charCodeAt(K)==34)return K++,Z;ge();default:if(Y=K,O==45&&(he=!0,O=B.charCodeAt(++K)),O>=48&&O<=57){for(O==48&&(O=B.charCodeAt(K+1),O>=48&&O<=57)&&ge(),he=!1;K<W&&(O=B.charCodeAt(K),O>=48&&O<=57);K++);if(B.charCodeAt(K)==46){for(z=++K;z<W&&(O=B.charCodeAt(z),O>=48&&O<=57);z++);z==K&&ge(),K=z}if(O=B.charCodeAt(K),O==101||O==69){for(O=B.charCodeAt(++K),(O==43||O==45)&&K++,z=K;z<W&&(O=B.charCodeAt(z),O>=48&&O<=57);z++);z==K&&ge(),K=z}return+B.slice(Y,K)}if(he&&ge(),B.slice(K,K+4)=="true")return K+=4,!0;if(B.slice(K,K+5)=="false")return K+=5,!1;if(B.slice(K,K+4)=="null")return K+=4,null;ge()}return"$"},Ce=function(B){var W,Z;if(B=="$"&&ge(),typeof B=="string"){if((Pe?B.charAt(0):B[0])=="@")return B.slice(1);if(B=="["){for(W=[];B=ye(),B!="]";Z||(Z=!0))Z&&(B==","?(B=ye(),B=="]"&&ge()):ge()),B==","&&ge(),W.push(Ce(B));return W}else if(B=="{"){for(W={};B=ye(),B!="}";Z||(Z=!0))Z&&(B==","?(B=ye(),B=="}"&&ge()):ge()),(B==","||typeof B!="string"||(Pe?B.charAt(0):B[0])!="@"||ye()!=":")&&ge(),W[B.slice(1)]=Ce(ye());return W}ge()}return B},xe=function(B,W,Z){var Y=Re(B,W,Z);Y===T?delete B[W]:B[W]=Y},Re=function(B,W,Z){var Y=B[W],z;if(typeof Y=="object"&&Y)if($.call(Y)==se)for(z=Y.length;z--;)xe(Y,z,Z);else P(Y,function(he){xe(Y,he,Z)});return Z.call(B,W,Y)};d.parse=function(B,W){var Z,Y;return K=0,Ee=""+B,Z=Ce(ye()),ye()!="$"&&ge(),K=Ee=null,W&&$.call(W)==G?Re((Y={},Y[""]=Z,Y),"",W):Z}}}return d.runInContext=f,d}if(l&&!i)f(a,l);else{var g=a.JSON,y=a.JSON3,p=!1,c=f(a,a.JSON3={noConflict:function(){return p||(p=!0,a.JSON=g,a.JSON3=y,g=y=null),c}});a.JSON={parse:c.parse,stringify:c.stringify}}}).call(this)}).call(this,typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{})},{}],51:[function(r,t,n){t.exports=s;function s(i,o){var l=[];o=o||0;for(var a=o||0;a<i.length;a++)l[a-o]=i[a];return l}},{}]},{},[31])(31)}const oe={ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(e,r){if(!this.handlers[e]){var t=function(n){e!="disconnect"&&typeof n=="string"&&(n=JSON.parse(n)),r(n)};this.handlers[e]=t,this.sio&&this.sio.on(e,t)}},connect:function(e,r){var t=this,n={reconnection:!1,"force new connection":!0,transports:["websocket","polling"]};this.sio=ps().connect(this.ip,n),this.sio.on("reconnect",function(){console.log("reconnection")}),this.sio.on("connect",function(o){t.sio.connected=!0,e(o)}),this.sio.on("disconnect",function(o){console.log("disconnect"),location.reload(),t.sio.connected=!1,t.close()}),this.sio.on("connect_failed",function(){console.log("connect_failed")});for(var s in this.handlers){var i=this.handlers[s];typeof i=="function"&&(s=="disconnect"?this.fnDisconnect=i:this.sio.on(s,i))}this.startHearbeat()},startHearbeat:function(){this.sio.on("game_pong",function(){console.log("game_pong"),e.lastRecieveTime=Date.now()}),this.lastRecieveTime=Date.now();var e=this;console.log(1),e.isPinging||(console.log(1),e.isPinging=!0)},send:function(e,r){console.log(e),console.log(r),this.sio.connected&&(r!=null&&typeof r=="object"&&(r=JSON.stringify(r)),this.sio.emit(e,r))},ping:function(){this.send("game_ping")},close:function(){console.log("close"),this.sio&&this.sio.connected&&(this.sio.connected=!1,this.sio.disconnect(),this.sio=null),this.fnDisconnect&&(this.fnDisconnect(),this.fnDisconnect=null)},test:function(e){var r=null,t=function(i){e(i.isonline),r=null},n=this.ip.split(":"),s={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign,ip:n[0],port:n[1]};r=cc.vv.http.sendRequest("/is_server_online",s,t),setTimeout(function(){r&&(r.abort(),e(!1))},1500)}},dt={dataEventHandler:null,roomId:null,maxNumOfGames:0,numOfGames:0,numOfMJ:0,seatIndex:-1,seats:[],turn:-1,button:-1,chupai:-1,gamestate:"",isOver:!1,dissoveData:null,reset:function(){this.turn=-1,this.chupai=-1,this.button=-1,this.gamestate="",this.curaction=null;for(var e=0;e<this.seats.length;++e)this.seats[e].holds=[],this.seats[e].folds=[],this.seats[e].pengs=[],this.seats[e].angangs=[],this.seats[e].diangangs=[],this.seats[e].wangangs=[],this.seats[e].ready=!1,this.seats[e].hued=!1},clear:function(){this.dataEventHandler=null,this.isOver==null&&(this.seats=[],this.roomId=null,this.maxNumOfGames=0,this.numOfGames=0)},dispatchEvent(e,r){this.dataEventHandler&&this.dataEventHandler.emit(e,r)},getSeatIndexByID:function(e){for(var r=0;r<this.seats.length;++r){var t=this.seats[r];if(t.userid==e)return r}return-1},isOwner:function(){return this.seatIndex==0},getSeatByID:function(e){var r=this.getSeatIndexByID(e),t=this.seats[r];return t},getSelfData:function(){return this.seats[this.seatIndex]},getLocalIndex:function(e){var r=(e-this.seatIndex+4)%4;return r},prepareReplay:function(e,r){this.roomId=e.id,this.seats=e.seats,this.turn=r.base_info.button;for(var t=r.base_info,n=0;n<this.seats.length;++n){var s=this.seats[n];s.seatindex=n,s.score=null,s.exp=0,s.holds=t.game_seats[n],s.pengs=[],s.angangs=[],s.diangangs=[],s.wangangs=[],s.folds=[],console.log(s),Ze.userId==s.userid&&(this.seatIndex=n)}this.conf={type:t.type},this.conf.type==null&&this.conf.type=="xzdd"},getWanfa:function(){var e=this.conf;if(e&&e.maxGames!=null&&e.maxFan!=null){var r=[];return r.push(e.maxGames+"局"),r.push(e.maxFan+"番封顶"),e.hsz&&r.push("换三张"),e.zimo==1?r.push("自摸加番"):r.push("自摸加底"),e.jiangdui&&r.push("将对"),e.dianganghua==1?r.push("点杠花(自摸)"):r.push("点杠花(放炮)"),e.menqing&&r.push("门清、中张"),e.tiandihu&&r.push("天地胡"),r.join(" ")}return""},initHandlers:function(){var e=this;oe.addHandler("login_result",function(r){if(console.log(r),r.errcode===0){var r=r.data;e.roomId=r.roomid,e.conf=r.conf,e.maxNumOfGames=r.conf.maxGames,e.numOfGames=r.numofgames,e.seats=r.seats,e.seatIndex=e.getSeatIndexByID(Ze.userId),e.isOver=!1}else console.log(r.errmsg)}),oe.addHandler("login_finished",function(r){console.log("login_finished"),e.dispatchEvent("login_finished",r)}),oe.addHandler("name_changed",function(r){console.log("name_changed "+r),e.dispatchEvent("name_changed",r)}),oe.addHandler("ai_notice_push",function(r){console.log("ai_notice_push "+r),e.dispatchEvent("ai_notice",r)}),oe.addHandler("message_push",function(r){console.log("message_push "+r),e.dispatchEvent("message",r)}),oe.addHandler("exit_result",function(r){e.roomId=null,e.turn=-1,e.seats=[]}),oe.addHandler("exit_notify_push",function(r){var t=r,n=e.getSeatByID(t);n!=null&&(n.userid=0,n.name="",e.dispatchEvent("user_state_changed",n))}),oe.addHandler("dispress_push",function(r){e.roomId=null,e.turn=-1,e.seats=[]}),oe.addHandler("disconnect",function(r){e.roomId==null||(e.isOver==!1?(Ze.oldRoomId=e.roomId,e.dispatchEvent("disconnect")):e.roomId=null)}),oe.addHandler("new_user_comes_push",function(r){var t=r.seatindex;e.seats[t].userid>0?e.seats[t].online=!0:(r.online=!0,e.seats[t]=r),e.dispatchEvent("new_user",e.seats)}),oe.addHandler("user_state_push",function(r){var t=r.userid,n=e.getSeatByID(t);n.online=r.online,e.dispatchEvent("user_state_changed",n)}),oe.addHandler("user_ready_push",function(r){var t=r.userid,n=e.getSeatByID(t);n.ready=r.ready,e.dispatchEvent("user_state_changed",n)}),oe.addHandler("game_holds_push",function(r){var t=e.seats[e.seatIndex];console.log(r),t.holds=r;for(var n=0;n<e.seats.length;++n){var s=e.seats[n];s.folds==null&&(s.folds=[]),s.pengs==null&&(s.pengs=[]),s.angangs==null&&(s.angangs=[]),s.diangangs==null&&(s.diangangs=[]),s.wangangs==null&&(s.wangangs=[]),s.ready=!1}e.dispatchEvent("game_holds",e.seats)}),oe.addHandler("game_begin_push",function(r){console.log("game_begin_push"),console.log(r),e.button=r,e.turn=e.button,e.gamestate="begin",e.dispatchEvent("game_begin",r)}),oe.addHandler("game_playing_push",function(r){console.log("game_playing_push"),e.gamestate="playing",e.dispatchEvent("game_playing")}),oe.addHandler("game_sync_push",function(r){console.log("game_sync_push"),console.log(r),e.numOfMJ=r.numofmj,e.gamestate=r.state,e.turn=r.turn,e.button=r.button,e.chupai=r.chuPai;for(var t=0;t<4;++t){var n=e.seats[t],s=r.seats[t];n.holds=s.holds,n.folds=s.folds,n.angangs=s.angangs,n.diangangs=s.diangangs,n.wangangs=s.wangangs,n.pengs=s.pengs,n.hued=s.hued,n.iszimo=s.iszimo,n.huinfo=s.huinfo}e.dispatchEvent("game_sync",{data:r,seats:e.seats})}),oe.addHandler("game_action_push",function(r){e.curaction=r,console.log(r),e.dispatchEvent("game_action",r)}),oe.addHandler("game_chupai_push",function(r){console.log("game_chupai_push");var t=r,n=e.getSeatIndexByID(t);e.doTurnChange(n)}),oe.addHandler("game_num_push",function(r){e.numOfGames=r,e.dispatchEvent("game_num",r)}),oe.addHandler("game_over_push",function(r){console.log("game_over_push");let t=r.results,n=r.huPai;for(let i=0;i<e.seats.length;++i)e.seats[i].score=t.length==0?0:t[i].totalscore,i=="0"&&(e.seats[0].exp=t[0].exp);e.dispatchEvent("game_over",{data:t,huPai:n}),r.endinfo&&(e.isOver=!0,e.dispatchEvent("game_end",r.endinfo)),e.reset();for(var s=0;s<e.seats.length;++s)e.dispatchEvent("user_state_changed",e.seats[s])}),oe.addHandler("mj_count_push",function(r){console.log("mj_count_push"),e.numOfMJ=r,e.dispatchEvent("mj_count",r)}),oe.addHandler("hu_push",function(r){console.log("hu_push"),console.log(r),e.doHu(r)}),oe.addHandler("game_chupai_notify_push",function(r){var t=r.userId,n=r.pai,s=e.getSeatIndexByID(t);e.doChupai(s,n)}),oe.addHandler("game_mopai_push",function(r){console.log("game_mopai_push"),e.doMopai(e.seatIndex,r)}),oe.addHandler("guo_notify_push",function(r){console.log("guo_notify_push");var t=r.userId,n=r.pai,s=e.getSeatIndexByID(t);e.doGuo(s,n)}),oe.addHandler("guo_result",function(r){console.log("guo_result"),e.dispatchEvent("guo_result")}),oe.addHandler("guohu_push",function(r){console.log("guohu_push"),e.dispatchEvent("push_notice",{info:"过胡",time:1.5})}),oe.addHandler("peng_notify_push",function(r){console.log("peng_notify_push"),console.log(r);var t=r.userid;r.pai;var n=e.getSeatIndexByID(t);e.doPeng(n,r.pai)}),oe.addHandler("gang_notify_push",function(r){console.log("gang_notify_push"),console.log(r);var t=r.userid,n=r.pai,s=e.getSeatIndexByID(t);e.doGang(s,n,r.gangtype)}),oe.addHandler("chat_push",function(r){e.dispatchEvent("chat_push",r)}),oe.addHandler("quick_chat_push",function(r){e.dispatchEvent("quick_chat_push",r)}),oe.addHandler("emoji_push",function(r){e.dispatchEvent("emoji_push",r)}),oe.addHandler("dissolve_notice_push",function(r){console.log("dissolve_notice_push"),console.log(r),e.dissoveData=r,e.dispatchEvent("dissolve_notice",r)}),oe.addHandler("dissolve_push",function(r){console.log("dissolve_push"),console.log(r),e.roomId=null,e.turn=-1,e.seats=null,e.dispatchEvent("dissolve_push",r)}),oe.addHandler("dissolve_cancel_push",function(r){e.dissoveData=null,e.dispatchEvent("dissolve_cancel",r)}),oe.addHandler("voice_msg_push",function(r){e.dispatchEvent("voice_msg",r)}),oe.addHandler("connecting",function(r){e.dispatchEvent("connecting1",r)})},doGuo:function(e,r){var t=this.seats[e],n=t.folds;n.push(r),this.dispatchEvent("guo_notify",t)},doMopai:function(e,r){var t=this.seats[e];t.holds&&(t.holds.push(r),this.dispatchEvent("game_mopai",{seatIndex:e,pai:r}))},doChupai:function(e,r){this.chupai=r;var t=this.seats[e];if(t.holds){var n=t.holds.indexOf(r);t.holds.splice(n,1)}this.dispatchEvent("game_chupai_notify",{seatData:t,pai:r})},doPeng:function(e,r){var t=this.seats[e];if(t.holds)for(var n=0;n<2;++n){var s=t.holds.indexOf(r);t.holds.splice(s,1)}var i=t.pengs;i.push(r),this.dispatchEvent("peng_notify",t)},getGangType:function(e,r){if(e.pengs.indexOf(r)!=-1)return"wangang";for(var t=0,n=0;n<e.holds.length;++n)e.holds[n]==r&&t++;return t==3?"diangang":"angang"},doGang:function(e,r,t){var n=this.seats[e];if(t||(t=this.getGangType(n,r)),t=="wangang"){if(n.pengs.indexOf(r)!=-1){var s=n.pengs.indexOf(r);s!=-1&&n.pengs.splice(s,1)}n.wangangs.push(r)}if(n.holds&&n.holds.length>0){let i=[...n.holds];console.log("gang_notify_push:"),console.log(n.holds),console.log(i);let o=i.filter(l=>l!=r);n.holds=o}t=="angang"?n.angangs.push(r):t=="diangang"&&n.diangangs.push(r),this.dispatchEvent("gang_notify",{seatData:n,gangtype:t,pai:r})},doHu:function(e){this.dispatchEvent("hupai",e)},doTurnChange:function(e){var r={last:this.turn,turn:e};this.turn=e,this.dispatchEvent("game_chupai",r)}};class gs{constructor(){this.events={}}on(r,t,n){return this.events[r]||(this.events[r]=[]),this.events[r].push(t),this}emit(r,...t){const n=this.events[r];return n&&n.forEach(s=>s.apply(this,t)),this}off(r,t){return typeof r>"u"?delete this.events:typeof r=="string"&&(typeof t=="function"?this.events[r]=this.events[r].filter(n=>n!==t):delete this.events[r]),this}}const vs=L('<table><tbody><tr><td></td></tr><tr><td><img src="./assets/textures/images/Login/main3.jpg"></td></tr><tr><td><span>会员登录</span></td></tr><tr><td><table><tbody><tr><td>手机号码：<input></td></tr><tr><td>登录密码：<input type="password"></td></tr></tbody></table></td></tr><tr><td><span>注册</span><span> </span><span>登录</span></td></tr></tbody></table>'),_s=e=>{const[r,t]=j(null),[n,s]=j(null),i=h=>{t(h.target.value)},o=h=>{s(h.target.value)},l=function(h){h.preventDefault(),h.stopPropagation();let f={account:r(),password:n()};console.log(f),e.handleLoginClick(f)},a=(h,f)=>{h.preventDefault(),h.stopPropagation(),e.handleMainLoginShowClick(h,f)};return(()=>{const h=vs.cloneNode(!0),f=h.firstChild,g=f.firstChild,y=g.firstChild,p=g.nextSibling,c=p.firstChild,u=c.firstChild,d=p.nextSibling,v=d.firstChild,_=v.firstChild,N=d.nextSibling,x=N.firstChild,A=x.firstChild,D=A.firstChild,m=D.firstChild,M=m.firstChild,I=M.firstChild,$=I.nextSibling,b=m.nextSibling,P=b.firstChild,T=P.firstChild,S=T.nextSibling,H=N.nextSibling,G=H.firstChild,Q=G.firstChild,V=Q.nextSibling,J=V.nextSibling;return h.style.setProperty("width","100%"),h.style.setProperty("height","100%"),y.style.setProperty("height","20px"),c.style.setProperty("height","100px"),c.style.setProperty("text-align","center"),u.style.setProperty("width","240px"),v.style.setProperty("height","90px"),v.style.setProperty("text-align","center"),_.style.setProperty("font-size","30px"),x.style.setProperty("vertical-align","top"),x.style.setProperty("text-align","center"),A.style.setProperty("margin","0 auto"),m.style.setProperty("height","80px"),M.style.setProperty("text-align","left"),$.$$input=i,$.style.setProperty("line-height","30px"),b.style.setProperty("height","50px"),P.style.setProperty("text-align","left"),S.$$input=o,S.style.setProperty("line-height","30px"),G.style.setProperty("height","140px"),G.style.setProperty("text-align","center"),Q.$$click=se=>a(se,3),Q.$$touchend=se=>a(se,3),Q.style.setProperty("height","50px"),Q.style.setProperty("background-color","chocolate"),Q.style.setProperty("color","white"),Q.style.setProperty("border-radius","10px"),Q.style.setProperty("padding","10px 20px 10px 20px"),V.style.setProperty("padding","10px"),J.$$click=se=>l(se),J.$$touchend=se=>l(se),J.style.setProperty("height","50px"),J.style.setProperty("background-color","chocolate"),J.style.setProperty("color","white"),J.style.setProperty("border-radius","10px"),J.style.setProperty("padding","10px 20px 10px 20px"),E(()=>$.value=r()),E(()=>S.value=n()),h})()};Ie(["input","touchend","click"]);const $s=L('<table><tbody><tr><td></td></tr><tr><td><table><tbody><tr><td></td><td><span>X</span></td></tr></tbody></table></td></tr><tr><td><img src="./assets/textures/images/Login/main3.jpg"></td></tr><tr><td><span>会员注册</span></td></tr><tr><td><table><tbody><tr><td>登录手机：<input type="number"></td></tr><tr><td>登录密码：<input type="password"></td></tr><tr><td>确认密码：<input type="password"></td></tr><tr><td>玩家性别： 男：<input type="radio" name="sex" value="2">女：<input type="radio" name="sex" value="1"></td></tr><tr><td>玩家昵称：<input></td></tr></tbody></table></td></tr><tr><td><span>确定</span></td></tr></tbody></table>'),ms=e=>{const[r,t]=j(1),[n,s]=j(null),[i,o]=j(null),[l,a]=j(null),[h,f]=j(null),g=_=>{t(_.target.value)},y=_=>{s(_.target.value)},p=_=>{o(_.target.value)},c=_=>{a(_.target.value)},u=_=>{f(_.target.value)},d=_=>{_.preventDefault(),_.stopPropagation();let N={account:n(),password:l(),name:i(),sex:r()};if(console.log(N),!n()||!l()||!i()||!r()){alert("请按要求填好各项资料！");return}if(n().length!=11){alert("登录手机必须是11位数字！");return}if(i().length<2||i().length>6){alert("会员名称不要小于2或大于6！");return}if(i().indexOf("机器人")>=0){alert("会员名不能包含机器人字样！");return}if(h()!=l()){alert("确认密码不一致！");return}e.register(N)},v=(_,N)=>{_.preventDefault(),_.stopPropagation(),e.handleMainLoginShowClick(_,N)};return(()=>{const _=$s.cloneNode(!0),N=_.firstChild,x=N.firstChild,A=x.firstChild,D=x.nextSibling,m=D.firstChild,M=m.firstChild,I=M.firstChild,$=I.firstChild,b=$.firstChild,P=b.nextSibling,T=P.firstChild,S=D.nextSibling,H=S.firstChild,G=H.firstChild,Q=S.nextSibling,V=Q.firstChild,J=V.firstChild,se=Q.nextSibling,be=se.firstChild,Pe=be.firstChild,q=Pe.firstChild,R=q.firstChild,ce=R.firstChild,ue=ce.firstChild,re=ue.nextSibling,ie=R.nextSibling,de=ie.firstChild,$e=de.firstChild,me=$e.nextSibling,pe=ie.nextSibling,Me=pe.firstChild,K=Me.firstChild,Ee=K.nextSibling,ge=pe.nextSibling,ye=ge.firstChild,Ce=ye.firstChild,xe=Ce.nextSibling,Re=xe.nextSibling,B=Re.nextSibling,W=ge.nextSibling,Z=W.firstChild,Y=Z.firstChild,z=Y.nextSibling,he=se.nextSibling,O=he.firstChild,X=O.firstChild;return _.style.setProperty("width","100%"),_.style.setProperty("height","100%"),_.style.setProperty("margin","0 auto"),A.style.setProperty("height","15px"),m.style.setProperty("height","15px"),M.style.setProperty("width","100%"),b.style.setProperty("text-align","left"),P.$$click=le=>v(le,1),P.$$touchend=le=>v(le,1),P.style.setProperty("width","60px"),P.style.setProperty("text-align","center"),T.style.setProperty("display","inline-block"),T.style.setProperty("background-color","black"),T.style.setProperty("color","white"),T.style.setProperty("border-radius","10px"),T.style.setProperty("width","20px"),T.style.setProperty("height","20px"),T.style.setProperty("text-align","center"),H.style.setProperty("height","70px"),G.style.setProperty("width","240px"),V.style.setProperty("height","70px"),V.style.setProperty("text-align","center"),J.style.setProperty("font-size","30px"),be.style.setProperty("vertical-align","top"),be.style.setProperty("text-align","center"),Pe.style.setProperty("margin","0 auto"),R.style.setProperty("height","50px"),ce.style.setProperty("text-align","left"),re.$$input=y,re.style.setProperty("line-height","30px"),ie.style.setProperty("height","50px"),de.style.setProperty("text-align","left"),me.$$input=c,me.style.setProperty("line-height","30px"),pe.style.setProperty("height","50px"),Me.style.setProperty("text-align","left"),Ee.$$input=u,Ee.style.setProperty("line-height","30px"),ge.style.setProperty("height","50px"),ye.style.setProperty("text-align","left"),ye.style.setProperty("line-height","27px"),xe.addEventListener("change",g),xe.style.setProperty("width","20px"),xe.style.setProperty("height","20px"),xe.style.setProperty("margin-right","10px"),B.addEventListener("change",g),B.style.setProperty("width","20px"),B.style.setProperty("height","20px"),W.style.setProperty("height","50px"),Z.style.setProperty("text-align","left"),z.$$input=p,z.style.setProperty("line-height","30px"),O.style.setProperty("height","100px"),O.style.setProperty("text-align","center"),X.$$click=le=>d(le),X.$$touchend=le=>d(le),X.style.setProperty("height","50px"),X.style.setProperty("background-color","chocolate"),X.style.setProperty("color","white"),X.style.setProperty("border-radius","10px"),X.style.setProperty("padding","10px 20px 10px 20px"),E(()=>re.value=n()),E(()=>me.value=l()),E(()=>Ee.value=h()),E(()=>xe.checked=r()==1),E(()=>B.checked=r()==2),E(()=>z.value=i()),_})()};Ie(["touchend","click","input"]);const Ps=L("<td><table><tbody><tr><td><span></span><br><span></span></td></tr></tbody></table></td>"),Ge=e=>(()=>{const r=Ps.cloneNode(!0),t=r.firstChild,n=t.firstChild,s=n.firstChild,i=s.firstChild,o=i.firstChild,l=o.nextSibling,a=l.nextSibling;return r.style.setProperty("text-align","center"),r.style.setProperty("width","50%"),t.style.setProperty("width","100%"),t.style.setProperty("height","100px"),i.style.setProperty("background-color","antiquewhite"),i.style.setProperty("width","100%"),i.style.setProperty("height","100%"),i.style.setProperty("border-radius","15px"),k(o,()=>e.key),k(a,()=>e.value),r})(),bs=L('<table id="Personal"><tbody><tr><td><div></div><table style="width:100%"><tbody><tr><td></td><td><img src="./assets/textures/MJRoom/Z_nobody.png"></td><td><span></span></td><td><span>转币记录</span></td><td><span>修改</span></td></tr></tbody></table></td></tr><tr><td><table><tbody><tr><td><table><tbody><tr><td><div><img src="./assets/mjapp.png"></div><div><a href="/mj.apk" target="_blank">下载App</a></div></td></tr></tbody></table></td><td><table><tbody><tr><td><span>转币</span></td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td><table><tbody><tr></tr><tr></tr><tr></tr></tbody></table></td></tr></tbody></table>'),xs=L("<table><tbody><tr><td></td><td><span>返回游戏</span></td><td></td></tr></tbody></table>"),ws=e=>{const r=e.me,t=(i,o,l)=>{i.preventDefault(),i.stopPropagation(),e.handleUserShow(i,o,l)},n=(i,o)=>{i.preventDefault(),i.stopPropagation(),e.showMainDiv(i,o)},s=()=>{let i=r()?r().best_exp_time?.split("T"):"";return i&&(i=i[0]),i};return[(()=>{const i=bs.cloneNode(!0),o=i.firstChild,l=o.firstChild,a=l.firstChild,h=a.firstChild,f=h.nextSibling,g=f.firstChild,y=g.firstChild,p=y.firstChild,c=p.nextSibling,u=c.firstChild,d=c.nextSibling,v=d.firstChild,_=d.nextSibling,N=_.firstChild,x=_.nextSibling,A=x.firstChild,D=l.nextSibling,m=D.firstChild,M=m.firstChild,I=M.firstChild,$=I.firstChild,b=$.firstChild,P=b.firstChild,T=P.firstChild,S=T.firstChild,H=S.firstChild,G=H.firstChild,Q=G.firstChild,V=G.nextSibling,J=V.firstChild,se=b.nextSibling,be=se.firstChild,Pe=be.firstChild,q=Pe.firstChild,R=q.firstChild,ce=D.nextSibling,ue=ce.firstChild,re=ue.firstChild,ie=re.firstChild,de=ie.firstChild,$e=de.nextSibling,me=$e.nextSibling;return i.style.setProperty("width","100%"),i.style.setProperty("height","100%"),i.style.setProperty("margin","0 auto"),a.style.setProperty("height","100px"),a.style.setProperty("text-align","center"),h.style.setProperty("height","30px"),p.style.setProperty("width","10px"),c.style.setProperty("width","8vw"),u.style.setProperty("width","8vw"),u.style.setProperty("background-color","darkgray"),u.style.setProperty("border-radius","4vw"),d.style.setProperty("text-align","left"),v.style.setProperty("margin-left","10px"),k(v,()=>r().name),_.$$click=pe=>t(pe,6,r()),_.$$touchend=pe=>t(pe,6,r()),_.style.setProperty("text-align","center"),N.style.setProperty("position","relative"),N.style.setProperty("vertical-align","middle"),N.style.setProperty("text-align","center"),N.style.setProperty("height","50px"),N.style.setProperty("background-color","brown"),N.style.setProperty("color","white"),N.style.setProperty("border-radius","5px"),N.style.setProperty("padding","5px 15px"),N.style.setProperty("font-size","14px"),x.$$click=pe=>t(pe,4,r()),x.$$touchend=pe=>t(pe,4,r()),x.style.setProperty("width","80px"),x.style.setProperty("text-align","center"),A.style.setProperty("position","relative"),A.style.setProperty("vertical-align","middle"),A.style.setProperty("text-align","center"),A.style.setProperty("height","50px"),A.style.setProperty("background-color","chocolate"),A.style.setProperty("color","white"),A.style.setProperty("border-radius","5px"),A.style.setProperty("padding","5px 15px"),A.style.setProperty("font-size","14px"),D.style.setProperty("height","105px"),m.style.setProperty("vertical-align","top"),m.style.setProperty("width","1"),M.style.setProperty("width","100%"),M.style.setProperty("margin","0 auto"),$.style.setProperty("height","100px"),b.style.setProperty("text-align","center"),b.style.setProperty("width","50%"),P.style.setProperty("width","100%"),P.style.setProperty("height","100px"),H.style.setProperty("background-color","chocolate"),H.style.setProperty("color","white"),H.style.setProperty("width","100%"),H.style.setProperty("height","100%"),H.style.setProperty("border-radius","15px"),Q.style.setProperty("width","50px"),J.style.setProperty("text-decoration","none"),J.style.setProperty("color","white"),se.style.setProperty("text-align","center"),se.style.setProperty("width","50%"),be.$$click=pe=>n(pe,2),be.$$touchend=pe=>n(pe,2),be.style.setProperty("width","100%"),be.style.setProperty("height","100px"),R.style.setProperty("background-color","chocolate"),R.style.setProperty("color","white"),R.style.setProperty("width","100%"),R.style.setProperty("height","100%"),R.style.setProperty("border-radius","15px"),ue.style.setProperty("text-align","center"),ue.style.setProperty("vertical-align","top"),re.style.setProperty("width","100%"),re.style.setProperty("margin","0 auto"),de.style.setProperty("height","100px"),k(de,C(Ge,{key:"金币",get value(){return r().coins}}),null),k(de,C(Ge,{key:"卡币",get value(){return r().gems}}),null),$e.style.setProperty("height","100px"),k($e,C(Ge,{key:"级别",get value(){return r().lv}}),null),k($e,C(Ge,{key:"分数",get value(){return r().score}}),null),me.style.setProperty("height","100px"),k(me,C(Ge,{key:"最佳",get value(){return r().best_exp}}),null),k(me,C(Ge,{key:"最佳日期",get value(){return s()}}),null),i})(),(()=>{const i=xs.cloneNode(!0),o=i.firstChild,l=o.firstChild,a=l.firstChild,h=a.nextSibling,f=h.nextSibling;return i.style.setProperty("width","100%"),i.style.setProperty("position","absolute"),i.style.setProperty("bottom","10px"),a.style.setProperty("width","5px"),h.$$click=g=>e.showMainDiv(g,0),h.$$touchend=g=>e.showMainDiv(g,0),h.style.setProperty("position","relative"),h.style.setProperty("vertical-align","middle"),h.style.setProperty("text-align","center"),h.style.setProperty("height","50px"),h.style.setProperty("background-color","chocolate"),h.style.setProperty("color","white"),h.style.setProperty("border-radius","10px"),f.style.setProperty("width","5px"),i})()]};Ie(["touchend","click"]);const Cs=L('<table><tbody><tr><td><table><tbody><tr><td></td><td><span>X</span></td></tr></tbody></table></td></tr><tr><td><span>资料修改</span></td></tr><tr><td><table><tbody><tr><td></td><td>玩家性别： 男：<input type="radio" name="sex" value="2">女：<input type="radio" name="sex" value="1"></td><td></td></tr><tr><td></td><td>玩家昵称：<input></td><td></td></tr><tr><td></td><td>个人留言：<br><textarea></textarea></td><td></td></tr></tbody></table></td></tr></tbody></table>'),Ss=L("<table><tbody><tr><td><span>确定</span></td></tr></tbody></table>"),ks=e=>{const[r,t]=j(null),[n,s]=j(null),[i,o]=j(null);ze(async()=>{if(e.mainDivShow()==4){let y={account:getLocalStorage("account")},p=await Se.fetchAPI("/get_user_base_info",y);console.log(p),t(p.data.sex),s(p.data.name),o(p.data.intro)}});const l=g=>{t(g.target.value)},a=g=>{s(g.target.value)},h=g=>{o(g.target.value)},f=g=>{g.preventDefault(),g.stopPropagation();let y=getLocalStorage("account"),p=getLocalStorage("sign"),c={account:y,sign:p,name:n(),sex:r(),intro:i()};if(console.log(c),!i()||!n()||!r()){alert("请按要求填好各项资料！");return}if(n().length<2||n().length>6){alert("会员名称不要小于2或大于6！");return}if(n().indexOf("机器人")>=0){alert("会员名不能包含机器人字样！");return}if(i().length<2||i().length>150){alert("留言不要小于2或大于150！");return}console.log(c),Ze.updateUserInfo(c,u=>{u.errcode!==0?alert("修改不成功！"):alert("修改成功！")})};return[(()=>{const g=Cs.cloneNode(!0),y=g.firstChild,p=y.firstChild,c=p.firstChild,u=c.firstChild,d=u.firstChild,v=d.firstChild,_=v.firstChild,N=_.nextSibling,x=N.firstChild,A=p.nextSibling,D=A.firstChild,m=D.firstChild,M=A.nextSibling,I=M.firstChild,$=I.firstChild,b=$.firstChild,P=b.firstChild,T=P.firstChild,S=T.nextSibling,H=S.firstChild,G=H.nextSibling,Q=G.nextSibling,V=Q.nextSibling,J=P.nextSibling,se=J.firstChild,be=se.nextSibling,Pe=be.firstChild,q=Pe.nextSibling,R=J.nextSibling,ce=R.firstChild,ue=ce.nextSibling,re=ue.firstChild,ie=re.nextSibling,de=ie.nextSibling;return g.style.setProperty("width","100%"),g.style.setProperty("height","100%"),g.style.setProperty("margin","0 auto"),c.style.setProperty("height","70px"),c.style.setProperty("text-align","center"),c.style.setProperty("position","relative"),u.style.setProperty("width","100%"),_.style.setProperty("text-align","left"),N.$$click=$e=>e.showMainDiv($e,1),N.$$touchend=$e=>e.showMainDiv($e,1),N.style.setProperty("width","60px"),N.style.setProperty("text-align","center"),x.style.setProperty("display","inline-block"),x.style.setProperty("background-color","black"),x.style.setProperty("color","white"),x.style.setProperty("border-radius","10px"),x.style.setProperty("width","20px"),x.style.setProperty("height","20px"),x.style.setProperty("text-align","center"),D.style.setProperty("height","70px"),D.style.setProperty("text-align","center"),D.style.setProperty("position","relative"),m.style.setProperty("font-size","30px"),M.style.setProperty("height","100px"),I.style.setProperty("vertical-align","top"),$.style.setProperty("width","100%"),$.style.setProperty("margin","0 auto"),P.style.setProperty("height","50px"),S.style.setProperty("text-align","left"),S.style.setProperty("line-height","27px"),S.style.setProperty("width","228px"),G.addEventListener("change",l),G.style.setProperty("width","20px"),G.style.setProperty("height","20px"),G.style.setProperty("margin-right","10px"),V.addEventListener("change",l),V.style.setProperty("width","20px"),V.style.setProperty("height","20px"),J.style.setProperty("height","50px"),be.style.setProperty("text-align","left"),be.style.setProperty("width","228px"),q.$$input=a,q.style.setProperty("line-height","30px"),R.style.setProperty("height","50px"),ue.style.setProperty("text-align","left"),ue.style.setProperty("width","228px"),de.$$input=h,de.style.setProperty("width","100%"),de.style.setProperty("height","150px"),k(de,i),E(()=>G.checked=r()==2),E(()=>V.checked=r()==1),E(()=>q.value=n()),g})(),(()=>{const g=Ss.cloneNode(!0),y=g.firstChild,p=y.firstChild,c=p.firstChild;return g.style.setProperty("width","100%"),g.style.setProperty("height","50px"),g.style.setProperty("position","absolute"),g.style.setProperty("bottom","10px"),c.$$click=u=>f(u),c.$$touchend=u=>f(u),c.style.setProperty("background-color","chocolate"),c.style.setProperty("color","white"),c.style.setProperty("width","100%"),c.style.setProperty("height","100%"),c.style.setProperty("border-radius","15px"),c.style.setProperty("text-align","center"),g})()]};Ie(["touchend","click","input"]);const Ns=L("<tr><td></td><td></td><td></td><td>/</td><td>局</td><td></td></tr>"),As=L('<tr><td colspan="6"></td></tr>'),Es=e=>{let r=e.user;console.log(r());let t=()=>{let s=r().best_exp_time?.split("T");return s?s[0]:""};const n=(s,i,o)=>{s.preventDefault(),s.stopPropagation(),e.handleUserShow(s,i,o)};return[(()=>{const s=Ns.cloneNode(!0),i=s.firstChild,o=i.nextSibling,l=o.nextSibling,a=l.nextSibling,h=a.firstChild,f=a.nextSibling,g=f.firstChild,y=f.nextSibling;return s.$$click=p=>n(p,3,r()),s.$$touchend=p=>n(p,3,r()),s.style.setProperty("height","30px"),s.style.setProperty("text-align","center"),k(i,()=>r().userid),k(o,()=>r().name),k(l,()=>r().sex==2?"男":"女"),k(a,()=>r().exp,h),k(a,()=>r().score,null),k(f,()=>r().best_exp,g),k(y,t),s})(),(()=>{const s=As.cloneNode(!0),i=s.firstChild;return s.$$click=o=>n(o,3,r()),s.$$touchend=o=>n(o,3,r()),s.style.setProperty("height","30px"),i.style.setProperty("background-color","rgb(250, 250, 250)"),i.style.setProperty("border-radius","10px"),i.style.setProperty("padding","10px"),i.style.setProperty("word-break","break-all"),k(i,()=>r().intro),s})()]};Ie(["touchend","click"]);const Ms=L('<table><tbody><tr><td colspan="6"><table><tbody><tr><td>大师排行榜</td><td><input><span>X</span></td><td><select><option value="1">会员ID</option><option value="2">会员名称</option></select></td><td><span>搜索</span></td></tr></tbody></table></td></tr><tr><td>ID</td><td>昵称</td><td>性别</td><td>局/分</td><td>最快</td><td>实现日期</td></tr></tbody></table>'),Ds=L("<table><tbody><tr><td><span>返回主页</span></td></tr></tbody></table>"),Bs=e=>{j(0);const[r,t]=j([]),[n,s]=j(null),[i,o]=j(1);ze(async()=>{if(e.mainDivShow()==2){let f={page:1},g=await Se.fetchAPI("/get_user_list",f);console.log(g),t(g.data),console.log(r())}});const l=f=>{f.preventDefault(),f.stopPropagation();let g=f.target.value;s(g),console.log(n())},a=f=>{f.preventDefault(),f.stopPropagation();let g=f.target.value;o(g),console.log(i())},h=async(f,g)=>{f.preventDefault(),f.stopPropagation(),g==0&&(o(null),s(null));let y={searchKey:i(),searchValue:n()};console.log(y);let p=await Se.fetchAPI("/get_user_list",y);console.log(p),t(p.data),console.log(r())};return[(()=>{const f=Ms.cloneNode(!0),g=f.firstChild,y=g.firstChild,p=y.firstChild,c=p.firstChild,u=c.firstChild,d=u.firstChild,v=d.firstChild,_=v.nextSibling,N=_.firstChild,x=N.nextSibling,A=_.nextSibling,D=A.firstChild,m=D.firstChild,M=m.nextSibling,I=A.nextSibling,$=I.firstChild,b=y.nextSibling;return f.style.setProperty("width","100%"),g.style.setProperty("text-align","left"),y.style.setProperty("height","60px"),c.style.setProperty("width","100%"),v.$$click=P=>h(P,0),v.$$touchend=P=>h(P,0),v.style.setProperty("width","84px"),_.style.setProperty("position","relative"),_.style.setProperty("text-align","left"),N.$$input=P=>l(P),N.style.setProperty("width","95%"),N.style.setProperty("height","25px"),x.$$click=P=>h(P,0),x.$$touchend=P=>h(P,0),x.style.setProperty("right","10px"),x.style.setProperty("top","7px"),x.style.setProperty("position","absolute"),x.style.setProperty("color","black"),x.style.setProperty("font-size","14px"),A.style.setProperty("text-align","left"),D.addEventListener("change",P=>a(P)),D.style.setProperty("width","100%"),D.style.setProperty("height","30px"),I.$$click=P=>h(P,1),I.$$touchend=P=>h(P,1),I.style.setProperty("width","55px"),$.style.setProperty("background-color","chocolate"),$.style.setProperty("color","white"),$.style.setProperty("padding","10px"),$.style.setProperty("padding-top","5px"),$.style.setProperty("padding-bottom","5px"),$.style.setProperty("border-radius","5px"),b.style.setProperty("height","30px"),b.style.setProperty("text-align","center"),k(g,C(ae,{get each(){return r()},children:(P,T)=>C(Es,{user:P,get handleUserShow(){return e.handleUserShow}})}),null),E(P=>{const T=n()?"inline":"none",S=i()==1,H=i()==2;return T!==P._v$&&x.style.setProperty("display",P._v$=T),S!==P._v$2&&(m.selected=P._v$2=S),H!==P._v$3&&(M.selected=P._v$3=H),P},{_v$:void 0,_v$2:void 0,_v$3:void 0}),E(()=>N.value=n()),f})(),(()=>{const f=Ds.cloneNode(!0),g=f.firstChild,y=g.firstChild,p=y.firstChild;return f.style.setProperty("width","100%"),f.style.setProperty("position","absolute"),f.style.setProperty("bottom","10px"),p.$$click=c=>e.showMainDiv(c,1),p.$$touchend=c=>e.showMainDiv(c,1),p.style.setProperty("position","relative"),p.style.setProperty("vertical-align","middle"),p.style.setProperty("text-align","center"),p.style.setProperty("height","50px"),p.style.setProperty("background-color","chocolate"),p.style.setProperty("color","white"),p.style.setProperty("border-radius","10px"),f})()]};Ie(["touchend","click","input"]);const Ts=L('<table><tbody><tr><td><table style="width:100%"><tbody><tr><td><img src="./assets/textures/MJRoom/Z_nobody.png"></td><td><span></span></td><td><span>X</span></td></tr></tbody></table></td></tr><tr><td><table><tbody><tr></tr><tr></tr><tr><td colspan="2"><div></div></td></tr></tbody></table></td></tr></tbody></table>'),Is=L("<table><tbody><tr><td><span>转币</span></td></tr></tbody></table>"),Rs=e=>{let r=e.user;console.log(r());let t=()=>{let s=r().best_exp_time?.split("T");return s?s[0]:""};const n=(s,i,o)=>{s.preventDefault(),s.stopPropagation(),e.handleUserShow(s,i,o)};return[(()=>{const s=Ts.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild,a=l.firstChild,h=a.firstChild,f=h.firstChild,g=f.firstChild,y=g.firstChild,p=g.nextSibling,c=p.firstChild,u=p.nextSibling,d=u.firstChild,v=o.nextSibling,_=v.firstChild,N=_.firstChild,x=N.firstChild,A=x.firstChild,D=A.nextSibling,m=D.nextSibling,M=m.firstChild,I=M.firstChild;return s.style.setProperty("width","100%"),s.style.setProperty("height","100%"),s.style.setProperty("margin","0 auto"),l.style.setProperty("height","100px"),l.style.setProperty("text-align","center"),g.style.setProperty("width","70px"),y.style.setProperty("width","8vw"),y.style.setProperty("background-color","darkgray"),y.style.setProperty("border-radius","4vw"),p.style.setProperty("text-align","left"),c.style.setProperty("margin-left","10px"),k(c,()=>r().name),u.$$click=$=>n($,2,{}),u.$$touchend=$=>n($,2,{}),u.style.setProperty("width","60px"),d.style.setProperty("display","inline-block"),d.style.setProperty("background-color","black"),d.style.setProperty("color","white"),d.style.setProperty("border-radius","10px"),d.style.setProperty("width","20px"),d.style.setProperty("height","20px"),_.style.setProperty("text-align","center"),_.style.setProperty("vertical-align","top"),N.style.setProperty("width","100%"),N.style.setProperty("margin","0 auto"),A.style.setProperty("height","100px"),k(A,C(Ge,{key:"级别",get value(){return r().lv}}),null),k(A,C(Ge,{key:"分数",get value(){return r().score}}),null),D.style.setProperty("height","100px"),k(D,C(Ge,{key:"最佳",get value(){return r().best_exp}}),null),k(D,C(Ge,{key:"最佳日期",get value(){return t()}}),null),m.style.setProperty("height","100px"),M.style.setProperty("text-align","left"),I.style.setProperty("margin","1px"),I.style.setProperty("background-color","yellow"),I.style.setProperty("border-radius","10px"),I.style.setProperty("padding","15px"),I.style.setProperty("word-break","break-all"),k(I,()=>r().intro||"无"),s})(),(()=>{const s=Is.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild;return s.style.setProperty("width","100%"),s.style.setProperty("height","50px"),s.style.setProperty("position","absolute"),s.style.setProperty("bottom","10px"),l.$$click=a=>n(a,5,r()),l.$$touchend=a=>n(a,5,r()),l.style.setProperty("background-color","chocolate"),l.style.setProperty("color","white"),l.style.setProperty("width","100%"),l.style.setProperty("height","100%"),l.style.setProperty("border-radius","15px"),l.style.setProperty("text-align","center"),s})()]};Ie(["touchend","click"]);const Os=L("<table><tbody><tr><td><table><tbody><tr><td><span>【金币余额：<!>个】</span></td><td><span>X</span></td></tr></tbody></table></td></tr><tr><td></td></tr><tr><td><span>转币给【<!>】</span></td></tr><tr><td><span>金币数：<input></span>个</td></tr></tbody></table>"),Ls=L("<table><tbody><tr><td><span>确定</span></td></tr></tbody></table>"),Hs=e=>{const[r,t]=j(null);let n=e.user,s=e.me;const i=async l=>{if(l.preventDefault(),l.stopPropagation(),s().userid==n().userid){alert("自己不能给自己转账！");return}if(s().coins<r()){alert("您的金币不足！");return}let a=getLocalStorage("account"),h=getLocalStorage("sign"),f={account:a,sign:h,userid:n().userid,name:n().name,coins:r()},g=await Se.fetchAPI("/add_user_coins",f);if(g.errcode>0){alert(g.errmsg);return}alert("转币成功！"),o(l,3,n())},o=(l,a,h)=>{l.preventDefault(),l.stopPropagation(),e.handleUserShow(l,a,h)};return[(()=>{const l=Os.cloneNode(!0),a=l.firstChild,h=a.firstChild,f=h.firstChild,g=f.firstChild,y=g.firstChild,p=y.firstChild,c=p.firstChild,u=c.firstChild,d=u.firstChild,v=d.nextSibling;v.nextSibling;const _=c.nextSibling,N=_.firstChild,x=h.nextSibling,A=x.firstChild,D=x.nextSibling,m=D.firstChild,M=m.firstChild,I=M.firstChild,$=I.nextSibling;$.nextSibling;const b=D.nextSibling,P=b.firstChild,T=P.firstChild,S=T.firstChild,H=S.nextSibling;return l.style.setProperty("width","100%"),l.style.setProperty("text-align","center"),h.style.setProperty("height","100px"),f.style.setProperty("text-align","left"),f.style.setProperty("border-bottom","1px gray solid"),g.style.setProperty("width","100%"),c.style.setProperty("text-align","left"),u.style.setProperty("font-size","20px"),u.style.setProperty("margin-left","20px"),k(u,()=>s().name,d),k(u,()=>s().coins,v),_.$$click=G=>o(G,3,n()),_.$$touchend=G=>o(G,3,n()),_.style.setProperty("width","60px"),_.style.setProperty("text-align","center"),N.style.setProperty("display","inline-block"),N.style.setProperty("background-color","black"),N.style.setProperty("color","white"),N.style.setProperty("border-radius","10px"),N.style.setProperty("width","20px"),N.style.setProperty("height","20px"),N.style.setProperty("text-align","center"),A.style.setProperty("height","80px"),D.style.setProperty("height","50px"),M.style.setProperty("font-size","20px"),k(M,()=>n().name,$),b.style.setProperty("height","80px"),H.$$input=G=>t(G.target.value),H.style.setProperty("height","30px"),E(()=>H.value=r()),l})(),(()=>{const l=Ls.cloneNode(!0),a=l.firstChild,h=a.firstChild,f=h.firstChild;return l.style.setProperty("width","100%"),l.style.setProperty("height","50px"),l.style.setProperty("position","absolute"),l.style.setProperty("bottom","10px"),f.$$click=g=>i(g),f.$$touchend=g=>i(g),f.style.setProperty("background-color","chocolate"),f.style.setProperty("color","white"),f.style.setProperty("width","100%"),f.style.setProperty("height","100%"),f.style.setProperty("border-radius","15px"),f.style.setProperty("text-align","center"),l})()]};Ie(["touchend","click","input"]);const Fs=L("<tr><td></td><td></td><td></td><td></td><td></td></tr>"),Us=e=>{let r=e.user;console.log(r());let t=()=>{let s=r().create_time?.split("T");return s?s[0]:""};const n=(s,i,o)=>{s.preventDefault(),s.stopPropagation(),e.handleUserShow(s,i,o)};return(()=>{const s=Fs.cloneNode(!0),i=s.firstChild,o=i.nextSibling,l=o.nextSibling,a=l.nextSibling,h=a.nextSibling;return s.$$click=f=>n(f,3,r()),s.$$touchend=f=>n(f,3,r()),s.style.setProperty("height","30px"),s.style.setProperty("text-align","center"),k(i,()=>r().sender_id),k(o,()=>r().sender),k(l,()=>r().receiver_id),k(a,()=>r().receiver),k(h,t),s})()};Ie(["touchend","click"]);const zs=L('<table><tbody><tr><td colspan="6"><table><tbody><tr><td>转币记录</td><td><input><span>X</span></td><td><select><option value="1">会员ID</option><option value="2">会员名称</option></select></td><td><span>搜索</span></td></tr></tbody></table></td></tr><tr><td>发送ID</td><td>发送名称</td><td>接收ID</td><td>接收名称</td><td>操作日期</td></tr></tbody></table>'),Js=L("<table><tbody><tr><td><span>返回主页</span></td></tr></tbody></table>"),qs=e=>{j(0);const[r,t]=j([]),[n,s]=j(null),[i,o]=j(1);let l=getLocalStorage("account"),a=getLocalStorage("sign");ze(async()=>{if(e.mainDivShow()==6){let y={account:l,sign:a,page:1},p=await Se.fetchAPI("/get_transfers_list",y);console.log(p),t(p.data),console.log(r())}});const h=y=>{y.preventDefault(),y.stopPropagation();let p=y.target.value;s(p),console.log(n())},f=y=>{y.preventDefault(),y.stopPropagation();let p=y.target.value;o(p),console.log(i())},g=async(y,p)=>{y.preventDefault(),y.stopPropagation(),p==0&&(o(null),s(null));let c={account:l,sign:a,searchKey:i(),searchValue:n()};console.log(c);let u=await Se.fetchAPI("/get_transfers_list",c);console.log(u),t(u.data),console.log(r())};return[(()=>{const y=zs.cloneNode(!0),p=y.firstChild,c=p.firstChild,u=c.firstChild,d=u.firstChild,v=d.firstChild,_=v.firstChild,N=_.firstChild,x=N.nextSibling,A=x.firstChild,D=A.nextSibling,m=x.nextSibling,M=m.firstChild,I=M.firstChild,$=I.nextSibling,b=m.nextSibling,P=b.firstChild,T=c.nextSibling;return y.style.setProperty("width","100%"),p.style.setProperty("text-align","left"),c.style.setProperty("height","60px"),d.style.setProperty("width","100%"),N.$$click=S=>g(S,0),N.$$touchend=S=>g(S,0),N.style.setProperty("width","84px"),x.style.setProperty("position","relative"),x.style.setProperty("text-align","left"),A.$$input=S=>h(S),A.style.setProperty("width","95%"),A.style.setProperty("height","25px"),D.$$click=S=>g(S,0),D.$$touchend=S=>g(S,0),D.style.setProperty("right","10px"),D.style.setProperty("top","7px"),D.style.setProperty("position","absolute"),D.style.setProperty("color","black"),D.style.setProperty("font-size","14px"),m.style.setProperty("text-align","left"),M.addEventListener("change",S=>f(S)),M.style.setProperty("width","100%"),M.style.setProperty("height","30px"),b.$$click=S=>g(S,1),b.$$touchend=S=>g(S,1),b.style.setProperty("width","55px"),P.style.setProperty("background-color","chocolate"),P.style.setProperty("color","white"),P.style.setProperty("padding","10px"),P.style.setProperty("padding-top","5px"),P.style.setProperty("padding-bottom","5px"),P.style.setProperty("border-radius","5px"),T.style.setProperty("height","30px"),T.style.setProperty("text-align","center"),k(p,C(ae,{get each(){return r()},children:(S,H)=>C(Us,{user:S,get handleUserShow(){return e.handleUserShow}})}),null),E(S=>{const H=n()?"inline":"none",G=i()==1,Q=i()==2;return H!==S._v$&&D.style.setProperty("display",S._v$=H),G!==S._v$2&&(I.selected=S._v$2=G),Q!==S._v$3&&($.selected=S._v$3=Q),S},{_v$:void 0,_v$2:void 0,_v$3:void 0}),E(()=>A.value=n()),y})(),(()=>{const y=Js.cloneNode(!0),p=y.firstChild,c=p.firstChild,u=c.firstChild;return y.style.setProperty("width","100%"),y.style.setProperty("position","absolute"),y.style.setProperty("bottom","10px"),u.$$click=d=>e.showMainDiv(d,1),u.$$touchend=d=>e.showMainDiv(d,1),u.style.setProperty("position","relative"),u.style.setProperty("vertical-align","middle"),u.style.setProperty("text-align","center"),u.style.setProperty("height","50px"),u.style.setProperty("background-color","chocolate"),u.style.setProperty("color","white"),u.style.setProperty("border-radius","10px"),y})()]};Ie(["touchend","click","input"]);const js=L('<div><div id="Personal"></div><div id="Masters"><div></div></div><div id="UserDetail"></div><div id="MyInfo"></div><div id="Transfer"></div><div id="Transfer"><div></div></div></div>'),Gs=e=>{const[r,t]=j({}),[n,s]=j({});ze(async()=>{if(e.mainDivShow()==1){console.log(e.isMobile);let l={account:getLocalStorage("account")},a=await Se.fetchAPI("/get_user_base_info",l);console.log(a),t(a.data)}});const i=(o,l,a)=>{o.preventDefault(),o.stopPropagation(),s(a),e.showMainDiv(o,l)};return(()=>{const o=js.cloneNode(!0),l=o.firstChild,a=l.nextSibling,h=a.firstChild,f=a.nextSibling,g=f.nextSibling,y=g.nextSibling,p=y.nextSibling,c=p.firstChild;return o.style.setProperty("position","relative"),o.style.setProperty("max-width","400px"),o.style.setProperty("width","100%"),o.style.setProperty("height","100%"),o.style.setProperty("background-color","white"),l.style.setProperty("width","100%"),l.style.setProperty("height","100%"),k(l,C(ws,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv},handleUserShow:i,me:r,get isMobile(){return e.isMobile}})),a.style.setProperty("position","absolute"),a.style.setProperty("width","100%"),a.style.setProperty("height","100%"),a.style.setProperty("left","0px"),a.style.setProperty("top","0px"),a.style.setProperty("background-color","aliceblue"),h.style.setProperty("height","30px"),k(a,C(Bs,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv},handleUserShow:i}),null),f.style.setProperty("position","absolute"),f.style.setProperty("left","0px"),f.style.setProperty("top","0px"),f.style.setProperty("width","100%"),f.style.setProperty("height","100%"),f.style.setProperty("background-color","white"),k(f,C(Rs,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv},handleUserShow:i,user:n})),g.style.setProperty("width","100%"),g.style.setProperty("height","100%"),k(g,C(ks,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv}})),y.style.setProperty("width","100%"),y.style.setProperty("height","100%"),k(y,C(Hs,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv},handleUserShow:i,user:n,me:r})),p.style.setProperty("width","100%"),p.style.setProperty("height","100%"),c.style.setProperty("height","30px"),k(p,C(qs,{get mainDivShow(){return e.mainDivShow},get showMainDiv(){return e.showMainDiv},handleUserShow:i,user:n,me:r}),null),E(u=>{const d=e.mainDivShow()==1?"block":"none",v=e.mainDivShow()==2?"block":"none",_=e.isMobile==2?"":"none",N=e.mainDivShow()==3?"block":"none",x=e.mainDivShow()==4?"block":"none",A=e.mainDivShow()==5?"block":"none",D=e.mainDivShow()==6?"block":"none",m=e.isMobile==2?"":"none";return d!==u._v$&&l.style.setProperty("display",u._v$=d),v!==u._v$2&&a.style.setProperty("display",u._v$2=v),_!==u._v$3&&h.style.setProperty("display",u._v$3=_),N!==u._v$4&&f.style.setProperty("display",u._v$4=N),x!==u._v$5&&g.style.setProperty("display",u._v$5=x),A!==u._v$6&&y.style.setProperty("display",u._v$6=A),D!==u._v$7&&p.style.setProperty("display",u._v$7=D),m!==u._v$8&&c.style.setProperty("display",u._v$8=m),u},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),o})()},Zs=L('<table><tbody><tr><td><div><span><img src="./assets/textures/images/play_scenes/btn_weixin_invite.png"></span></div><div><img src="./assets/textures/MJRoom/Z_nobody.png"><br><span></span><br><span></span></div><div><img src="./assets/textures/MJRoom/Z_nobody.png"><br><span></span><br><span></span></div><div><img src="./assets/textures/MJRoom/Z_nobody.png"><br><span></span><br><span></span></div><div><img src="./assets/textures/MJRoom/Z_nobody.png"><br><span></span><br><span></span></div></td></tr></tbody></table>'),Xs=e=>{let r=e.gameBegan,t=e.seats;const n=s=>{s.preventDefault(),s.stopPropagation(),e.inviterRobotEnterRoomClick()};return e.vp,(()=>{const s=Zs.cloneNode(!0),i=s.firstChild,o=i.firstChild,l=o.firstChild,a=l.firstChild,h=a.firstChild,f=h.firstChild,g=a.nextSibling,y=g.firstChild,p=y.nextSibling,c=p.nextSibling,u=c.nextSibling,d=u.nextSibling,v=g.nextSibling,_=v.firstChild,N=_.nextSibling,x=N.nextSibling,A=x.nextSibling,D=A.nextSibling,m=v.nextSibling,M=m.firstChild,I=M.nextSibling,$=I.nextSibling,b=$.nextSibling,P=b.nextSibling,T=m.nextSibling,S=T.firstChild,H=S.nextSibling,G=H.nextSibling,Q=G.nextSibling,V=Q.nextSibling;return s.style.setProperty("width","100%"),s.style.setProperty("height","100%"),s.style.setProperty("position","absolute"),s.style.setProperty("left","0px"),s.style.setProperty("top","0px"),l.style.setProperty("text-align","center"),l.style.setProperty("vertical-align","middle"),a.style.setProperty("display","inline-block"),h.$$click=J=>n(J),h.$$touchend=J=>n(J),h.style.setProperty("display","inline-block"),h.style.setProperty("position","relative"),h.style.setProperty("margin","0 auto"),h.style.setProperty("width","100%"),f.style.setProperty("width","100%"),g.style.setProperty("position","absolute"),y.style.setProperty("width","60%"),y.style.setProperty("background-color","darkgray"),y.style.setProperty("border-radius","10px"),c.style.setProperty("display","inline-block"),c.style.setProperty("color","#fff"),c.style.setProperty("font-weight","bold"),c.style.setProperty("background","darkslategrey"),c.style.setProperty("border-radius","5px"),c.style.setProperty("padding-left","3px"),c.style.setProperty("padding-right","3px"),c.style.setProperty("line-height","100%"),k(c,()=>t()[0]?.name),d.style.setProperty("display","inline-block"),d.style.setProperty("color","#fff"),d.style.setProperty("font-weight","bold"),d.style.setProperty("line-height","100%"),k(d,()=>t()[0]?.score),v.style.setProperty("position","absolute"),_.style.setProperty("width","60%"),_.style.setProperty("background-color","darkgray"),_.style.setProperty("border-radius","10px"),x.style.setProperty("display","inline-block"),x.style.setProperty("color","#fff"),x.style.setProperty("font-weight","bold"),x.style.setProperty("background","darkslategrey"),x.style.setProperty("border-radius","5px"),x.style.setProperty("padding-left","3px"),x.style.setProperty("padding-right","3px"),x.style.setProperty("line-height","100%"),k(x,()=>t()[1]?.name),D.style.setProperty("display","inline-block"),D.style.setProperty("color","#fff"),D.style.setProperty("font-weight","bold"),D.style.setProperty("line-height","100%"),k(D,()=>t()[1]?.score),m.style.setProperty("position","absolute"),M.style.setProperty("width","60%"),M.style.setProperty("background-color","darkgray"),M.style.setProperty("border-radius","10px"),$.style.setProperty("display","inline-block"),$.style.setProperty("color","#fff"),$.style.setProperty("font-weight","bold"),$.style.setProperty("background","darkslategrey"),$.style.setProperty("border-radius","5px"),$.style.setProperty("padding-left","3px"),$.style.setProperty("padding-right","3px"),$.style.setProperty("line-height","100%"),k($,()=>t()[3]?.name),P.style.setProperty("display","inline-block"),P.style.setProperty("color","#fff"),P.style.setProperty("font-weight","bold"),P.style.setProperty("line-height","100%"),k(P,()=>t()[3]?.score),T.style.setProperty("position","absolute"),S.style.setProperty("width","60%"),S.style.setProperty("background-color","darkgray"),S.style.setProperty("border-radius","10px"),G.style.setProperty("display","inline-block"),G.style.setProperty("color","#fff"),G.style.setProperty("font-weight","bold"),G.style.setProperty("background","darkslategrey"),G.style.setProperty("border-radius","5px"),G.style.setProperty("padding-left","3px"),G.style.setProperty("padding-right","3px"),G.style.setProperty("line-height","100%"),k(G,()=>t()[2]?.name),V.style.setProperty("display","inline-block"),V.style.setProperty("color","#fff"),V.style.setProperty("font-weight","bold"),V.style.setProperty("line-height","100%"),k(V,()=>t()[2]?.score),E(J=>{const se=r()?"none":"table",be="20"+e.vp,Pe="10"+e.vp,q="10"+e.vp,R="10"+e.vp,ce="2"+e.vp,ue="2"+e.vp,re="10"+e.vp,ie="10"+e.vp,de="10"+e.vp,$e="2"+e.vp,me="2"+e.vp,pe="10"+e.vp,Me="10"+e.vp,K="10"+e.vp,Ee="2"+e.vp,ge="2"+e.vp,ye="10"+e.vp,Ce="10"+e.vp,xe="10"+e.vp,Re="2"+e.vp,B="2"+e.vp;return se!==J._v$&&s.style.setProperty("display",J._v$=se),be!==J._v$2&&a.style.setProperty("width",J._v$2=be),Pe!==J._v$3&&g.style.setProperty("bottom",J._v$3=Pe),q!==J._v$4&&g.style.setProperty("left",J._v$4=q),R!==J._v$5&&g.style.setProperty("width",J._v$5=R),ce!==J._v$6&&c.style.setProperty("font-size",J._v$6=ce),ue!==J._v$7&&d.style.setProperty("font-size",J._v$7=ue),re!==J._v$8&&v.style.setProperty("bottom",J._v$8=re),ie!==J._v$9&&v.style.setProperty("right",J._v$9=ie),de!==J._v$10&&v.style.setProperty("width",J._v$10=de),$e!==J._v$11&&x.style.setProperty("font-size",J._v$11=$e),me!==J._v$12&&D.style.setProperty("font-size",J._v$12=me),pe!==J._v$13&&m.style.setProperty("top",J._v$13=pe),Me!==J._v$14&&m.style.setProperty("left",J._v$14=Me),K!==J._v$15&&m.style.setProperty("width",J._v$15=K),Ee!==J._v$16&&$.style.setProperty("font-size",J._v$16=Ee),ge!==J._v$17&&P.style.setProperty("font-size",J._v$17=ge),ye!==J._v$18&&T.style.setProperty("top",J._v$18=ye),Ce!==J._v$19&&T.style.setProperty("right",J._v$19=Ce),xe!==J._v$20&&T.style.setProperty("width",J._v$20=xe),Re!==J._v$21&&G.style.setProperty("font-size",J._v$21=Re),B!==J._v$22&&V.style.setProperty("font-size",J._v$22=B),J},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0}),s})()};Ie(["touchend","click"]);const Ws=L('<img src="./assets/textures/images/efx/peng_1.png">'),Ks=L('<img src="./assets/textures/images/efx/peng_2.png">'),Ys=L('<img src="./assets/textures/images/efx/peng_3.png">'),Qs=L('<img src="./assets/textures/images/efx/peng_4.png">'),Vs=L('<img src="./assets/textures/images/efx/peng_5.png">'),ei=L('<img src="./assets/textures/images/efx/peng_6.png">'),ti=L('<img src="./assets/textures/images/efx/peng_7.png">'),ni=L('<img src="./assets/textures/images/efx/peng_8.png">'),ri=L('<img src="./assets/textures/images/efx/peng_9.png">'),si=L('<img src="./assets/textures/images/efx/peng_10.png">'),ii=L('<img src="./assets/textures/images/efx/peng_11.png">'),oi=L('<img src="./assets/textures/images/efx/peng_12.png">'),li=L('<img src="./assets/textures/images/efx/peng_13.png">'),ai=L('<img src="./assets/textures/images/efx/peng_14.png">'),ui=e=>{const[r,t]=j(0);let n=e.num||null,s=0;return ze(ft(n,i=>{let o=setInterval(()=>{s++,s==15&&(s=0,clearInterval(o)),t(s)},50)},{defer:!0})),[(()=>{const i=Ws.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==1?"":"none";return l!==o._v$&&i.style.setProperty("width",o._v$=l),a!==o._v$2&&i.style.setProperty("display",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),i})(),(()=>{const i=Ks.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==2?"":"none";return l!==o._v$3&&i.style.setProperty("width",o._v$3=l),a!==o._v$4&&i.style.setProperty("display",o._v$4=a),o},{_v$3:void 0,_v$4:void 0}),i})(),(()=>{const i=Ys.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==3?"":"none";return l!==o._v$5&&i.style.setProperty("width",o._v$5=l),a!==o._v$6&&i.style.setProperty("display",o._v$6=a),o},{_v$5:void 0,_v$6:void 0}),i})(),(()=>{const i=Qs.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==4?"":"none";return l!==o._v$7&&i.style.setProperty("width",o._v$7=l),a!==o._v$8&&i.style.setProperty("display",o._v$8=a),o},{_v$7:void 0,_v$8:void 0}),i})(),(()=>{const i=Vs.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==5?"":"none";return l!==o._v$9&&i.style.setProperty("width",o._v$9=l),a!==o._v$10&&i.style.setProperty("display",o._v$10=a),o},{_v$9:void 0,_v$10:void 0}),i})(),(()=>{const i=ei.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==6?"":"none";return l!==o._v$11&&i.style.setProperty("width",o._v$11=l),a!==o._v$12&&i.style.setProperty("display",o._v$12=a),o},{_v$11:void 0,_v$12:void 0}),i})(),(()=>{const i=ti.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==7?"":"none";return l!==o._v$13&&i.style.setProperty("width",o._v$13=l),a!==o._v$14&&i.style.setProperty("display",o._v$14=a),o},{_v$13:void 0,_v$14:void 0}),i})(),(()=>{const i=ni.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==8?"":"none";return l!==o._v$15&&i.style.setProperty("width",o._v$15=l),a!==o._v$16&&i.style.setProperty("display",o._v$16=a),o},{_v$15:void 0,_v$16:void 0}),i})(),(()=>{const i=ri.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==9?"":"none";return l!==o._v$17&&i.style.setProperty("width",o._v$17=l),a!==o._v$18&&i.style.setProperty("display",o._v$18=a),o},{_v$17:void 0,_v$18:void 0}),i})(),(()=>{const i=si.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==10?"":"none";return l!==o._v$19&&i.style.setProperty("width",o._v$19=l),a!==o._v$20&&i.style.setProperty("display",o._v$20=a),o},{_v$19:void 0,_v$20:void 0}),i})(),(()=>{const i=ii.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==11?"":"none";return l!==o._v$21&&i.style.setProperty("width",o._v$21=l),a!==o._v$22&&i.style.setProperty("display",o._v$22=a),o},{_v$21:void 0,_v$22:void 0}),i})(),(()=>{const i=oi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==12?"":"none";return l!==o._v$23&&i.style.setProperty("width",o._v$23=l),a!==o._v$24&&i.style.setProperty("display",o._v$24=a),o},{_v$23:void 0,_v$24:void 0}),i})(),(()=>{const i=li.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==13?"":"none";return l!==o._v$25&&i.style.setProperty("width",o._v$25=l),a!==o._v$26&&i.style.setProperty("display",o._v$26=a),o},{_v$25:void 0,_v$26:void 0}),i})(),(()=>{const i=ai.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==14?"":"none";return l!==o._v$27&&i.style.setProperty("width",o._v$27=l),a!==o._v$28&&i.style.setProperty("display",o._v$28=a),o},{_v$27:void 0,_v$28:void 0}),i})()]},ci=L('<img src="./assets/textures/images/efx/gang_1.png">'),di=L('<img src="./assets/textures/images/efx/gang_2.png">'),yi=L('<img src="./assets/textures/images/efx/gang_3.png">'),hi=L('<img src="./assets/textures/images/efx/gang_4.png">'),fi=L('<img src="./assets/textures/images/efx/gang_5.png">'),pi=L('<img src="./assets/textures/images/efx/gang_6.png">'),gi=L('<img src="./assets/textures/images/efx/gang_7.png">'),vi=L('<img src="./assets/textures/images/efx/gang_8.png">'),_i=L('<img src="./assets/textures/images/efx/gang_9.png">'),$i=L('<img src="./assets/textures/images/efx/gang_10.png">'),mi=L('<img src="./assets/textures/images/efx/gang_11.png">'),Pi=L('<img src="./assets/textures/images/efx/gang_12.png">'),bi=L('<img src="./assets/textures/images/efx/gang_13.png">'),xi=L('<img src="./assets/textures/images/efx/gang_14.png">'),wi=e=>{const[r,t]=j(0);let n=e.num,s=0;return ze(ft(n,i=>{let o=setInterval(()=>{s++,s==15&&(s=0,clearInterval(o)),t(s)},50)},{defer:!0})),[(()=>{const i=ci.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==1?"":"none";return l!==o._v$&&i.style.setProperty("width",o._v$=l),a!==o._v$2&&i.style.setProperty("display",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),i})(),(()=>{const i=di.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==2?"":"none";return l!==o._v$3&&i.style.setProperty("width",o._v$3=l),a!==o._v$4&&i.style.setProperty("display",o._v$4=a),o},{_v$3:void 0,_v$4:void 0}),i})(),(()=>{const i=yi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==3?"":"none";return l!==o._v$5&&i.style.setProperty("width",o._v$5=l),a!==o._v$6&&i.style.setProperty("display",o._v$6=a),o},{_v$5:void 0,_v$6:void 0}),i})(),(()=>{const i=hi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==4?"":"none";return l!==o._v$7&&i.style.setProperty("width",o._v$7=l),a!==o._v$8&&i.style.setProperty("display",o._v$8=a),o},{_v$7:void 0,_v$8:void 0}),i})(),(()=>{const i=fi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==5?"":"none";return l!==o._v$9&&i.style.setProperty("width",o._v$9=l),a!==o._v$10&&i.style.setProperty("display",o._v$10=a),o},{_v$9:void 0,_v$10:void 0}),i})(),(()=>{const i=pi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==6?"":"none";return l!==o._v$11&&i.style.setProperty("width",o._v$11=l),a!==o._v$12&&i.style.setProperty("display",o._v$12=a),o},{_v$11:void 0,_v$12:void 0}),i})(),(()=>{const i=gi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==7?"":"none";return l!==o._v$13&&i.style.setProperty("width",o._v$13=l),a!==o._v$14&&i.style.setProperty("display",o._v$14=a),o},{_v$13:void 0,_v$14:void 0}),i})(),(()=>{const i=vi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==8?"":"none";return l!==o._v$15&&i.style.setProperty("width",o._v$15=l),a!==o._v$16&&i.style.setProperty("display",o._v$16=a),o},{_v$15:void 0,_v$16:void 0}),i})(),(()=>{const i=_i.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==9?"":"none";return l!==o._v$17&&i.style.setProperty("width",o._v$17=l),a!==o._v$18&&i.style.setProperty("display",o._v$18=a),o},{_v$17:void 0,_v$18:void 0}),i})(),(()=>{const i=$i.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==10?"":"none";return l!==o._v$19&&i.style.setProperty("width",o._v$19=l),a!==o._v$20&&i.style.setProperty("display",o._v$20=a),o},{_v$19:void 0,_v$20:void 0}),i})(),(()=>{const i=mi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==11?"":"none";return l!==o._v$21&&i.style.setProperty("width",o._v$21=l),a!==o._v$22&&i.style.setProperty("display",o._v$22=a),o},{_v$21:void 0,_v$22:void 0}),i})(),(()=>{const i=Pi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==12?"":"none";return l!==o._v$23&&i.style.setProperty("width",o._v$23=l),a!==o._v$24&&i.style.setProperty("display",o._v$24=a),o},{_v$23:void 0,_v$24:void 0}),i})(),(()=>{const i=bi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==13?"":"none";return l!==o._v$25&&i.style.setProperty("width",o._v$25=l),a!==o._v$26&&i.style.setProperty("display",o._v$26=a),o},{_v$25:void 0,_v$26:void 0}),i})(),(()=>{const i=xi.cloneNode(!0);return E(o=>{const l="23"+e.vp,a=r()==14?"":"none";return l!==o._v$27&&i.style.setProperty("width",o._v$27=l),a!==o._v$28&&i.style.setProperty("display",o._v$28=a),o},{_v$27:void 0,_v$28:void 0}),i})()]},Ci=L('<table><tbody><tr><td><img src="./assets/textures/MJRoom/Z_nobody.png"></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td><span></span><span></span></td></tr></tbody></table>'),Ot=e=>{let r=e.i,t=e.seats,n=e.bottom+e.vp||null,s=e.left+e.vp||null,i=e.top+e.vp||null,o=e.right+e.vp||null,l=e.pengNum||null,a=e.gangNum||null;return(()=>{const h=Ci.cloneNode(!0),f=h.firstChild,g=f.firstChild,y=g.firstChild,p=y.firstChild,c=g.nextSibling,u=c.firstChild,d=c.nextSibling,v=d.firstChild,_=d.nextSibling,N=_.firstChild,x=N.firstChild,A=x.nextSibling;return h.style.setProperty("position","absolute"),h.style.setProperty("bottom",n),h.style.setProperty("left",s),h.style.setProperty("right",o),h.style.setProperty("top",i),y.style.setProperty("text-align","center"),p.style.setProperty("background-color","darkgray"),p.style.setProperty("border-radius","10px"),u.style.setProperty("text-align","center"),u.style.setProperty("color","#fff"),u.style.setProperty("font-weight","bold"),u.style.setProperty("background","darkslategrey"),u.style.setProperty("border-radius","5px"),u.style.setProperty("padding-left","3px"),u.style.setProperty("padding-right","3px"),k(u,()=>t()[r]?.name),v.style.setProperty("text-align","center"),v.style.setProperty("color","#fff"),k(v,()=>r=="0"?t()[r]?.exp+"/":"",null),k(v,()=>t()[r]?.score,null),x.style.setProperty("position","absolute"),x.style.setProperty("bottom",n),x.style.setProperty("left",s),x.style.setProperty("right",o),x.style.setProperty("top",i),x.style.setProperty("z-index","100000"),k(x,C(ui,{num:l,get vp(){return e.vp}})),A.style.setProperty("position","absolute"),A.style.setProperty("bottom",n),A.style.setProperty("left",s),A.style.setProperty("right",o),A.style.setProperty("top",i),A.style.setProperty("z-index","100000"),k(A,C(wi,{num:a,get vp(){return e.vp}})),E(D=>{const m="12"+e.vp,M="1"+e.vp,I="5"+e.vp,$="1.5"+e.vp,b="3"+e.vp,P="1.5"+e.vp,T="1.5"+e.vp;return m!==D._v$&&h.style.setProperty("width",D._v$=m),M!==D._v$2&&y.style.setProperty("line-height",D._v$2=M),I!==D._v$3&&p.style.setProperty("width",D._v$3=I),$!==D._v$4&&u.style.setProperty("font-size",D._v$4=$),b!==D._v$5&&u.style.setProperty("line-height",D._v$5=b),P!==D._v$6&&v.style.setProperty("font-size",D._v$6=P),T!==D._v$7&&v.style.setProperty("line-height",D._v$7=T),D},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),h})()},Si=L('<div><img src="./assets/textures/images/playScenesc/sichuan_room_fangxiang.png"><img src="./assets/textures/images/playScenesc/sichuan_room_fangxiang_002.png"><img src="./assets/textures/images/playScenesc/sichuan_room_fangxiang_004.png"><img src="./assets/textures/images/playScenesc/sichuan_room_fangxiang_003.png"><img src="./assets/textures/images/playScenesc/sichuan_room_fangxiang_001.png"><img src="./assets/textures/MJRoom/Z_arrow_top.png"><span></span></div>'),ki=e=>{let r=e.turn,[t,n]=j(10),s=0;return ze(ft(r,i=>{if(n(10),s==1)return;s=1;let o=setInterval(()=>{t()>0&&n(()=>t()-1),t()=="0"&&(s=0,clearInterval(o))},1e3)},{defer:!0})),(()=>{const i=Si.cloneNode(!0),o=i.firstChild,l=o.nextSibling,a=l.nextSibling,h=a.nextSibling,f=h.nextSibling,g=f.nextSibling,y=g.nextSibling;return i.style.setProperty("display","inline-block"),i.style.setProperty("width","50px"),i.style.setProperty("height","50px"),i.style.setProperty("position","relative"),o.style.setProperty("display","inline-block"),o.style.setProperty("position","relative"),o.style.setProperty("margin","0 auto"),o.style.setProperty("width","100%"),l.style.setProperty("position","absolute"),l.style.setProperty("height","10px"),l.style.setProperty("left","3px"),l.style.setProperty("bottom","2px"),a.style.setProperty("position","absolute"),a.style.setProperty("width","10px"),a.style.setProperty("bottom","3px"),a.style.setProperty("right","2px"),h.style.setProperty("position","absolute"),h.style.setProperty("height","10px"),h.style.setProperty("left","3px"),h.style.setProperty("top","2px"),f.style.setProperty("position","absolute"),f.style.setProperty("width","10px"),f.style.setProperty("bottom","3px"),f.style.setProperty("left","2px"),g.style.setProperty("position","absolute"),g.style.setProperty("width","23px"),g.style.setProperty("left","13px"),g.style.setProperty("top","13px"),g.style.setProperty("z-index","10000"),y.style.setProperty("position","absolute"),y.style.setProperty("width","23px"),y.style.setProperty("left","13px"),y.style.setProperty("top","13px"),y.style.setProperty("z-index","10000"),y.style.setProperty("color","white"),k(y,t),E(p=>{const c=r()=="0"?"inline":"none",u=r()==1?"inline":"none",d=r()==2?"inline":"none",v=r()==3?"inline":"none";return c!==p._v$&&l.style.setProperty("display",p._v$=c),u!==p._v$2&&a.style.setProperty("display",p._v$2=u),d!==p._v$3&&h.style.setProperty("display",p._v$3=d),v!==p._v$4&&f.style.setProperty("display",p._v$4=v),p},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),i})()},Ni=L("<img>"),Vn=e=>{let r=e.number;return!r()&&r()!="0"?null:(()=>{const t=Ni.cloneNode(!0);return t.style.setProperty("display","inline-block"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="20"+e.vp,o="3.5"+e.vp;return s!==n._v$&&ve(t,"src",n._v$=s),i!==n._v$2&&t.style.setProperty("bottom",n._v$2=i),o!==n._v$3&&t.style.setProperty("width",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},Ai=L('<div id="MyFolds"><span></span><br><span></span></div>'),Ei=e=>{let r=e.folds;return(()=>{const t=Ai.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling;return t.style.setProperty("position","absolute"),t.style.setProperty("width","100%"),t.style.setProperty("left","0px"),t.style.setProperty("line-height","0px"),t.style.setProperty("text-align","center"),n.style.setProperty("display","inline-block"),n.style.setProperty("width","43%"),n.style.setProperty("text-align","left"),k(n,C(ae,{get each(){return r()},children:(o,l)=>{if(l<12)return C(Vn,{number:o,get vp(){return e.vp}})}})),i.style.setProperty("display","inline-block"),i.style.setProperty("width","43%"),i.style.setProperty("text-align","left"),i.style.setProperty("position","relative"),k(i,C(ae,{get each(){return r()},children:(o,l)=>{if(l>=12)return C(Vn,{number:o,get vp(){return e.vp}})}})),E(o=>{const l="10"+e.vp,a="21"+e.vp1,h="-1.3"+e.vp;return l!==o._v$&&t.style.setProperty("height",o._v$=l),a!==o._v$2&&t.style.setProperty("bottom",o._v$2=a),h!==o._v$3&&i.style.setProperty("top",o._v$3=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},Mi=L('<div id="MyChuPaiDiv"><img></div>'),Di=e=>{let r=e.chuPaiId;return ze(ft(r,t=>{let n=setTimeout(()=>{e.setChuPaiId(null),clearTimeout(n)},700)},{defer:!0})),!e.chuPaiId&&!e.chuPaiId=="0"?null:(()=>{const t=Mi.cloneNode(!0),n=t.firstChild;return t.style.setProperty("z-index","10"),t.style.setProperty("position","absolute"),t.style.setProperty("width","100%"),t.style.setProperty("text-align","center"),E(s=>{const i=r()||r()=="0"?"block":"none",o="10"+e.vp,l="./assets/textures/MJ/my/images/"+r()+".png",a="6"+e.vp;return i!==s._v$&&t.style.setProperty("display",s._v$=i),o!==s._v$2&&t.style.setProperty("bottom",s._v$2=o),l!==s._v$3&&ve(n,"src",s._v$3=l),a!==s._v$4&&n.style.setProperty("width",s._v$4=a),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()},Bi=L('<div id="MyOpts"><div><img><img src="./assets/textures/images/play_scenes/btn_win.png"><img src="./assets/textures/images/play_scenes/btn_gang.png"><img src="./assets/textures/images/play_scenes/btn_peng.png"><img src="./assets/textures/images/play_scenes/btn_pass.png"></div></div>'),Ti=e=>{const r=i=>{i.preventDefault(),i.stopPropagation(),e.handleHuClick()},t=i=>{i.preventDefault(),i.stopPropagation(),e.handleGangClick()},n=i=>{i.preventDefault(),i.stopPropagation(),e.handlePengClick()},s=i=>{i.preventDefault(),i.stopPropagation(),e.handlePassClick()};return(()=>{const i=Bi.cloneNode(!0),o=i.firstChild,l=o.firstChild,a=l.nextSibling,h=a.nextSibling,f=h.nextSibling,g=f.nextSibling;return i.style.setProperty("z-index","1000000000000000"),i.style.setProperty("position","absolute"),o.style.setProperty("text-align","right"),a.$$click=y=>r(y),a.$$touchend=y=>r(y),h.$$click=y=>t(y),h.$$touchend=y=>t(y),f.$$click=y=>n(y),f.$$touchend=y=>n(y),g.$$click=y=>s(y),g.$$touchend=y=>s(y),E(y=>{const p="9"+e.vp,c="11"+e.vp,u="4"+e.vp,d="4"+e.vp,v="./assets/textures/MJ/my/images/"+e.mjId()+".png",_="6"+e.vp,N=e.mjId()||e.mjId()=="0"?"inline":"none",x="2"+e.vp,A="8"+e.vp,D=e.hued()?"inline":"none",m="2"+e.vp,M="8"+e.vp,I=e.ganged()?"inline":"none",$="2"+e.vp,b="8"+e.vp,P=e.penged()?"inline":"none",T="2"+e.vp,S="8"+e.vp,H=e.passed()?"inline":"none",G="2"+e.vp;return p!==y._v$&&i.style.setProperty("bottom",y._v$=p),c!==y._v$2&&i.style.setProperty("height",y._v$2=c),u!==y._v$3&&i.style.setProperty("right",y._v$3=u),d!==y._v$4&&o.style.setProperty("padding-right",y._v$4=d),v!==y._v$5&&ve(l,"src",y._v$5=v),_!==y._v$6&&l.style.setProperty("width",y._v$6=_),N!==y._v$7&&l.style.setProperty("display",y._v$7=N),x!==y._v$8&&l.style.setProperty("margin-right",y._v$8=x),A!==y._v$9&&a.style.setProperty("width",y._v$9=A),D!==y._v$10&&a.style.setProperty("display",y._v$10=D),m!==y._v$11&&a.style.setProperty("margin-right",y._v$11=m),M!==y._v$12&&h.style.setProperty("width",y._v$12=M),I!==y._v$13&&h.style.setProperty("display",y._v$13=I),$!==y._v$14&&h.style.setProperty("margin-right",y._v$14=$),b!==y._v$15&&f.style.setProperty("width",y._v$15=b),P!==y._v$16&&f.style.setProperty("display",y._v$16=P),T!==y._v$17&&f.style.setProperty("margin-right",y._v$17=T),S!==y._v$18&&g.style.setProperty("width",y._v$18=S),H!==y._v$19&&g.style.setProperty("display",y._v$19=H),G!==y._v$20&&g.style.setProperty("margin-right",y._v$20=G),y},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0}),i})()};Ie(["touchend","click"]);const Ii=L("<img>"),er=e=>{let r=e.pos,t=e.i,n=e.number;if(!n()&&n()!="0")return null;const s=i=>{i.preventDefault(),i.stopPropagation(),console.log("e:"),console.log(i),e.handleChuPaiClick&&e.handleChuPaiClick(i,n(),t)};return n?(()=>{const i=Ii.cloneNode(!0);return i.$$click=o=>s(o),i.$$touchend=o=>s(o),i.style.setProperty("display","inline-block"),i.style.setProperty("position","relative"),E(o=>{const l="./assets/textures/MJ/my/images/"+n()+".png",a=r()==t?2+e.vp:0,h="6"+e.vp;return l!==o._v$&&ve(i,"src",o._v$=l),a!==o._v$2&&i.style.setProperty("bottom",o._v$2=a),h!==o._v$3&&i.style.setProperty("width",o._v$3=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})():null};Ie(["touchend","click"]);const Ri=L('<span><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"></span>'),Oi=L("<span><img><img><img></span>"),Li=L("<img>"),Hi=L('<img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png">'),Lt=e=>{let r=e.number;return!r()&&r()!="0"?null:e.penggangType=="angang"?(()=>{const t=Ri.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling,o=i.nextSibling;return t.style.setProperty("margin-right","0px"),t.style.setProperty("position","relative"),n.style.setProperty("display","inline-block"),n.style.setProperty("position","relative"),n.style.setProperty("bottom","0px"),s.style.setProperty("display","inline-block"),s.style.setProperty("position","relative"),s.style.setProperty("bottom","0px"),i.style.setProperty("display","inline-block"),i.style.setProperty("position","relative"),i.style.setProperty("bottom","0px"),o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="6"+e.vp,h="6"+e.vp,f="6"+e.vp,g="1"+e.vp,y="6"+e.vp,p="6"+e.vp;return a!==l._v$&&n.style.setProperty("width",l._v$=a),h!==l._v$2&&s.style.setProperty("width",l._v$2=h),f!==l._v$3&&i.style.setProperty("width",l._v$3=f),g!==l._v$4&&o.style.setProperty("bottom",l._v$4=g),y!==l._v$5&&o.style.setProperty("left",l._v$5=y),p!==l._v$6&&o.style.setProperty("width",l._v$6=p),l},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})():(()=>{const t=Oi.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling;return t.style.setProperty("margin-right","0px"),t.style.setProperty("position","relative"),n.style.setProperty("display","inline-block"),n.style.setProperty("position","relative"),n.style.setProperty("bottom","0px"),s.style.setProperty("display","inline-block"),s.style.setProperty("position","relative"),s.style.setProperty("bottom","0px"),i.style.setProperty("display","inline-block"),i.style.setProperty("position","relative"),i.style.setProperty("bottom","0px"),k(t,()=>{if(e.penggangType=="diangang")return(()=>{const o=Li.cloneNode(!0);return o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",h="1"+e.vp,f="6"+e.vp,g="6"+e.vp;return a!==l._v$13&&ve(o,"src",l._v$13=a),h!==l._v$14&&o.style.setProperty("bottom",l._v$14=h),f!==l._v$15&&o.style.setProperty("left",l._v$15=f),g!==l._v$16&&o.style.setProperty("width",l._v$16=g),l},{_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0}),o})();if(e.penggangType=="wangang")return(()=>{const o=Hi.cloneNode(!0);return o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="1"+e.vp,h="6"+e.vp,f="6"+e.vp;return a!==l._v$17&&o.style.setProperty("bottom",l._v$17=a),h!==l._v$18&&o.style.setProperty("left",l._v$18=h),f!==l._v$19&&o.style.setProperty("width",l._v$19=f),l},{_v$17:void 0,_v$18:void 0,_v$19:void 0}),o})()},null),E(o=>{const l="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",a="6"+e.vp,h="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",f="6"+e.vp,g="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",y="6"+e.vp;return l!==o._v$7&&ve(n,"src",o._v$7=l),a!==o._v$8&&n.style.setProperty("width",o._v$8=a),h!==o._v$9&&ve(s,"src",o._v$9=h),f!==o._v$10&&s.style.setProperty("width",o._v$10=f),g!==o._v$11&&ve(i,"src",o._v$11=g),y!==o._v$12&&i.style.setProperty("width",o._v$12=y),o},{_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),t})()},Fi=L('<table id="MyHolds"><tbody><tr><td></td></tr></tbody></table>'),Ui=L("<span> </span>"),zi=e=>{let r=e.penggangs,t=e.holds,n=e.handleChuPaiClick,s=()=>t().length,i=e.pos,o=e.myLengthMinus;return(()=>{const l=Fi.cloneNode(!0),a=l.firstChild,h=a.firstChild,f=h.firstChild;return l.style.setProperty("position","absolute"),l.style.setProperty("bottom","1%"),l.style.setProperty("width","90%"),l.style.setProperty("left","6%"),f.style.setProperty("text-align","left"),f.style.setProperty("vertical-align","bottom"),k(f,C(ae,{get each(){return r().pengs},children:(g,y)=>C(Lt,{number:g,penggangType:"peng",get vp(){return e.vp}})}),null),k(f,C(ae,{get each(){return r().angangs},children:(g,y)=>C(Lt,{number:g,penggangType:"angang",get vp(){return e.vp}})}),null),k(f,C(ae,{get each(){return r().diangangs},children:(g,y)=>C(Lt,{number:g,penggangType:"diangang",get vp(){return e.vp}})}),null),k(f,C(ae,{get each(){return r().wangangs},children:(g,y)=>C(Lt,{number:g,penggangType:"wangang",get vp(){return e.vp}})}),null),k(f,C(ae,{get each(){return t()},children:(g,y)=>{if(!((s()==2||s()==5||s()==8||s()==11||s()==14)&&y==s()-1&&o()))return C(er,{get vp(){return e.vp},number:g,i:y,pos:i,handleChuPaiClick:n})}}),null),k(f,C(ae,{get each(){return t()},children:(g,y)=>{if((s()==2||s()==5||s()==8||s()==11||s()==14)&&y==s()-1&&o())return[(()=>{const p=Ui.cloneNode(!0);return p.style.setProperty("display","inline-block"),p.style.setProperty("width","3%"),p})(),C(er,{get vp(){return e.vp},number:g,i:y,pos:i,handleChuPaiClick:n})]}}),null),E(()=>l.style.setProperty("height","17"+e.vp)),l})()},Ji=e=>[C(Ei,{get folds(){return e.folds},get vp(){return e.vp},get vp1(){return e.vp1}}),C(Di,{get chuPaiId(){return e.chuPaiId},get pos(){return e.pos},get setChuPaiId(){return e.setChuPaiId},get vp(){return e.vp},get vp1(){return e.vp1}}),C(Ti,{get penggangs(){return e.penggangs},get mjId(){return e.mjId},get pos(){return e.pos},get hued(){return e.hued},get ganged(){return e.ganged},get penged(){return e.penged},get passed(){return e.passed},get handleHuClick(){return e.handleHuClick},get handleGangClick(){return e.handleGangClick},get handlePengClick(){return e.handlePengClick},get handlePassClick(){return e.handlePassClick},get vp(){return e.vp},get vp1(){return e.vp1}}),C(zi,{get penggangs(){return e.penggangs},get pos(){return e.pos},get handleChuPaiClick(){return e.handleChuPaiClick},get holds(){return e.holds},get myLengthMinus(){return e.myLengthMinus},get vp(){return e.vp},get vp1(){return e.vp1}})],qi=L("<img>"),tr=e=>{let r=e.number;return!r()&&r()!="0"?null:(()=>{const t=qi.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/right/Z_rights/"+r()+".png",i="-0.9"+e.vp,o="3.3"+e.vp;return s!==n._v$&&ve(t,"src",n._v$=s),i!==n._v$2&&t.style.setProperty("margin-bottom",n._v$2=i),o!==n._v$3&&t.style.setProperty("width",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},ji=L('<div id="RightFolds"></div>'),Gi=L('<div id="RightFold"></div>'),Zi=e=>{let r=e.folds;return[(()=>{const t=ji.cloneNode(!0);return t.style.setProperty("position","absolute"),t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("height","50%"),k(t,C(ae,{get each(){return r()},children:(n,s)=>{if(s<12)return C(tr,{number:n,get vp(){return e.vp}})}})),E(n=>{const s="23"+e.vp1,i="3.3"+e.vp,o="22"+e.vp;return s!==n._v$&&t.style.setProperty("top",n._v$=s),i!==n._v$2&&t.style.setProperty("width",n._v$2=i),o!==n._v$3&&t.style.setProperty("right",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})(),(()=>{const t=Gi.cloneNode(!0);return t.style.setProperty("position","absolute"),t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("height","50%"),k(t,C(ae,{get each(){return r()},children:(n,s)=>{if(s>=12)return C(tr,{number:n,get vp(){return e.vp}})}})),E(n=>{const s="23"+e.vp1,i="3.3"+e.vp,o="18.8"+e.vp;return s!==n._v$4&&t.style.setProperty("top",n._v$4=s),i!==n._v$5&&t.style.setProperty("width",n._v$5=i),o!==n._v$6&&t.style.setProperty("right",n._v$6=o),n},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})()]},Xi=L('<div id="RightChuPaiDiv"><img></div>'),Wi=e=>{let r=e.chuPaiId;return ze(ft(r,t=>{let n=setTimeout(()=>{e.setChuPaiId(null),clearTimeout(n)},700)},{defer:!0})),!e.chuPaiId&&!e.chuPaiId=="0"?null:(()=>{const t=Xi.cloneNode(!0),n=t.firstChild;return t.style.setProperty("z-index","100"),t.style.setProperty("position","absolute"),E(s=>{const i=r()||r()=="0"?"block":"none",o="25"+e.vp,l="16"+e.vp,a="./assets/textures/MJ/right/Z_rights/"+r()+".png",h="6"+e.vp;return i!==s._v$&&t.style.setProperty("display",s._v$=i),o!==s._v$2&&t.style.setProperty("top",s._v$2=o),l!==s._v$3&&t.style.setProperty("right",s._v$3=l),a!==s._v$4&&ve(n,"src",s._v$4=a),h!==s._v$5&&n.style.setProperty("width",s._v$5=h),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})()},Ki=L('<img src="./assets/textures/MJ/mjEmptys/e_mj_right.png">'),Yi=e=>(()=>{const r=Ki.cloneNode(!0);return E(t=>{const n="5"+e.vp,s="2"+e.vp,i="-4"+e.vp;return n!==t._v$&&r.style.setProperty("height",t._v$=n),s!==t._v$2&&r.style.setProperty("width",t._v$2=s),i!==t._v$3&&r.style.setProperty("margin-top",t._v$3=i),t},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),Ct=L('<img src="./assets/textures/MJ/mjEmptys/e_mj_b_right.png">'),Ht=L("<img>"),Ft=e=>{let r=e.number;return!r()&&r()!="0"?null:e.penggangType=="angang"?[(()=>{const t=Ct.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(()=>t.style.setProperty("width","3.3"+e.vp)),t})(),(()=>{const t=Ct.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="3.3"+e.vp,i="-1"+e.vp;return s!==n._v$&&t.style.setProperty("width",n._v$=s),i!==n._v$2&&t.style.setProperty("margin-top",n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})(),(()=>{const t=Ct.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="3.3"+e.vp,i="-1"+e.vp;return s!==n._v$3&&t.style.setProperty("width",n._v$3=s),i!==n._v$4&&t.style.setProperty("margin-top",n._v$4=i),n},{_v$3:void 0,_v$4:void 0}),t})(),(()=>{const t=Ct.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="3.3"+e.vp,i="-5.3"+e.vp;return s!==n._v$5&&t.style.setProperty("width",n._v$5=s),i!==n._v$6&&t.style.setProperty("margin-top",n._v$6=i),n},{_v$5:void 0,_v$6:void 0}),t})()]:[(()=>{const t=Ht.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/right/Z_rights/"+r()+".png",i="3.3"+e.vp;return s!==n._v$7&&ve(t,"src",n._v$7=s),i!==n._v$8&&t.style.setProperty("width",n._v$8=i),n},{_v$7:void 0,_v$8:void 0}),t})(),(()=>{const t=Ht.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/right/Z_rights/"+r()+".png",i="3.3"+e.vp,o="-1"+e.vp;return s!==n._v$9&&ve(t,"src",n._v$9=s),i!==n._v$10&&t.style.setProperty("width",n._v$10=i),o!==n._v$11&&t.style.setProperty("margin-top",n._v$11=o),n},{_v$9:void 0,_v$10:void 0,_v$11:void 0}),t})(),(()=>{const t=Ht.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/right/Z_rights/"+r()+".png",i="3.3"+e.vp,o="-1"+e.vp;return s!==n._v$12&&ve(t,"src",n._v$12=s),i!==n._v$13&&t.style.setProperty("width",n._v$13=i),o!==n._v$14&&t.style.setProperty("margin-top",n._v$14=o),n},{_v$12:void 0,_v$13:void 0,_v$14:void 0}),t})(),()=>{if(e.penggangType=="diangang")return(()=>{const t=Ht.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="./assets/textures/MJ/right/Z_rights/"+r()+".png",i="-5.3"+e.vp,o="3.3"+e.vp;return s!==n._v$15&&ve(t,"src",n._v$15=s),i!==n._v$16&&t.style.setProperty("margin-top",n._v$16=i),o!==n._v$17&&t.style.setProperty("width",n._v$17=o),n},{_v$15:void 0,_v$16:void 0,_v$17:void 0}),t})();if(e.penggangType=="wangang")return(()=>{const t=Ct.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="-5.3"+e.vp,i="3.3"+e.vp;return s!==n._v$18&&t.style.setProperty("margin-top",n._v$18=s),i!==n._v$19&&t.style.setProperty("width",n._v$19=i),n},{_v$18:void 0,_v$19:void 0}),t})()}]},Qi=L('<div id="RightHolds"><div></div></div>'),Vi=e=>{let r=e.holds,t=e.penggangs;return(()=>{const n=Qi.cloneNode(!0),s=n.firstChild;return n.style.setProperty("position","absolute"),n.style.setProperty("display","grid"),n.style.setProperty("height","50%"),s.style.setProperty("display","grid"),k(s,C(ae,{get each(){return t().pengs},children:(i,o)=>C(Ft,{number:i,penggangType:"peng",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().angangs},children:(i,o)=>C(Ft,{number:i,penggangType:"angang",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().diangangs},children:(i,o)=>C(Ft,{number:i,penggangType:"diangang",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().wangangs},children:(i,o)=>C(Ft,{number:i,penggangType:"wangang",get vp(){return e.vp}})}),null),k(n,C(_r,{get each(){return r()},children:i=>C(Yi,{get vp(){return e.vp}})}),null),E(i=>{const o="25"+e.vp1,l="3.3"+e.vp,a="12"+e.vp,h="4"+e.vp;return o!==i._v$&&n.style.setProperty("top",i._v$=o),l!==i._v$2&&n.style.setProperty("width",i._v$2=l),a!==i._v$3&&n.style.setProperty("right",i._v$3=a),h!==i._v$4&&s.style.setProperty("margin-bottom",i._v$4=h),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},eo=e=>[C(Zi,{get folds(){return e.folds},get vp(){return e.vp},get vp1(){return e.vp1}}),C(Wi,{get chuPaiId(){return e.chuPaiId},get setChuPaiId(){return e.setChuPaiId},get vp(){return e.vp},get vp1(){return e.vp1}}),C(Vi,{get holds(){return e.holds},get penggangs(){return e.penggangs},get vp(){return e.vp},get vp1(){return e.vp1}})],to=L("<img>"),nr=e=>{let r=e.number;return!r()&&r()!="0"?null:(()=>{const t=to.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/left/Z_lefts/"+r()+".png",i="-0.9"+e.vp,o="3.3"+e.vp;return s!==n._v$&&ve(t,"src",n._v$=s),i!==n._v$2&&t.style.setProperty("margin-bottom",n._v$2=i),o!==n._v$3&&t.style.setProperty("width",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},rr=L('<div id="LeftFold"></div>'),no=e=>{let r=e.folds;return[(()=>{const t=rr.cloneNode(!0);return t.style.setProperty("position","absolute"),t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("height","50%"),k(t,C(ae,{get each(){return r()},children:(n,s)=>{if(s<12)return C(nr,{number:n,get vp(){return e.vp}})}})),E(n=>{const s="16"+e.vp,i="3.3"+e.vp,o="24"+e.vp;return s!==n._v$&&t.style.setProperty("bottom",n._v$=s),i!==n._v$2&&t.style.setProperty("width",n._v$2=i),o!==n._v$3&&t.style.setProperty("left",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})(),(()=>{const t=rr.cloneNode(!0);return t.style.setProperty("position","absolute"),t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("height","50%"),k(t,C(ae,{get each(){return r()},children:(n,s)=>{if(s>=12)return C(nr,{number:n,get vp(){return e.vp}})}})),E(n=>{const s="16"+e.vp,i="3.3"+e.vp,o="21"+e.vp;return s!==n._v$4&&t.style.setProperty("bottom",n._v$4=s),i!==n._v$5&&t.style.setProperty("width",n._v$5=i),o!==n._v$6&&t.style.setProperty("left",n._v$6=o),n},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})()]},ro=L('<div id="LeftChuPaiDiv"><img></div>'),so=e=>{let r=e.chuPaiId;return ze(ft(r,t=>{let n=setTimeout(()=>{e.setChuPaiId(null),clearTimeout(n)},700)},{defer:!0})),!e.chuPaiId&&!e.chuPaiId=="0"?null:(()=>{const t=ro.cloneNode(!0),n=t.firstChild;return t.style.setProperty("z-index","100"),t.style.setProperty("position","absolute"),E(s=>{const i=r()||r()=="0"?"block":"none",o="25"+e.vp,l="20"+e.vp,a="./assets/textures/MJ/left/Z_lefts/"+r()+".png",h="6"+e.vp;return i!==s._v$&&t.style.setProperty("display",s._v$=i),o!==s._v$2&&t.style.setProperty("top",s._v$2=o),l!==s._v$3&&t.style.setProperty("left",s._v$3=l),a!==s._v$4&&ve(n,"src",s._v$4=a),h!==s._v$5&&n.style.setProperty("width",s._v$5=h),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})()},io=L('<img src="./assets/textures/MJ/mjEmptys/e_mj_left.png">'),oo=e=>(()=>{const r=io.cloneNode(!0);return E(t=>{const n="2"+e.vp,s="-4"+e.vp,i="1.5"+e.vp;return n!==t._v$&&r.style.setProperty("width",t._v$=n),s!==t._v$2&&r.style.setProperty("margin-top",t._v$2=s),i!==t._v$3&&r.style.setProperty("margin-left",t._v$3=i),t},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),St=L('<img src="./assets/textures/MJ/mjEmptys/e_mj_b_left.png">'),Ut=L("<img>"),zt=e=>{let r=e.number;return!r()&&r()!="0"?null:e.penggangType=="angang"?[(()=>{const t=St.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("margin-top","0px"),E(()=>t.style.setProperty("width","3.3"+e.vp)),t})(),(()=>{const t=St.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="-1.3"+e.vp,i="3.3"+e.vp;return s!==n._v$&&t.style.setProperty("margin-top",n._v$=s),i!==n._v$2&&t.style.setProperty("width",n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})(),(()=>{const t=St.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="-1.3"+e.vp,i="3.3"+e.vp;return s!==n._v$3&&t.style.setProperty("margin-top",n._v$3=s),i!==n._v$4&&t.style.setProperty("width",n._v$4=i),n},{_v$3:void 0,_v$4:void 0}),t})(),(()=>{const t=St.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="-5.3"+e.vp,i="3.3"+e.vp;return s!==n._v$5&&t.style.setProperty("margin-top",n._v$5=s),i!==n._v$6&&t.style.setProperty("width",n._v$6=i),n},{_v$5:void 0,_v$6:void 0}),t})()]:[(()=>{const t=Ut.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/left/Z_lefts/"+r()+".png",i="0"+e.vp,o="3.3"+e.vp;return s!==n._v$7&&ve(t,"src",n._v$7=s),i!==n._v$8&&t.style.setProperty("margin-top",n._v$8=i),o!==n._v$9&&t.style.setProperty("width",n._v$9=o),n},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),t})(),(()=>{const t=Ut.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/left/Z_lefts/"+r()+".png",i="-1.3"+e.vp,o="3.3"+e.vp;return s!==n._v$10&&ve(t,"src",n._v$10=s),i!==n._v$11&&t.style.setProperty("margin-top",n._v$11=i),o!==n._v$12&&t.style.setProperty("width",n._v$12=o),n},{_v$10:void 0,_v$11:void 0,_v$12:void 0}),t})(),(()=>{const t=Ut.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),E(n=>{const s="./assets/textures/MJ/left/Z_lefts/"+r()+".png",i="-1.3"+e.vp,o="3.3"+e.vp;return s!==n._v$13&&ve(t,"src",n._v$13=s),i!==n._v$14&&t.style.setProperty("margin-top",n._v$14=i),o!==n._v$15&&t.style.setProperty("width",n._v$15=o),n},{_v$13:void 0,_v$14:void 0,_v$15:void 0}),t})(),()=>{if(e.penggangType=="diangang")return(()=>{const t=Ut.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="./assets/textures/MJ/left/Z_lefts/"+r()+".png",i="-5.3"+e.vp,o="3.3"+e.vp;return s!==n._v$16&&ve(t,"src",n._v$16=s),i!==n._v$17&&t.style.setProperty("margin-top",n._v$17=i),o!==n._v$18&&t.style.setProperty("width",n._v$18=o),n},{_v$16:void 0,_v$17:void 0,_v$18:void 0}),t})();if(e.penggangType=="wangang")return(()=>{const t=St.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("z-index","10"),E(n=>{const s="-5.3"+e.vp,i="3.3"+e.vp;return s!==n._v$19&&t.style.setProperty("margin-top",n._v$19=s),i!==n._v$20&&t.style.setProperty("width",n._v$20=i),n},{_v$19:void 0,_v$20:void 0}),t})()}]},lo=L('<div id="LeftHolds"><div></div></div>'),ao=e=>{let r=e.holds,t=e.penggangs;return(()=>{const n=lo.cloneNode(!0),s=n.firstChild;return n.style.setProperty("position","absolute"),n.style.setProperty("display","grid"),n.style.setProperty("height","50%"),s.style.setProperty("display","grid"),k(s,C(ae,{get each(){return t().pengs},children:(i,o)=>C(zt,{number:i,penggangType:"peng",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().angangs},children:(i,o)=>C(zt,{number:i,penggangType:"angang",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().diangangs},children:(i,o)=>C(zt,{number:i,penggangType:"diangang",get vp(){return e.vp}})}),null),k(s,C(ae,{get each(){return t().wangangs},children:(i,o)=>C(zt,{number:i,penggangType:"wangang",get vp(){return e.vp}})}),null),k(n,C(_r,{get each(){return r()},children:i=>C(oo,{get vp(){return e.vp}})}),null),E(i=>{const o="1"+e.vp,l="3.5"+e.vp,a="16"+e.vp,h="4"+e.vp;return o!==i._v$&&n.style.setProperty("top",i._v$=o),l!==i._v$2&&n.style.setProperty("width",i._v$2=l),a!==i._v$3&&n.style.setProperty("left",i._v$3=a),h!==i._v$4&&s.style.setProperty("margin-bottom",i._v$4=h),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},uo=e=>[C(no,{get folds(){return e.folds},get vp(){return e.vp},get vp1(){return e.vp1}}),C(so,{get chuPaiId(){return e.chuPaiId},get setChuPaiId(){return e.setChuPaiId},get vp(){return e.vp},get vp1(){return e.vp1}}),C(ao,{get holds(){return e.holds},get penggangs(){return e.penggangs},get vp(){return e.vp},get vp1(){return e.vp1}})],co=L("<img>"),sr=e=>{let r=e.number;return!r()&&r()!="0"?null:(()=>{const t=co.cloneNode(!0);return t.style.setProperty("display","inline-block"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="20"+e.vp,o="3.5"+e.vp;return s!==n._v$&&ve(t,"src",n._v$=s),i!==n._v$2&&t.style.setProperty("bottom",n._v$2=i),o!==n._v$3&&t.style.setProperty("width",n._v$3=o),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},yo=L('<div id="TopFolds"><span></span><br><span></span></div>'),ho=e=>{let r=e.folds;return(()=>{const t=yo.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling;return t.style.setProperty("position","absolute"),t.style.setProperty("width","100%"),t.style.setProperty("right","0px"),t.style.setProperty("line-height","0px"),t.style.setProperty("text-align","center"),n.style.setProperty("display","inline-block"),n.style.setProperty("text-align","right"),n.style.setProperty("direction","rtl"),n.style.setProperty("position","relative"),n.style.setProperty("top","0px"),k(n,C(ae,{get each(){return r()},children:(o,l)=>{if(l>=12)return C(sr,{number:o,get vp(){return e.vp}})}})),i.style.setProperty("display","inline-block"),i.style.setProperty("text-align","right"),i.style.setProperty("direction","rtl"),i.style.setProperty("position","relative"),k(i,C(ae,{get each(){return r()},children:(o,l)=>{if(l<12)return C(sr,{number:o,get vp(){return e.vp}})}})),E(o=>{const l="7"+e.vp,a="42"+e.vp,h="5"+e.vp,f="42"+e.vp,g="-1.2"+e.vp;return l!==o._v$&&t.style.setProperty("top",o._v$=l),a!==o._v$2&&n.style.setProperty("width",o._v$2=a),h!==o._v$3&&n.style.setProperty("height",o._v$3=h),f!==o._v$4&&i.style.setProperty("width",o._v$4=f),g!==o._v$5&&i.style.setProperty("top",o._v$5=g),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})()},fo=L('<div id="TopChuPaiDiv"><img></div>'),po=e=>{let r=e.chuPaiId;return ze(ft(r,t=>{let n=setTimeout(()=>{e.setChuPaiId(null),clearTimeout(n)},700)},{defer:!0})),!e.chuPaiId&&!e.chuPaiId=="0"?null:(()=>{const t=fo.cloneNode(!0),n=t.firstChild;return t.style.setProperty("z-index","100"),t.style.setProperty("position","absolute"),t.style.setProperty("width","100%"),t.style.setProperty("text-align","center"),n.style.setProperty("display","inline-block"),n.style.setProperty("height","100%"),E(s=>{const i=r()||r()=="0"?"block":"none",o="6"+e.vp,l="./assets/textures/MJ/my/images/"+r()+".png",a="6.3"+e.vp;return i!==s._v$&&t.style.setProperty("display",s._v$=i),o!==s._v$2&&t.style.setProperty("top",s._v$2=o),l!==s._v$3&&ve(n,"src",s._v$3=l),a!==s._v$4&&n.style.setProperty("width",s._v$4=a),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()},go=L('<img src="./assets/textures/MJ/mjEmptys/e_mj_up.png">'),vo=e=>(()=>{const r=go.cloneNode(!0);return r.style.setProperty("margin-right","-3px"),E(()=>r.style.setProperty("height","5"+e.vp)),r})(),kt=L('<img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png">'),Jt=L("<img>"),qt=e=>{let r=e.number;return!r()&&r()!="0"?null:e.penggangType=="angang"?[(()=>{const t=kt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(()=>t.style.setProperty("height","5"+e.vp)),t})(),(()=>{const t=kt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(()=>t.style.setProperty("height","5"+e.vp)),t})(),(()=>{const t=kt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(()=>t.style.setProperty("height","5"+e.vp)),t})(),(()=>{const t=kt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","absolute"),t.style.setProperty("top","-1px"),t.style.setProperty("z-index","10"),E(n=>{const s="3.4"+e.vp,i="5"+e.vp;return s!==n._v$&&t.style.setProperty("right",n._v$=s),i!==n._v$2&&t.style.setProperty("height",n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})()]:[(()=>{const t=Jt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="5"+e.vp;return s!==n._v$3&&ve(t,"src",n._v$3=s),i!==n._v$4&&t.style.setProperty("height",n._v$4=i),n},{_v$3:void 0,_v$4:void 0}),t})(),(()=>{const t=Jt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="5"+e.vp;return s!==n._v$5&&ve(t,"src",n._v$5=s),i!==n._v$6&&t.style.setProperty("height",n._v$6=i),n},{_v$5:void 0,_v$6:void 0}),t})(),(()=>{const t=Jt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","relative"),t.style.setProperty("top","0px"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="5"+e.vp;return s!==n._v$7&&ve(t,"src",n._v$7=s),i!==n._v$8&&t.style.setProperty("height",n._v$8=i),n},{_v$7:void 0,_v$8:void 0}),t})(),()=>{if(e.penggangType=="diangang")return(()=>{const t=Jt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","absolute"),t.style.setProperty("top","-1px"),t.style.setProperty("z-index","10"),E(n=>{const s="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",i="3.4"+e.vp,o="5"+e.vp;return s!==n._v$9&&ve(t,"src",n._v$9=s),i!==n._v$10&&t.style.setProperty("right",n._v$10=i),o!==n._v$11&&t.style.setProperty("height",n._v$11=o),n},{_v$9:void 0,_v$10:void 0,_v$11:void 0}),t})();if(e.penggangType=="wangang")return(()=>{const t=kt.cloneNode(!0);return t.style.setProperty("display","inline-block"),t.style.setProperty("position","absolute"),t.style.setProperty("top","-1px"),t.style.setProperty("z-index","10"),E(n=>{const s="3.4"+e.vp,i="5"+e.vp;return s!==n._v$12&&t.style.setProperty("right",n._v$12=s),i!==n._v$13&&t.style.setProperty("height",n._v$13=i),n},{_v$12:void 0,_v$13:void 0}),t})()}]},_o=L('<table id="TopHolds"><tbody><tr><td></td></tr></tbody></table>'),$o=e=>{let r=e.penggangs,t=e.holds;return(()=>{const n=_o.cloneNode(!0),s=n.firstChild,i=s.firstChild,o=i.firstChild;return n.style.setProperty("position","absolute"),o.style.setProperty("text-align","right"),k(o,C(ae,{get each(){return t()},children:(l,a)=>C(vo,{number:l,get vp(){return e.vp}})}),null),k(o,C(ae,{get each(){return r().pengs},children:(l,a)=>C(qt,{number:l,penggangType:"peng",get vp(){return e.vp}})}),null),k(o,C(ae,{get each(){return r().angangs},children:(l,a)=>C(qt,{number:l,penggangType:"angang",get vp(){return e.vp}})}),null),k(o,C(ae,{get each(){return r().diangangs},children:(l,a)=>C(qt,{number:l,penggangType:"diangang",get vp(){return e.vp}})}),null),k(o,C(ae,{get each(){return r().wangangs},children:(l,a)=>C(qt,{number:l,penggangType:"wangang",get vp(){return e.vp}})}),null),E(l=>{const a="1"+e.vp,h="29"+e.vp;return a!==l._v$&&n.style.setProperty("top",l._v$=a),h!==l._v$2&&n.style.setProperty("right",l._v$2=h),l},{_v$:void 0,_v$2:void 0}),n})()},mo=e=>[C(ho,{get folds(){return e.folds},get vp(){return e.vp}}),C(po,{get chuPaiId(){return e.chuPaiId},get setChuPaiId(){return e.setChuPaiId},get vp(){return e.vp}}),C($o,{get penggangs(){return e.penggangs},get holds(){return e.holds},get vp(){return e.vp}})],Po=L("<img>"),bo=e=>{const r=e.number;return!e.number()&&e.number()!="0"?null:(()=>{const t=Po.cloneNode(!0);return E(n=>{const s="./assets/textures/MJ/my/images/"+r()+".png",i="3.5"+e.vp;return s!==n._v$&&ve(t,"src",n._v$=s),i!==n._v$2&&t.style.setProperty("width",n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})()},xo=L('<span><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png"><img></span>'),wo=L("<span><img><img><img></span>"),Co=L("<img>"),So=L('<img src="./assets/textures/MJ/bottom/Z_bottoms/back_up.png">'),jt=e=>{let r=e.number;return e.penggangType=="angang"?(()=>{const t=xo.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling,o=i.nextSibling;return t.style.setProperty("margin-right","0px"),t.style.setProperty("position","relative"),n.style.setProperty("display","inline-block"),n.style.setProperty("position","relative"),n.style.setProperty("bottom","0px"),s.style.setProperty("display","inline-block"),s.style.setProperty("position","relative"),s.style.setProperty("bottom","0px"),i.style.setProperty("display","inline-block"),i.style.setProperty("position","relative"),i.style.setProperty("bottom","0px"),i.style.setProperty("margin-right","4px"),o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="3.5"+e.vp,h="3.5"+e.vp,f="3.5"+e.vp,g="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",y="1"+e.vp,p="3.5"+e.vp,c="4"+e.vp;return a!==l._v$&&n.style.setProperty("width",l._v$=a),h!==l._v$2&&s.style.setProperty("width",l._v$2=h),f!==l._v$3&&i.style.setProperty("width",l._v$3=f),g!==l._v$4&&ve(o,"src",l._v$4=g),y!==l._v$5&&o.style.setProperty("bottom",l._v$5=y),p!==l._v$6&&o.style.setProperty("left",l._v$6=p),c!==l._v$7&&o.style.setProperty("width",l._v$7=c),l},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})():(()=>{const t=wo.cloneNode(!0),n=t.firstChild,s=n.nextSibling,i=s.nextSibling;return t.style.setProperty("margin-right","0px"),t.style.setProperty("position","relative"),n.style.setProperty("display","inline-block"),n.style.setProperty("position","relative"),n.style.setProperty("bottom","0px"),s.style.setProperty("display","inline-block"),s.style.setProperty("position","relative"),s.style.setProperty("bottom","0px"),i.style.setProperty("display","inline-block"),i.style.setProperty("position","relative"),i.style.setProperty("bottom","0px"),i.style.setProperty("margin-right","4px"),k(t,()=>{if(e.penggangType=="diangang")return(()=>{const o=Co.cloneNode(!0);return o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",h="1"+e.vp,f="3.5"+e.vp,g="4"+e.vp;return a!==l._v$14&&ve(o,"src",l._v$14=a),h!==l._v$15&&o.style.setProperty("bottom",l._v$15=h),f!==l._v$16&&o.style.setProperty("left",l._v$16=f),g!==l._v$17&&o.style.setProperty("width",l._v$17=g),l},{_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0}),o})();if(e.penggangType=="wangang")return(()=>{const o=So.cloneNode(!0);return o.style.setProperty("display","inline-block"),o.style.setProperty("position","absolute"),o.style.setProperty("z-index","10"),E(l=>{const a="1"+e.vp,h="3.5"+e.vp,f="4"+e.vp;return a!==l._v$18&&o.style.setProperty("bottom",l._v$18=a),h!==l._v$19&&o.style.setProperty("left",l._v$19=h),f!==l._v$20&&o.style.setProperty("width",l._v$20=f),l},{_v$18:void 0,_v$19:void 0,_v$20:void 0}),o})()},null),E(o=>{const l="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",a="3.5"+e.vp,h="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",f="3.5"+e.vp,g="./assets/textures/MJ/bottom/Z_bottoms/"+r()+".png",y="3.5"+e.vp;return l!==o._v$8&&ve(n,"src",o._v$8=l),a!==o._v$9&&n.style.setProperty("width",o._v$9=a),h!==o._v$10&&ve(s,"src",o._v$10=h),f!==o._v$11&&s.style.setProperty("width",o._v$11=f),g!==o._v$12&&ve(i,"src",o._v$12=g),y!==o._v$13&&i.style.setProperty("width",o._v$13=y),o},{_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),t})()},ko=L('<table><tbody><tr><td colspan="2"><span></span> <span></span></td></tr><tr><td><table><tbody></tbody></table></td><td><div>计分规则：<br>1、只能碰不能吃；<br>2、只在听牌或胡牌时杠牌才计分；<br>3、暗杠每家2分，弯杠每家1分，放杠1分；<br>4、胡牌家若有四张同样时叫1根，每1根翻1倍；<br>5、自摸每家2分，弯杠每家1分，放炮1分；<br>6、清一色、碰碰胡、杠炮胡等都会翻番。</div><br><div><span>本次游戏进程：</span><br>您当前分数为<span></span>分，<br>距离100分的游戏目标还有<span></span>分，<br>您本盘游戏已玩<span></span>局。<br>加油哦！</div></td></tr><tr><td colspan="2"><img src="./assets/textures/images/play_scenes/btn_ready.png"></td></tr></tbody></table>'),No=L("<tr><td> &nbsp;<span></span> &nbsp;<span>分</span> &nbsp;<!> &nbsp;<!> &nbsp;</td></tr>"),Ao=L("<tr><td></td></tr>"),Eo=L('<span><img src="./assets/textures/images/GameEnd/GameEndHu.png"></span>'),Mo=L('<span><img src="./assets/textures/images/GameEnd/GameEnd18.png"></span>'),Do=L("<span><img></span>"),Bo=e=>{const[r,t]=j([]),[n,s]=j(),[i,o]=j({});let l=e.emitter,a=e.gameNetMgr;const h=async f=>{if(f.preventDefault(),f.stopPropagation(),a.seats[0].score>=100){alert("您已达到100分大师级别，您本轮成绩是"+a.seats[0].exp+"局，如果达到最佳局数将被记录，继续游戏将清零进入下一轮！");let g=getLocalStorage("account"),y=getLocalStorage("sign");await Se.fetchAPI("/init_user_info",{account:g,sign:y}),location.reload()}else e.handleSetReady()};return l.on("game_over",f=>{let g=f.data,y=f.huPai;if(g.length==0){_gameresult.active=!0;return}var p=g[a.seatIndex]?.score;p>0?s("赢了"):p<0?s("输了"):s("平局");let c=[];for(var u=0;u<4;++u){for(var d=[],v=g[u],_=!1,N=v.angangs.length+v.wangangs.length+v.diangangs.length,x=v.numofgen,A=[],D=0;D<v.actions.length;++D){var m=v.actions[D];m.type=="zimo"||m.type=="ganghua"||m.type=="dianganghua"||m.type=="hu"||m.type=="gangpaohu"||m.type=="qiangganghu"?(v.pattern=="7pairs"?A.push("七对"):v.pattern=="l7pairs"?A.push("龙七对"):v.pattern=="j7pairs"?A.push("将七对"):v.pattern=="duidui"?A.push("碰碰胡"):v.pattern=="jiangdui"&&A.push("将对"),m.type=="zimo"?A.push("自摸"):m.type=="ganghua"?A.push("杠上花"):m.type=="dianganghua"?A.push("点杠花"):m.type=="gangpaohu"?A.push("杠炮胡"):m.type=="qiangganghu"&&A.push("抢杠胡"),_=!0):m.type=="fangpao"?A.push("放炮"):m.type=="angang"?A.push("暗杠"):m.type=="diangang"?A.push("明杠"):m.type=="wangang"?A.push("弯杠"):m.type=="fanggang"?A.push("放杠"):m.type=="zhuanshougang"?A.push("转手杠"):m.type=="beiqianggang"&&A.push("被抢杠")}_&&(v.qingyise&&A.push("清一色"),v.menqing&&A.push("门清"),v.zhongzhang&&A.push("中张"),v.jingouhu&&A.push("金钩胡"),v.haidihu&&A.push("海底胡"),v.tianhu&&A.push("天胡"),v.dihu&&A.push("地胡"),x>0&&A.push("根x"+x),d.huPai=y),d.username="",a&&a.seats&&a.seats.length>0&&(d.username=a?.seats[u]?.name),d.zhuang=a?.button==u,d.reason=A.join("、");var M=0;_&&(M=v.fan),d.fan&&(d.fan=M+"番"),v.score>0?d.score="+"+v.score:d.score=v.score;let $=[...v.holds];$.sort((b,P)=>b-P);var I=(v.pengs.length+N)*3;d.n=I,d.holds=$,d.diangangs=v.diangangs,d.wangangs=v.wangangs,d.angangs=v.angangs,d.pengs=v.pengs,d.hu=_,c.push(d)}t(c),o(a.seats[0])}),(()=>{const f=ko.cloneNode(!0),g=f.firstChild,y=g.firstChild,p=y.firstChild,c=p.firstChild,u=c.nextSibling,d=u.nextSibling,v=y.nextSibling,_=v.firstChild,N=_.firstChild,x=N.firstChild,A=_.nextSibling,D=A.firstChild,m=D.nextSibling,M=m.nextSibling,I=M.firstChild,$=I.nextSibling,b=$.nextSibling,P=b.nextSibling,T=P.nextSibling,S=T.nextSibling,H=S.nextSibling,G=H.nextSibling,Q=G.nextSibling,V=Q.nextSibling,J=V.nextSibling,se=J.nextSibling,be=v.nextSibling,Pe=be.firstChild,q=Pe.firstChild;return f.style.setProperty("width","100%"),f.style.setProperty("height","97%"),f.style.setProperty("margin","0 auto"),p.style.setProperty("text-align","center"),p.style.setProperty("color","white"),c.style.setProperty("position","absolute"),k(d,n),_.style.setProperty("vertical-align","top"),N.style.setProperty("width","100%"),N.style.setProperty("margin","0 auto"),k(x,C(ae,{get each(){return r()},children:(R,ce)=>[(()=>{const ue=No.cloneNode(!0),re=ue.firstChild,ie=re.firstChild,de=ie.nextSibling,$e=de.nextSibling,me=$e.nextSibling,pe=me.firstChild,Me=me.nextSibling,K=Me.nextSibling,Ee=K.nextSibling,ge=Ee.nextSibling;return ge.nextSibling,re.style.setProperty("text-align","left"),re.style.setProperty("color","white"),re.style.setProperty("vertical-align","top"),k(re,()=>R().username,ie),k(de,()=>R().reason),k(me,()=>R().score,pe),k(re,()=>R().hu?(()=>{const ye=Eo.cloneNode(!0),Ce=ye.firstChild;return E(()=>Ce.style.setProperty("width","2"+e.vp)),ye})():null,K),k(re,()=>R().zhuang?(()=>{const ye=Mo.cloneNode(!0),Ce=ye.firstChild;return E(()=>Ce.style.setProperty("width","2"+e.vp)),ye})():null,ge),k(re,()=>R().huPai?(()=>{const ye=Do.cloneNode(!0),Ce=ye.firstChild;return E(xe=>{const Re="./assets/textures/MJ/my/images/"+R().huPai+".png",B="1.5"+e.vp;return Re!==xe._v$12&&ve(Ce,"src",xe._v$12=Re),B!==xe._v$13&&Ce.style.setProperty("width",xe._v$13=B),xe},{_v$12:void 0,_v$13:void 0}),ye})():null,null),E(ye=>{const Ce="3"+e.vp,xe="1.5"+e.vp;return Ce!==ye._v$10&&ue.style.setProperty("height",ye._v$10=Ce),xe!==ye._v$11&&de.style.setProperty("font-size",ye._v$11=xe),ye},{_v$10:void 0,_v$11:void 0}),ue})(),(()=>{const ue=Ao.cloneNode(!0),re=ue.firstChild;return re.style.setProperty("text-align","left"),re.style.setProperty("color","white"),k(re,C(ae,{get each(){return R().angangs},children:(ie,de)=>C(jt,{number:ie,penggangType:"angang",get vp(){return e.vp}})}),null),k(re,C(ae,{get each(){return R().wangangs},children:(ie,de)=>C(jt,{number:ie,penggangType:"wangang",get vp(){return e.vp}})}),null),k(re,C(ae,{get each(){return R().diangangs},children:(ie,de)=>C(jt,{number:ie,penggangType:"diangang",get vp(){return e.vp}})}),null),k(re,C(ae,{get each(){return R().pengs},children:(ie,de)=>C(jt,{number:ie,penggangType:"peng",get vp(){return e.vp}})}),null),k(re,C(ae,{get each(){return R().holds},children:(ie,de)=>C(bo,{number:ie,get vp(){return e.vp}})}),null),E(()=>ue.style.setProperty("line-height","1"+e.vp)),ue})()]})),A.style.setProperty("min-width","42%"),A.style.setProperty("text-align","left"),A.style.setProperty("color","white"),A.style.setProperty("vertical-align","top"),I.style.setProperty("color","chartreuse"),I.style.setProperty("font-weight","bolder"),I.style.setProperty("font-size","16px"),P.style.setProperty("color","chartreuse"),P.style.setProperty("font-weight","bolder"),P.style.setProperty("font-size","16px"),k(P,()=>i().score),G.style.setProperty("color","chartreuse"),G.style.setProperty("font-weight","bolder"),G.style.setProperty("font-size","16px"),k(G,()=>100-i().score),se.style.setProperty("color","chartreuse"),se.style.setProperty("font-weight","bolder"),se.style.setProperty("font-size","16px"),k(se,()=>i().exp),Pe.style.setProperty("text-align","center"),Pe.style.setProperty("vertical-align","bottom"),q.$$click=R=>h(R),q.$$touchend=R=>h(R),q.style.setProperty("width","15%"),E(R=>{const ce="3"+e.vp,ue="5"+e.vp,re="5"+e.vp,ie="2"+e.vp,de="50"+e.vp,$e="1.5"+e.vp,me="1.8"+e.vp,pe=r()?"block":"none",Me=r()?"block":"none";return ce!==R._v$&&p.style.setProperty("height",R._v$=ce),ue!==R._v$2&&c.style.setProperty("left",R._v$2=ue),re!==R._v$3&&c.style.setProperty("top",R._v$3=re),ie!==R._v$4&&d.style.setProperty("font-size",R._v$4=ie),de!==R._v$5&&_.style.setProperty("min-width",R._v$5=de),$e!==R._v$6&&N.style.setProperty("font-size",R._v$6=$e),me!==R._v$7&&A.style.setProperty("font-size",R._v$7=me),pe!==R._v$8&&D.style.setProperty("display",R._v$8=pe),Me!==R._v$9&&M.style.setProperty("display",R._v$9=Me),R},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),f})()};Ie(["touchend","click"]);const To=L("<img>"),Qe=e=>(()=>{const r=To.cloneNode(!0);return r.style.setProperty("display","inline-block"),r.style.setProperty("position","relative"),E(t=>{const n="./assets/textures/MJ/my/images/"+e.number+".png",s="8.5"+e.vp1;return n!==t._v$&&ve(r,"src",t._v$=n),s!==t._v$2&&r.style.setProperty("width",t._v$2=s),t},{_v$:void 0,_v$2:void 0}),r})(),Io=L('<table><tbody><tr><td><div id="GamePlaying"><img src="./assets/textures/images/home.svg"><div id="fullscreen_show"><table><tbody><tr><td><span>进入全屏</span></td></tr></tbody></table></div><div id="fullscreen_show"><table><tbody><tr><td><span>取消全屏</span></td></tr></tbody></table></div><div id="ai_notice_show"><table><tbody><tr><td colspan="3"><span>AI智能教学</span></td></tr><tr><td></td><td>本次AI智能运算教学提示将消耗2金币</td><td></td></tr><tr><td colspan="3"><img src="./assets/textures/images/Login/btn_confirm.png"></td></tr></tbody></table></div><div id="ai_notice">建议出：<!> 理由：<!> <br><div>牌型分析： 搭子：<!>连张：<!>对子：<!>三张：<!>边对：<!>坎对：<!>坎张：<!>孤张：</div></div><div><table><tbody><tr><td><br><span>剩余<!>张</span></td><td><img src="./assets/textures/images/notice.png"></td></tr></tbody></table></div></div><table id="GameOverTable"><tbody><tr><td></td><td></td></tr></tbody></table></td></tr></tbody></table>'),Ro=e=>{const[r,t]=j([]),[n,s]=j([]),[i,o]=j({}),[l,a]=j(null),[h,f]=j(0),[g,y]=j(!0),[p,c]=j([]),[u,d]=j([1,1,1,1,1,1,1,1,1,1,1]),[v,_]=j({}),[N,x]=j(null),[A,D]=j([]),[m,M]=j([1,1,1,1,1,1,1,1,1,1,1]),[I,$]=j({}),[b,P]=j(null),[T,S]=j([]),[H,G]=j([1,1,1,1,1,1,1,1,1,1,1]),[Q,V]=j({}),[J,se]=j(null),[be,Pe]=j(null),[q,R]=j(null),[ce,ue]=j(!1),[re,ie]=j(!1),[de,$e]=j(!1),[me,pe]=j(!1),[Me,K]=j(null),[Ee,ge]=j(!1),[ye,Ce]=j(0),[xe,Re]=j(!1),[B,W]=j(!1),[Z,Y]=j(!1),[z,he]=j(!1),[O,X]=j(0),[le,ne]=j(0),[we,De]=j(0),[fe,et]=j(0),[tt,nt]=j(0),[rt,Le]=j(0),[st,Xe]=j(0),[Je,it]=j(0),[ot,_t]=j(1);let Et=e.gameBegan,ut=e.seats,He=e.emitter,ct=e.net,mr=e.gameNetMgr;const Mt=(w,F)=>{w.preventDefault(),w.stopPropagation(),_t(F),ot()==2?document.documentElement.requestFullscreen():ot()==1&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())},Pr=w=>{if(w==null){console.log("发牌失败："+w);return}ct.send("chupai",w)},cn=w=>{if(w==null)return null;var F=null,ee=w.length;return(ee==2||ee==5||ee==8||ee==11||ee==14)&&ee>h()&&(F=w.pop()),w.sort((te,_e)=>te-_e),F!=null&&w.push(F),ee<h()&&y(!0),f(ee),w};He.on("game_sync",w=>{console.log("game_sync:"),console.log(w);let F=w.seats;for(let te=0;te<F.length;te++)F[te].seatindex=="0"&&mt(F[te]),F[te].seatindex=="1"&&Pt(F[te]),F[te].seatindex=="2"&&bt(F[te]),F[te].seatindex=="3"&&xt(F[te]);e.setGameBegan(!0);let ee=w.data.turn;K(ee),Ce(w.data.numofmj),e.setSeats(F)}),He.on("game_begin",w=>{K(w)}),He.on("mj_count",w=>{Ce(w)}),He.on("game_holds",w=>{for(let F=0;F<w.length;F++)w[F].seatindex=="0"&&mt(w[F]),w[F].seatindex=="1"&&Pt(w[F]),w[F].seatindex=="2"&&bt(w[F]),w[F].seatindex=="3"&&xt(w[F])}),He.on("game_mopai",w=>{let F=[...n()];F.push(w.pai);let ee=cn(F);s(ee)}),He.on("game_over",w=>{console.log("game_over: "),console.log(w),s([]),t([]),o({}),a(null),d([]),c([]),_({}),x(null),M([]),D([]),$({}),P(null),G([]),S([]),V({}),se(null),ge(!0),R(null),$e(!1),ie(!1),ue(!1),pe(!1),K(null);let F=[...ut()],ee=w.data;for(let te=0;te<ee.length;te++)F.score=ee[te].totalscore;F[0].exp=ee[0].exp,console.log(F),e.setSeats(F)}),He.on("hupai",w=>{var F=new Audio("./assets/sounds/nv/hu.mp3");F.play(),ge(!0)}),He.on("game_chupai_notify",w=>{let F=w.pai;var ee=new Audio("./assets/sounds/nv/"+F+".mp3");ee.play(),ee=new Audio("./assets/sounds/give.mp3"),setTimeout(()=>{ee.play()},500);let te=w.seatData;te.seatindex=="0"&&mt(te,F),te.seatindex=="1"&&Pt(te,F),te.seatindex=="2"&&bt(te,F),te.seatindex=="3"&&xt(te,F)}),He.on("game_chupai",w=>{let F=w.turn;K(F)}),He.on("game_action",w=>{w.hu&&(R(w.pai),ue(!0),pe(!0)),w.gang&&(R(w.gangpai[0]),ie(!0),pe(!0)),w.peng&&(R(w.pai),$e(!0),pe(!0))}),He.on("peng_notify",w=>{var F=new Audio("./assets/sounds/nv/peng.mp3");if(F.play(),w.seatindex=="0"&&(mt(w),$t()),w.seatindex=="1"){Pt(w);let ee=0;for(let te=0;te<w.pengs.length;te++)ee+=w.pengs[te];De(ee)}if(w.seatindex=="2"){bt(w);let ee=0;for(let te=0;te<w.pengs.length;te++)ee+=w.pengs[te];nt(ee)}if(w.seatindex=="3"){xt(w);let ee=0;for(let te=0;te<w.pengs.length;te++)ee+=w.pengs[te];Xe(ee)}}),He.on("gang_notify",w=>{let F=w.seatData;var ee=new Audio("./assets/sounds/nv/gang.mp3");ee.play(),new Audio("./assets/sounds/"+w.gangtype+".mp3").play(),F.seatindex=="0"&&(mt(F),$t()),F.seatindex=="1"&&(Pt(F),et(w.pai)),F.seatindex=="2"&&(bt(F),Le(w.pai)),F.seatindex=="3"&&(xt(F),it(w.pai))});const br=(w,F,ee)=>{if(w.preventDefault(),w.stopPropagation(),Y(!1),e.gameNetMgr.turn!=e.gameNetMgr.seatIndex){Pe(null);return}be()==ee?Pr(F):Pe(ee)},xr=()=>{dn(),ct.send("hu")},wr=()=>{ct.send("guo"),$t()},Cr=()=>{ct.send("gang",q()),$t()},Sr=()=>{ct.send("peng"),$t()},kr=()=>{if(ut()[0].score>=50&&ut()[0].userStatus==1){Re(!0);return}ct.send("ready"),dn()},$t=()=>{R(null),ue(!1),pe(!1),ie(!1),$e(!1)},dn=()=>{t([]),s([]),o({}),a(null),Pe(null),c([]),d([]),_({}),x(null),D([]),M([]),$({}),P(null),S([]),G([]),V({}),se(null),ge(!1),R(null),$e(!1),ie(!1),ue(!1),pe(!1),K(null)},mt=(w,F)=>{Pe(null);let ee={...i()};ee.pengs=w.pengs,ee.angangs=w.angangs,ee.wangangs=w.wangangs,ee.diangangs=w.diangangs,o(ee);let te=[...w.holds],_e=cn(te);s(_e);let ke=[...w.folds];(F||F=="0")&&(a(F),ke.push(F)),t(ke)},Pt=(w,F)=>{var ee=w.pengs?.length+w.angangs?.length+w.diangangs?.length+w.wangangs?.length;ee=13-ee*3;let te=[];if(w.seatindex==1)for(let Ne=1;Ne<=ee;Ne++)te.push(1);d(te);let _e={...v()};_e.pengs=w.pengs,_e.angangs=w.angangs,_e.wangangs=w.wangangs,_e.diangangs=w.diangangs,_(_e);let ke=[...w.folds];(F||F=="0")&&(ke.push(F),x(F)),c(ke)},bt=(w,F)=>{var ee=w.pengs?.length+w.angangs?.length+w.diangangs?.length+w.wangangs?.length;ee=13-ee*3;let te=[];if(w.seatindex==2)for(let Ne=1;Ne<=ee;Ne++)te.push(1);M(te);let _e={...I()};_e.pengs=w.pengs,_e.angangs=w.angangs,_e.wangangs=w.wangangs,_e.diangangs=w.diangangs,$(_e);let ke=[...w.folds];(F||F=="0")&&(ke.push(F),P(F)),D(ke)},xt=(w,F)=>{var ee=w.pengs?.length+w.angangs?.length+w.diangangs?.length+w.wangangs?.length;ee=13-ee*3;let te=[];if(w.seatindex==3)for(let Ne=1;Ne<=ee;Ne++)te.push(1);G(te);let _e={...Q()};_e.pengs=w.pengs,_e.angangs=w.angangs,_e.wangangs=w.wangangs,_e.diangangs=w.diangangs,V(_e);let ke=[...w.folds];(F||F=="0")&&(ke.push(F),se(F)),S(ke)},yn=w=>{w.preventDefault(),w.stopPropagation(),console.log("iniPos"),Pe(null),W(!1),Y(!1)},hn=(w,F)=>{w.preventDefault(),w.stopPropagation(),console.log(F),W(F)},fn=(w,F)=>{w.preventDefault(),w.stopPropagation(),W(F),ct.send("ai_notice")};return He.on("ai_notice",w=>{Y(!0);let F={...w};console.log(F),he(F)}),(()=>{const w=Io.cloneNode(!0),F=w.firstChild,ee=F.firstChild,te=ee.firstChild,_e=te.firstChild,ke=_e.firstChild,Ne=ke.nextSibling,Dt=Ne.firstChild,Nr=Dt.firstChild,Ar=Nr.firstChild,We=Ar.firstChild,qe=Ne.nextSibling,Bt=qe.firstChild,Er=Bt.firstChild,Mr=Er.firstChild,Ke=Mr.firstChild,Ue=qe.nextSibling,Tt=Ue.firstChild,Dr=Tt.firstChild,pn=Dr.firstChild,Qt=pn.firstChild,Br=Qt.firstChild,gn=pn.nextSibling,Tr=gn.firstChild,Ir=Tr.nextSibling,Rr=gn.nextSibling,Vt=Rr.firstChild,en=Vt.firstChild,Fe=Ue.nextSibling,Or=Fe.firstChild,vn=Or.nextSibling,Lr=vn.nextSibling,_n=Lr.nextSibling,Hr=_n.nextSibling,Fr=Hr.nextSibling,Ye=Fr.nextSibling,Ur=Ye.firstChild,$n=Ur.nextSibling,zr=$n.nextSibling,mn=zr.nextSibling,Jr=mn.nextSibling,Pn=Jr.nextSibling,qr=Pn.nextSibling,bn=qr.nextSibling,jr=bn.nextSibling,xn=jr.nextSibling,Gr=xn.nextSibling,wn=Gr.nextSibling,Zr=wn.nextSibling,Cn=Zr.nextSibling;Cn.nextSibling;const wt=Fe.nextSibling,Xr=wt.firstChild,Wr=Xr.firstChild,Kr=Wr.firstChild,tn=Kr.firstChild,Sn=tn.firstChild,lt=Sn.nextSibling,Yr=lt.firstChild,kn=Yr.nextSibling;kn.nextSibling;const Qr=tn.nextSibling,It=Qr.firstChild,Rt=_e.nextSibling,Vr=Rt.firstChild,es=Vr.firstChild,Nn=es.firstChild,ts=Nn.nextSibling;return w.$$click=U=>yn(U),w.$$touchend=U=>yn(U),w.style.setProperty("width","100%"),w.style.setProperty("height","100%"),w.style.setProperty("position","absolute"),w.style.setProperty("left","0px"),w.style.setProperty("top","0px"),te.style.setProperty("text-align","center"),te.style.setProperty("vertical-align","middle"),ke.$$click=U=>e.showMainDiv(U,1),ke.$$touchend=U=>e.showMainDiv(U,1),ke.style.setProperty("position","absolute"),Ne.style.setProperty("position","absolute"),Ne.style.setProperty("background-color","cornsilk"),Ne.style.setProperty("z-index","10000000"),Dt.style.setProperty("width","100%"),Dt.style.setProperty("height","100%"),Dt.style.setProperty("margin","0 auto"),We.$$click=U=>Mt(U,2),We.$$touchend=U=>Mt(U,2),We.style.setProperty("background-color","chocolate"),We.style.setProperty("color","white"),We.style.setProperty("width","100%"),We.style.setProperty("height","100%"),We.style.setProperty("border-radius","5px"),We.style.setProperty("text-align","center"),qe.style.setProperty("position","absolute"),qe.style.setProperty("background-color","cornsilk"),qe.style.setProperty("z-index","10000000"),Bt.style.setProperty("width","100%"),Bt.style.setProperty("height","100%"),Bt.style.setProperty("margin","0 auto"),Ke.$$click=U=>Mt(U,1),Ke.$$touchend=U=>Mt(U,1),Ke.style.setProperty("background-color","chocolate"),Ke.style.setProperty("color","white"),Ke.style.setProperty("width","100%"),Ke.style.setProperty("height","100%"),Ke.style.setProperty("border-radius","5px"),Ke.style.setProperty("text-align","center"),Ue.style.setProperty("position","absolute"),Ue.style.setProperty("width","38%"),Ue.style.setProperty("height","50%"),Ue.style.setProperty("background-color","cornsilk"),Ue.style.setProperty("z-index","1000000"),Ue.style.setProperty("left","50%"),Ue.style.setProperty("top","50%"),Ue.style.setProperty("transform","translateY(-60%) translateX(-50%)"),Tt.style.setProperty("width","100%"),Tt.style.setProperty("height","100%"),Tt.style.setProperty("margin","0 auto"),Qt.style.setProperty("height","70px"),Qt.style.setProperty("text-align","center"),Br.style.setProperty("font-size","30px"),Ir.style.setProperty("vertical-align","top"),Vt.style.setProperty("height","100px"),Vt.style.setProperty("text-align","center"),en.$$click=U=>fn(U,!1),en.$$touchend=U=>fn(U,!1),en.style.setProperty("width","90px"),Fe.style.setProperty("position","absolute"),Fe.style.setProperty("padding","10px"),Fe.style.setProperty("text-align","left"),Fe.style.setProperty("background-color","cornsilk"),Fe.style.setProperty("z-index","1000000"),Fe.style.setProperty("left","50%"),Fe.style.setProperty("transform","translateX(-50%)"),k(Fe,C(Qe,{get number(){return z().pai},get vp1(){return e.vp1}}),vn),k(Fe,()=>z().msg,_n),k(Ye,C(ae,{get each(){return z().data?.resDa},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),$n),k(Ye,C(ae,{get each(){return z().data?.resLianzhang},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),mn),k(Ye,C(ae,{get each(){return z().data?.resDui},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),Pn),k(Ye,C(ae,{get each(){return z().data?.resGang},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),bn),k(Ye,C(ae,{get each(){return z().data?.resBianDui},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),xn),k(Ye,C(ae,{get each(){return z().data?.resKanDui},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),wn),k(Ye,C(ae,{get each(){return z().data?.resKanzhang},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),Cn),k(Ye,C(ae,{get each(){return z().data?.resGuzhang},children:(U,je)=>C(Qe,{get number(){return U()},get vp1(){return e.vp1}})}),null),wt.style.setProperty("position","absolute"),wt.style.setProperty("bottom","43%"),wt.style.setProperty("width","200px"),k(tn,C(ki,{turn:Me}),Sn),lt.style.setProperty("position","relative"),lt.style.setProperty("top","-8px"),lt.style.setProperty("width","100%"),lt.style.setProperty("text-align","center"),lt.style.setProperty("color","white"),lt.style.setProperty("font-size","0.8em"),k(lt,()=>ye()||0,kn),It.$$click=U=>hn(U,!0),It.$$touchend=U=>hn(U,!0),It.style.setProperty("width","100px"),It.style.setProperty("z-index","100000"),k(_e,C(Ot,{i:0,seats:ut,bottom:13,left:6,pengNum:O,gangNum:le,get vp(){return e.vp}}),null),k(_e,C(Ot,{i:1,seats:ut,bottom:16,right:2,pengNum:we,gangNum:fe,get vp(){return e.vp}}),null),k(_e,C(Ot,{i:2,seats:ut,top:1,right:11,pengNum:tt,gangNum:rt,get vp(){return e.vp}}),null),k(_e,C(Ot,{i:3,seats:ut,bottom:26,left:2,pengNum:st,gangNum:Je,get vp(){return e.vp}}),null),k(_e,C(Ji,{myLengthMinus:g,holds:n,folds:r,chuPaiId:l,pos:be,setChuPaiId:a,penggangs:i,mjId:q,hued:ce,ganged:re,penged:de,passed:me,handleHuClick:xr,handleGangClick:Cr,handlePengClick:Sr,handlePassClick:wr,handleChuPaiClick:br,get vp(){return e.vp},get vp1(){return e.vp1}}),null),k(_e,C(eo,{holds:u,folds:p,chuPaiId:N,setChuPaiId:x,penggangs:v,mjId:q,hued:ce,ganged:re,penged:de,passed:me,get vp(){return e.vp},get vp1(){return e.vp1}}),null),k(_e,C(mo,{holds:m,folds:A,chuPaiId:b,setChuPaiId:P,penggangs:I,mjId:q,hued:ce,ganged:re,penged:de,passed:me,get vp(){return e.vp}}),null),k(_e,C(uo,{holds:H,folds:T,chuPaiId:J,setChuPaiId:se,penggangs:Q,mjId:q,hued:ce,ganged:re,penged:de,passed:me,get vp(){return e.vp},get vp1(){return e.vp1}}),null),Rt.style.setProperty("width","100%"),Rt.style.setProperty("height","100%"),Nn.style.setProperty("width","5%"),k(ts,C(Bo,{gameNetMgr:mr,emitter:He,handleSetReady:kr,get vp(){return e.vp}})),E(U=>{const je=Et()?"table":"none",An=Ee()?"none":"block",En="2"+e.vp,Mn="2"+e.vp,Dn="5"+e.vp,Bn=ot()==1?"block":"none",Tn="17"+e.vp1,In="5"+e.vp1,Rn="3"+e.vp,On="2"+e.vp,Ln="2.5"+e.vp1,Hn=ot()==2?"block":"none",Fn="17"+e.vp1,Un="5"+e.vp1,zn="3"+e.vp,Jn="2"+e.vp,qn="2.5"+e.vp1,jn=B()?"block":"none",Gn=Z()?"block":"none",Zn="11"+e.vp,Xn="6"+e.vp,Wn="45"+e.vp,Kn=Ee()?"":"none";return je!==U._v$&&w.style.setProperty("display",U._v$=je),An!==U._v$2&&_e.style.setProperty("display",U._v$2=An),En!==U._v$3&&ke.style.setProperty("right",U._v$3=En),Mn!==U._v$4&&ke.style.setProperty("top",U._v$4=Mn),Dn!==U._v$5&&ke.style.setProperty("width",U._v$5=Dn),Bn!==U._v$6&&Ne.style.setProperty("display",U._v$6=Bn),Tn!==U._v$7&&Ne.style.setProperty("width",U._v$7=Tn),In!==U._v$8&&Ne.style.setProperty("height",U._v$8=In),Rn!==U._v$9&&Ne.style.setProperty("left",U._v$9=Rn),On!==U._v$10&&Ne.style.setProperty("top",U._v$10=On),Ln!==U._v$11&&We.style.setProperty("font-size",U._v$11=Ln),Hn!==U._v$12&&qe.style.setProperty("display",U._v$12=Hn),Fn!==U._v$13&&qe.style.setProperty("width",U._v$13=Fn),Un!==U._v$14&&qe.style.setProperty("height",U._v$14=Un),zn!==U._v$15&&qe.style.setProperty("left",U._v$15=zn),Jn!==U._v$16&&qe.style.setProperty("top",U._v$16=Jn),qn!==U._v$17&&Ke.style.setProperty("font-size",U._v$17=qn),jn!==U._v$18&&Ue.style.setProperty("display",U._v$18=jn),Gn!==U._v$19&&Fe.style.setProperty("display",U._v$19=Gn),Zn!==U._v$20&&Fe.style.setProperty("bottom",U._v$20=Zn),Xn!==U._v$21&&Fe.style.setProperty("top",U._v$21=Xn),Wn!==U._v$22&&wt.style.setProperty("left",U._v$22=Wn),Kn!==U._v$23&&Rt.style.setProperty("display",U._v$23=Kn),U},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0}),w})()};Ie(["touchend","click"]);const Oo=L('<div><div id="MainDivShow"></div><div id="MainLoginDiv"><table><tbody><tr><td></td></tr><tr><td><img src="./assets/textures/images/Login/main3.jpg"></td></tr><tr><td>提升技术，远离赌博！</td></tr><tr><td><table><tbody><tr><td><span>加入会员</span></td></tr><tr><td><span>玩家登录</span></td></tr></tbody></table></td></tr><tr><td></td></tr></tbody></table><table id="LoginDiv"><tbody><tr><td></td></tr></tbody></table><div id="JoinDiv"></div></div><div id="GameDiv"><div><img src="./assets/textures/images/mahjong_table.jpg"></div></div></div>'),ir=()=>{let e=document.documentElement.clientWidth,r=document.documentElement.clientHeight;r<window.innerHeight-80&&(r=window.innerHeight-10);let t=e,n=r,s=1;return e<r&&(t=r,n=e,s=2),{width:t,height:n,isMobile:s}},or=e=>{oe.ip=e.ip+":"+e.port,console.log(oe.ip);var r=function(){console.log("onConnectOK");var n={token:e.token,roomid:e.roomid,time:e.time,sign:e.sign};oe.send("login",n)},t=function(){console.log("failed.")};oe.connect(r,t)};let gt=new gs;dt.dataEventHandler=gt;const Lo=e=>{Ze.createRoom(r=>{e(r)})},lr=(e,r)=>{Ze.enterRoom(e,t=>{r(t)})};dt.initHandlers();const Ho=()=>{const[e,r]=j(!1),[t,n]=j({}),[s,i]=j(!1),[o,l]=j(!1),[a,h]=j([]),[f,g]=j(!1),[y,p]=j(1),[c,u]=j(0);let d=ir();console.log(d);let v=d.width,_=d.height,N=d.isMobile;const[x,A]=j(v),[D,m]=j(_),[M,I]=j(N);window.addEventListener("resize",q=>{let R=ir(),ce=R.width,ue=R.height,re=R.isMobile;A(ce),m(ue),I(re)});const $=q=>{Ze.register(q,R=>{if(R.errcode!=0){alert(R.errmsg);return}else alert("注册成功！"),P(q),b(null,1)})},b=(q,R)=>{q&&(q.preventDefault(),q.stopPropagation()),p(R)},P=q=>{console.log("handleLoginClick:"),console.log(q),Ze.auth(q,R=>{if(console.log("userMgr auth"),console.log(R),R.errcode>0){alert(R.errmsg);return}R&&(r(!0),n(R),R.roomData?(i(!0),H()):S())})},T=q=>{q&&(q.preventDefault(),q.stopPropagation());let R=getLocalStorage("account"),ce=getLocalStorage("sign"),ue={account:R,sign:ce,errcode:0};if(!R||!ce){b(null,2);return}else Ze.onAuth(ue,re=>{if(console.log("userMgr onAuth"),console.log(re),re.errcode&&re.errcode!=0){b(null,2);return}re&&(r(!0),n(re),re.roomData?(i(!0),H()):S())})},S=()=>{Lo(q=>{q.errmsg=="ok"&&(i(!0),H())})},H=()=>{t().roomData?lr(t().roomData,q=>{q&&(l(!0),or(q))}):Ze.login(q=>{console.log("userMr login:"),q!="create"&&q&&(r(!0),n(q),lr(t().roomData,R=>{R&&(l(!0),or(R))}))})},G=()=>{l(!1)},Q=()=>{console.log("userMgr: call_robot_enter_room");let q=dt.roomId;console.log(q),oe.send("call_robot_enter_room",q)};gt.on("login_finished",()=>{if(dt.seats[3].name){h(dt.seats),console.log("login_finisdhed,gameNetMgr.seats: "),console.log(a());return}Q(),Q(),Q(),oe.send("ready")}),gt.on("name_changed",q=>{let R=[...dt.seats];R[0].name=q.name,console.log("name_changed,gameNetMgr.seats: "),h(R)}),gt.on("new_user",q=>{let R=[{name:q[0].name,score:q[0].score},{name:q[1].name,score:q[1].score},{name:q[2].name,score:q[2].score},{name:q[3].name,score:q[3].score}];h(R)}),gt.on("game_begin",()=>{g(!0)});const V=()=>x()+"px",J=()=>{let q=null;return(x()==window.outerWidth&&M()==1||M()==2)&&(q=D()+3+"px"),q},se=()=>M()==2?"vh":"vw",be=()=>M()==2?"vw":"vh",Pe=(q,R)=>{q.preventDefault(),q.stopPropagation(),u(R)};return console.log(getLocalStorage("account")),getLocalStorage("account")&&getLocalStorage("sign")&&T(),(()=>{const q=Oo.cloneNode(!0),R=q.firstChild,ce=R.nextSibling,ue=ce.firstChild,re=ue.firstChild,ie=re.firstChild,de=ie.firstChild,$e=ie.nextSibling,me=$e.firstChild,pe=me.firstChild,Me=$e.nextSibling,K=Me.firstChild,Ee=Me.nextSibling,ge=Ee.firstChild,ye=ge.firstChild,Ce=ye.firstChild,xe=Ce.firstChild,Re=xe.firstChild,B=Re.firstChild,W=xe.nextSibling,Z=W.firstChild,Y=Z.firstChild,z=ue.nextSibling,he=z.firstChild,O=he.firstChild,X=O.firstChild,le=z.nextSibling,ne=ce.nextSibling,we=ne.firstChild,De=we.firstChild;return q.style.setProperty("width","100%"),q.style.setProperty("height","100%"),q.style.setProperty("position","relative"),q.style.setProperty("text-align","center"),R.style.setProperty("position","absolute"),R.style.setProperty("z-index","1000000000"),R.style.setProperty("width","100%"),R.style.setProperty("height","100%"),R.style.setProperty("top","0px"),R.style.setProperty("left","0px"),k(R,C(Gs,{get vp(){return se()},get isMobile(){return M()},mainDivShow:c,showMainDiv:Pe})),ce.style.setProperty("max-width","375px"),ce.style.setProperty("width","100%"),ce.style.setProperty("height","100%"),ce.style.setProperty("margin","0 auto"),ue.style.setProperty("width","100%"),ue.style.setProperty("height","100%"),ue.style.setProperty("text-align","center"),de.style.setProperty("height","60px"),me.style.setProperty("height","100px"),pe.style.setProperty("width","240px"),K.style.setProperty("height","120px"),ye.style.setProperty("width","100%"),ye.style.setProperty("text-align","center"),Re.style.setProperty("height","120px"),B.$$click=fe=>b(fe,3),B.$$touchend=fe=>b(fe,3),B.style.setProperty("height","50px"),B.style.setProperty("background-color","chocolate"),B.style.setProperty("color","white"),B.style.setProperty("border-radius","10px"),B.style.setProperty("padding","10px 20px 10px 20px"),Z.style.setProperty("height","60px"),Y.$$click=fe=>T(fe),Y.$$touchend=fe=>T(fe),Y.style.setProperty("height","50px"),Y.style.setProperty("background-color","chocolate"),Y.style.setProperty("color","white"),Y.style.setProperty("border-radius","10px"),Y.style.setProperty("padding","10px 20px 10px 20px"),z.style.setProperty("width","100%"),z.style.setProperty("height","100%"),z.style.setProperty("text-align","center"),X.style.setProperty("vertical-align","top"),k(X,C(_s,{get vp(){return se()},handleMainLoginShowClick:b,handleLoginClick:P})),le.style.setProperty("position","absolute"),le.style.setProperty("z-index","100000000"),le.style.setProperty("width","100%"),le.style.setProperty("max-width","375px"),le.style.setProperty("max-height","400px"),k(le,C(ms,{get vp(){return se()},register:$,handleMainLoginShowClick:b})),ne.style.setProperty("position","absolute"),ne.style.setProperty("left","0px"),ne.style.setProperty("top","0px"),ne.style.setProperty("text-align","center"),ne.style.setProperty("vertical-align","middle"),ne.style.setProperty("transform-origin","0 0"),we.style.setProperty("margin","0 auto"),k(ne,C(Xs,{id:"PrepareDiv",gameBegan:f,seats:a,inviterRobotEnterRoomClick:Q,backToHallClick:G,get vp(){return se()}}),null),k(ne,C(Ro,{id:"game_playing",gameBegan:f,setGameBegan:g,net:oe,setSeats:h,seats:a,emitter:gt,gameNetMgr:dt,get vp(){return se()},get vp1(){return be()},gameWidth:V,gameHeight:J,showMainDiv:Pe,isMobile:M}),null),E(fe=>{const et=c()>0?"block":"none",tt=!e()&&!o()?"block":"none",nt=y()==1?"table":"none",rt=y()==2?"table":"none",Le=y()==3?"block":"none",st=e()&&o()?"table-cell":"none",Xe=M()==2?"rotateZ(90deg) translateY(-99%)":"",Je=V(),it=J();return et!==fe._v$&&R.style.setProperty("display",fe._v$=et),tt!==fe._v$2&&ce.style.setProperty("display",fe._v$2=tt),nt!==fe._v$3&&ue.style.setProperty("display",fe._v$3=nt),rt!==fe._v$4&&z.style.setProperty("display",fe._v$4=rt),Le!==fe._v$5&&le.style.setProperty("display",fe._v$5=Le),st!==fe._v$6&&ne.style.setProperty("display",fe._v$6=st),Xe!==fe._v$7&&ne.style.setProperty("transform",fe._v$7=Xe),Je!==fe._v$8&&De.style.setProperty("width",fe._v$8=Je),it!==fe._v$9&&De.style.setProperty("height",fe._v$9=it),fe},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),q})()};Ie(["touchend","click"]);ys(Ho,document.getElementById("root"));
